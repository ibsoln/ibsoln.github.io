<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push(

{'gtm.start': new Date().getTime(),event:'gtm.js'}
);var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-MVPNN2');</script>
<!-- End Google Tag Manager --><title>Documents&#8201;&#8212;&#8201;Data Model | Couchbase Docs</title>
<link rel="canonical" href="https://ibsoln.github.io/stage/stage300/couchbase-lite/current/swift/document.html">
<link rel="stylesheet" href="../../../_/css/site.css">
<script src="../../../_/js/vendor/jquery.js"></script>
<meta name="description" content="Couchbase Lite concepts -- Data model -- Documents">
<link rel="schema.dcterms" href="https://purl.org/dc/terms/">
<meta name="dcterms.subject" content="couchbase-lite">
<meta name="dcterms.identifier" content="3.0">
<meta name="page-url" content="/couchbase-lite/current/swift/document.html">
<meta name="generator" content="Antora 3.0.0-alpha.6">
<link rel="icon" href="../../../_/img/favicon.ico" type="image/x-icon">
</head>
<body class="article">
<header class="header fixed-top">
  <div class="header-top-row">
      <div class="container">
          <nav class="navbar navbar-expand-md flex-nowrap justify-content-between navbar-new-top">
              <ul class="navbar-brand-list">
                <li class="brand-logo">
                  <a class="navbar-brand" href="https://www.couchbase.com">
                    <img src="../../../_/img/couchbase-logo.svg" alt="Couchbase" />
                  </a>
                </li>
                <li>
                  <a class="navbar-brand cb-documentation" href="https://docs.couchbase.com">
                    <img src="../../../_/img/cb-documentation.svg" alt="Couchbase Documentation" class="cb-docs" />
                    <img src="../../../_/img/cb-docs-hover.svg" alt="Couchbase Documentation" class="hide cb-hover-docs" />
                  </a>
                </li>
              </ul>
              <button class="navbar-burger" data-target="topbar-menu">
                <span></span>
                <span></span>
                <span></span>
              </button>

          </nav>
      </div>
  </div>
  <div class="header-bottom-row" id="topbar-menu">
    <div class="container">
        <nav  class="navbar navbar-new-bottom">

              <div class="navbar-collapse collapse" id="navbar2">
                <ul class="navbar-nav w-100 justify-content-start">
                  <li class="nav-item">
                    <a href="https://ibsoln.github.io/stage/stage300/home/index.html" class="nav-link">
                      <i class="fas fa-home"></i>
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../home/server.html">
                      Server
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../home/mobile.html">
                      Mobile
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../home/cloud.html">
                      Cloud
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../home/sdk.html">
                      SDKs
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../tutorials/index.html">
                      Tutorials
                      <span class="arrow">
                        <i class="fas fa-arrow-right"></i>
                      </span>
                    </a>
                  </li>
                </ul>
              </div>
              <div class="primary-action">
                <a href="https://cloud.couchbase.com/sign-up" class="free-trial-link" onclick="(window.dataLayer=window.dataLayer||[]).push({'event':'customEvent', 'category':'CTA', 'action':'Button Click',  'label':'Free Trial'});" >
                  <i class="fas fa-cloud"></i>
                  Free Trial
                </a>
                <a class="btn btn-primary try-btn"  onclick="(window.dataLayer=window.dataLayer||[]).push({'event':'customEvent', 'category':'CTA', 'action':'Button Click',  'label':'Download'});" href="https://www.couchbase.com/downloads">
                  Downloads
                </a>
              </div>

        </nav>
    </div>
   </div>
</header>
<div class="body container">
<aside class="nav left-sidebar">
  <div class="nav-container">
<div class="components">
  <div class="components_group-title">
    <a href="../../../home/mobile.html">Mobile</a>
  </div>
  <ul class="components_list">
    <li class="components_list-items">
      <div class="component_list-version">
        <span class="component_list_title">Couchbase Lite</span>
        <select class="version_list">
          <option value="3.0" selected>3.0</option>
        </select>
      </div>
      <div class="version_items hide" data-version="3.0">
<ul class="menu_row">
  <li class="menu_list is-parent closed" data-depth="0">
    <span class="menu_line">
      <span class="in-toggle"></span>
      <a class="menu_title menu_link" href="../index.html">Introduction</a>
    </span>
<ul class="menu_row">
  <li class="menu_list" data-depth="1">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../cbl-whatsnew.html">What&#8217;s New</a>
    </span>
  </li>
</ul>
  </li>
  <li class="menu_list is-parent closed" data-depth="0">
    <span class="menu_line">
      <span class="in-toggle"></span>
      <a class="menu_title menu_link" href="../android/quickstart.html">Android</a>
    </span>
<ul class="menu_row">
  <li class="menu_list is-parent closed" data-depth="1">
    <span class="menu_line">
      <span class="in-toggle"></span>
      <a class="menu_title menu_link" href="../android/gs-prereqs.html">Start Here!</a>
    </span>
<ul class="menu_row">
  <li class="menu_list" data-depth="2">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../android/gs-install.html">Install</a>
    </span>
  </li>
  <li class="menu_list" data-depth="2">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../android/gs-build.html">Build and Run</a>
    </span>
  </li>
</ul>
  </li>
  <li class="menu_list" data-depth="1">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../android/database.html">Databases</a>
    </span>
  </li>
  <li class="menu_list" data-depth="1">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../android/prebuilt-database.html">Pre-built Database</a>
    </span>
  </li>
  <li class="menu_list" data-depth="1">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../android/document.html">Documents</a>
    </span>
  </li>
  <li class="menu_list" data-depth="1">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../android/blob.html">Blobs</a>
    </span>
  </li>
  <li class="menu_list is-parent closed" data-depth="1">
    <span class="menu_line">
      <span class="in-toggle"></span>
      <span class="menu_title menu_text">Queries</span>
    </span>
<ul class="menu_row">
  <li class="menu_list" data-depth="2">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../android/querybuilder.html">QueryBuilder</a>
    </span>
  </li>
  <li class="menu_list" data-depth="2">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../android/querybuilder-n1ql.html">N1QL Queries</a>
    </span>
  </li>
  <li class="menu_list" data-depth="2">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../android/query-live.html">Live Query</a>
    </span>
  </li>
  <li class="menu_list" data-depth="2">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../android/query-troubleshooting.html">Query Troubleshooting</a>
    </span>
  </li>
</ul>
  </li>
  <li class="menu_list" data-depth="1">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../android/fts.html">Full Text Search</a>
    </span>
  </li>
  <li class="menu_list" data-depth="1">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../android/indexing.html">Indexing</a>
    </span>
  </li>
  <li class="menu_list is-parent closed" data-depth="1">
    <span class="menu_line">
      <span class="in-toggle"></span>
      <a class="menu_title menu_link" href="../android/landing-replications.html">Data Sync</a>
    </span>
<ul class="menu_row">
  <li class="menu_list" data-depth="2">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../android/dbreplica.html">Intra-Device</a>
    </span>
  </li>
  <li class="menu_list" data-depth="2">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../android/replication.html">Remote Sync Gateway</a>
    </span>
  </li>
  <li class="menu_list is-parent closed" data-depth="2">
    <span class="menu_line">
      <span class="in-toggle"></span>
      <a class="menu_title menu_link" href="../android/p2psync-websocket.html">Peer-to-Peer</a>
    </span>
<ul class="menu_row">
  <li class="menu_list" data-depth="3">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../android/p2psync-websocket-using-passive.html">Passive Peer</a>
    </span>
  </li>
  <li class="menu_list" data-depth="3">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../android/p2psync-websocket-using-active.html">Active Peer</a>
    </span>
  </li>
  <li class="menu_list" data-depth="3">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../android/p2psync-custom.html">Integrate a Custom Listener</a>
    </span>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="menu_list" data-depth="1">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../android/conflict.html">Handling Data Conflicts</a>
    </span>
  </li>
  <li class="menu_list" data-depth="1">
    <span class="menu_line">
      <a class="menu_title menu_link" href="https://ibsoln.github.io/api/mobile/3.0/couchbase-lite-android/">API&#160;References</a>
    </span>
  </li>
  <li class="menu_list" data-depth="1">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../android/dep-upgrade.html">Upgrade</a>
    </span>
  </li>
  <li class="menu_list is-parent closed" data-depth="1">
    <span class="menu_line">
      <span class="in-toggle"></span>
      <span class="menu_title menu_text">Troubleshooting</span>
    </span>
<ul class="menu_row">
  <li class="menu_list" data-depth="2">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../android/troubleshooting-logs.html">Using Logs</a>
    </span>
  </li>
  <li class="menu_list" data-depth="2">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../android/troubleshooting-queries.html">Troubleshooting Queries</a>
    </span>
  </li>
</ul>
  </li>
  <li class="menu_list is-parent closed" data-depth="1">
    <span class="menu_line">
      <span class="in-toggle"></span>
      <span class="menu_title menu_text">Product Notes</span>
    </span>
<ul class="menu_row">
  <li class="menu_list" data-depth="2">
    <span class="menu_line">
      <a class="menu_title menu_link" href="#couchbase-lite:android:{cbl-pg-releasenotes}">Release Notes</a>
    </span>
  </li>
  <li class="menu_list" data-depth="2">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../android/compatibility.html">Compatibility</a>
    </span>
  </li>
  <li class="menu_list" data-depth="2">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../android/supported-os.html">Supported OS</a>
    </span>
  </li>
</ul>
  </li>
  <li class="menu_list" data-depth="1">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../android/refer-glossary.html">Glossary</a>
    </span>
  </li>
</ul>
  </li>
  <li class="menu_list is-parent closed" data-depth="0">
    <span class="menu_line">
      <span class="in-toggle"></span>
      <a class="menu_title menu_link" href="../clang/quickstart.html">C</a>
    </span>
<ul class="menu_row">
  <li class="menu_list is-parent closed" data-depth="1">
    <span class="menu_line">
      <span class="in-toggle"></span>
      <a class="menu_title menu_link" href="../clang/gs-prereqs.html">Start Here!</a>
    </span>
<ul class="menu_row">
  <li class="menu_list" data-depth="2">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../clang/gs-install.html">Install</a>
    </span>
  </li>
  <li class="menu_list" data-depth="2">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../clang/gs-build.html">Build and Run</a>
    </span>
  </li>
</ul>
  </li>
  <li class="menu_list" data-depth="1">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../clang/database.html">Databases</a>
    </span>
  </li>
  <li class="menu_list" data-depth="1">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../clang/prebuilt-database.html">Pre-built Database</a>
    </span>
  </li>
  <li class="menu_list" data-depth="1">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../clang/document.html">Documents</a>
    </span>
  </li>
  <li class="menu_list" data-depth="1">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../clang/blob.html">Blobs</a>
    </span>
  </li>
  <li class="menu_list is-parent closed" data-depth="1">
    <span class="menu_line">
      <span class="in-toggle"></span>
      <span class="menu_title menu_text">Queries</span>
    </span>
<ul class="menu_row">
  <li class="menu_list" data-depth="2">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../clang/querybuilder.html">QueryBuilder</a>
    </span>
  </li>
  <li class="menu_list" data-depth="2">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../clang/querybuilder-n1ql.html">N1QL Queries</a>
    </span>
  </li>
  <li class="menu_list" data-depth="2">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../clang/query-live.html">Live Query</a>
    </span>
  </li>
  <li class="menu_list" data-depth="2">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../clang/query-troubleshooting.html">Query Troubleshooting</a>
    </span>
  </li>
</ul>
  </li>
  <li class="menu_list" data-depth="1">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../clang/fts.html">Full Text Search</a>
    </span>
  </li>
  <li class="menu_list" data-depth="1">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../clang/indexing.html">Indexing</a>
    </span>
  </li>
  <li class="menu_list is-parent closed" data-depth="1">
    <span class="menu_line">
      <span class="in-toggle"></span>
      <a class="menu_title menu_link" href="../clang/landing-replications.html">Data Sync</a>
    </span>
<ul class="menu_row">
  <li class="menu_list" data-depth="2">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../clang/dbreplica.html">Intra-Device</a>
    </span>
  </li>
  <li class="menu_list" data-depth="2">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../clang/replication.html">Remote Sync Gateway</a>
    </span>
  </li>
  <li class="menu_list is-parent closed" data-depth="2">
    <span class="menu_line">
      <span class="in-toggle"></span>
      <a class="menu_title menu_link" href="../clang/p2psync-websocket.html">Peer-to-Peer</a>
    </span>
<ul class="menu_row">
  <li class="menu_list" data-depth="3">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../clang/p2psync-websocket-using-passive.html">Passive Peer</a>
    </span>
  </li>
  <li class="menu_list" data-depth="3">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../clang/p2psync-websocket-using-active.html">Active Peer</a>
    </span>
  </li>
  <li class="menu_list" data-depth="3">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../clang/p2psync-custom.html">Integrate a Custom Listener</a>
    </span>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="menu_list" data-depth="1">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../clang/conflict.html">Handling Data Conflicts</a>
    </span>
  </li>
  <li class="menu_list" data-depth="1">
    <span class="menu_line">
      <a class="menu_title menu_link" href="https://ibsoln.github.io/api/mobile/3.0/couchbase-lite-c">API&#160;References</a>
    </span>
  </li>
  <li class="menu_list" data-depth="1">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../clang/dep-upgrade.html">Upgrade</a>
    </span>
  </li>
  <li class="menu_list is-parent closed" data-depth="1">
    <span class="menu_line">
      <span class="in-toggle"></span>
      <span class="menu_title menu_text">Troubleshooting</span>
    </span>
<ul class="menu_row">
  <li class="menu_list" data-depth="2">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../clang/troubleshooting-logs.html">Using Logs</a>
    </span>
  </li>
  <li class="menu_list" data-depth="2">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../clang/troubleshooting-queries.html">Troubleshooting Queries</a>
    </span>
  </li>
</ul>
  </li>
  <li class="menu_list is-parent closed" data-depth="1">
    <span class="menu_line">
      <span class="in-toggle"></span>
      <span class="menu_title menu_text">Product Notes</span>
    </span>
<ul class="menu_row">
  <li class="menu_list" data-depth="2">
    <span class="menu_line">
      <a class="menu_title menu_link" href="#couchbase-lite:clang:{cbl-pg-releasenotes}">Release Notes</a>
    </span>
  </li>
  <li class="menu_list" data-depth="2">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../clang/compatibility.html">Compatibility</a>
    </span>
  </li>
  <li class="menu_list" data-depth="2">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../clang/supported-os.html">Supported OS</a>
    </span>
  </li>
</ul>
  </li>
  <li class="menu_list" data-depth="1">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../clang/refer-glossary.html">Glossary</a>
    </span>
  </li>
</ul>
  </li>
  <li class="menu_list is-parent closed" data-depth="0">
    <span class="menu_line">
      <span class="in-toggle"></span>
      <a class="menu_title menu_link" href="../csharp/quickstart.html">C#.Net</a>
    </span>
<ul class="menu_row">
  <li class="menu_list is-parent closed" data-depth="1">
    <span class="menu_line">
      <span class="in-toggle"></span>
      <span class="menu_title menu_text">Start Here!</span>
    </span>
<ul class="menu_row">
  <li class="menu_list" data-depth="2">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../csharp/gs-install.html">Install</a>
    </span>
  </li>
  <li class="menu_list" data-depth="2">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../csharp/gs-build.html">Build and Run</a>
    </span>
  </li>
</ul>
  </li>
  <li class="menu_list" data-depth="1">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../csharp/database.html">Databases</a>
    </span>
  </li>
  <li class="menu_list" data-depth="1">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../csharp/prebuilt-database.html">Pre-built Database</a>
    </span>
  </li>
  <li class="menu_list" data-depth="1">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../csharp/document.html">Documents</a>
    </span>
  </li>
  <li class="menu_list" data-depth="1">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../csharp/blob.html">Blobs</a>
    </span>
  </li>
  <li class="menu_list is-parent closed" data-depth="1">
    <span class="menu_line">
      <span class="in-toggle"></span>
      <span class="menu_title menu_text">Queries</span>
    </span>
<ul class="menu_row">
  <li class="menu_list" data-depth="2">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../csharp/querybuilder.html">QueryBuilder</a>
    </span>
  </li>
  <li class="menu_list" data-depth="2">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../csharp/querybuilder-n1ql.html">N1QL Queries</a>
    </span>
  </li>
  <li class="menu_list" data-depth="2">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../csharp/query-live.html">Live Query</a>
    </span>
  </li>
  <li class="menu_list" data-depth="2">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../csharp/query-troubleshooting.html">Query Troubleshooting</a>
    </span>
  </li>
</ul>
  </li>
  <li class="menu_list" data-depth="1">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../csharp/fts.html">Full Text Search</a>
    </span>
  </li>
  <li class="menu_list" data-depth="1">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../csharp/indexing.html">Indexing</a>
    </span>
  </li>
  <li class="menu_list is-parent closed" data-depth="1">
    <span class="menu_line">
      <span class="in-toggle"></span>
      <a class="menu_title menu_link" href="../csharp/landing-replications.html">Data Sync</a>
    </span>
<ul class="menu_row">
  <li class="menu_list" data-depth="2">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../csharp/dbreplica.html">Intra-Device</a>
    </span>
  </li>
  <li class="menu_list" data-depth="2">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../csharp/replication.html">Remote Sync Gateway</a>
    </span>
  </li>
  <li class="menu_list is-parent closed" data-depth="2">
    <span class="menu_line">
      <span class="in-toggle"></span>
      <a class="menu_title menu_link" href="../csharp/p2psync-websocket.html">Peer-to-Peer</a>
    </span>
<ul class="menu_row">
  <li class="menu_list" data-depth="3">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../csharp/p2psync-websocket-using-passive.html">Passive Peer</a>
    </span>
  </li>
  <li class="menu_list" data-depth="3">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../csharp/p2psync-websocket-using-active.html">Active Peer</a>
    </span>
  </li>
  <li class="menu_list" data-depth="3">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../csharp/p2psync-custom.html">Integrate a Custom Listener</a>
    </span>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="menu_list" data-depth="1">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../csharp/conflict.html">Handling Data Conflicts</a>
    </span>
  </li>
  <li class="menu_list" data-depth="1">
    <span class="menu_line">
      <a class="menu_title menu_link" href="https://ibsoln.github.io/api/mobile/3.0/couchbase-lite-net">API&#160;References</a>
    </span>
  </li>
  <li class="menu_list" data-depth="1">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../csharp/dep-upgrade.html">Upgrade</a>
    </span>
  </li>
  <li class="menu_list is-parent closed" data-depth="1">
    <span class="menu_line">
      <span class="in-toggle"></span>
      <span class="menu_title menu_text">Troubleshooting</span>
    </span>
<ul class="menu_row">
  <li class="menu_list" data-depth="2">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../csharp/troubleshooting-logs.html">Using Logs</a>
    </span>
  </li>
  <li class="menu_list" data-depth="2">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../csharp/troubleshooting-queries.html">Troubleshooting Queries</a>
    </span>
  </li>
</ul>
  </li>
  <li class="menu_list is-parent closed" data-depth="1">
    <span class="menu_line">
      <span class="in-toggle"></span>
      <span class="menu_title menu_text">Product Notes</span>
    </span>
<ul class="menu_row">
  <li class="menu_list" data-depth="2">
    <span class="menu_line">
      <a class="menu_title menu_link" href="#couchbase-lite:csharp:{cbl-pg-releasenotes}">Release Notes</a>
    </span>
  </li>
  <li class="menu_list" data-depth="2">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../csharp/compatibility.html">Compatibility</a>
    </span>
  </li>
  <li class="menu_list" data-depth="2">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../csharp/supported-os.html">Supported OS</a>
    </span>
  </li>
</ul>
  </li>
  <li class="menu_list" data-depth="1">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../csharp/refer-glossary.html">Glossary</a>
    </span>
  </li>
</ul>
  </li>
  <li class="menu_list is-parent closed" data-depth="0">
    <span class="menu_line">
      <span class="in-toggle"></span>
      <a class="menu_title menu_link" href="../java/quickstart.html">Java</a>
    </span>
<ul class="menu_row">
  <li class="menu_list is-parent closed" data-depth="1">
    <span class="menu_line">
      <span class="in-toggle"></span>
      <a class="menu_title menu_link" href="../java/gs-prereqs.html">Start Here!</a>
    </span>
<ul class="menu_row">
  <li class="menu_list" data-depth="2">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../java/gs-install.html">Install</a>
    </span>
  </li>
  <li class="menu_list" data-depth="2">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../java/gs-build.html">Build and Run</a>
    </span>
  </li>
</ul>
  </li>
  <li class="menu_list" data-depth="1">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../java/database.html">Databases</a>
    </span>
  </li>
  <li class="menu_list" data-depth="1">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../java/prebuilt-database.html">Pre-built Database</a>
    </span>
  </li>
  <li class="menu_list" data-depth="1">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../java/document.html">Documents</a>
    </span>
  </li>
  <li class="menu_list" data-depth="1">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../java/blob.html">Blobs</a>
    </span>
  </li>
  <li class="menu_list is-parent closed" data-depth="1">
    <span class="menu_line">
      <span class="in-toggle"></span>
      <span class="menu_title menu_text">Queries</span>
    </span>
<ul class="menu_row">
  <li class="menu_list" data-depth="2">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../java/querybuilder.html">QueryBuilder</a>
    </span>
  </li>
  <li class="menu_list" data-depth="2">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../java/querybuilder-n1ql.html">N1QL Queries</a>
    </span>
  </li>
  <li class="menu_list" data-depth="2">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../java/query-live.html">Live Query</a>
    </span>
  </li>
  <li class="menu_list" data-depth="2">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../java/query-troubleshooting.html">Query Troubleshooting</a>
    </span>
  </li>
</ul>
  </li>
  <li class="menu_list" data-depth="1">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../java/fts.html">Full Text Search</a>
    </span>
  </li>
  <li class="menu_list" data-depth="1">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../java/indexing.html">Indexing</a>
    </span>
  </li>
  <li class="menu_list is-parent closed" data-depth="1">
    <span class="menu_line">
      <span class="in-toggle"></span>
      <a class="menu_title menu_link" href="../java/landing-replications.html">Data Sync</a>
    </span>
<ul class="menu_row">
  <li class="menu_list" data-depth="2">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../java/dbreplica.html">Intra-Device</a>
    </span>
  </li>
  <li class="menu_list" data-depth="2">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../java/replication.html">Remote Sync Gateway</a>
    </span>
  </li>
  <li class="menu_list is-parent closed" data-depth="2">
    <span class="menu_line">
      <span class="in-toggle"></span>
      <a class="menu_title menu_link" href="../java/p2psync-websocket.html">Peer-to-Peer</a>
    </span>
<ul class="menu_row">
  <li class="menu_list" data-depth="3">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../java/p2psync-websocket-using-passive.html">Passive Peer</a>
    </span>
  </li>
  <li class="menu_list" data-depth="3">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../java/p2psync-websocket-using-active.html">Active Peer</a>
    </span>
  </li>
  <li class="menu_list" data-depth="3">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../java/p2psync-custom.html">Integrate a Custom Listener</a>
    </span>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="menu_list" data-depth="1">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../java/conflict.html">Handling Data Conflicts</a>
    </span>
  </li>
  <li class="menu_list" data-depth="1">
    <span class="menu_line">
      <a class="menu_title menu_link" href="https://ibsoln.github.io/api/mobile/3.0/couchbase-lite-java/index.html?">API&#160;References</a>
    </span>
  </li>
  <li class="menu_list" data-depth="1">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../java/dep-upgrade.html">Upgrade</a>
    </span>
  </li>
  <li class="menu_list is-parent closed" data-depth="1">
    <span class="menu_line">
      <span class="in-toggle"></span>
      <span class="menu_title menu_text">Troubleshooting</span>
    </span>
<ul class="menu_row">
  <li class="menu_list" data-depth="2">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../java/troubleshooting-logs.html">Using Logs</a>
    </span>
  </li>
  <li class="menu_list" data-depth="2">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../java/troubleshooting-queries.html">Troubleshooting Queries</a>
    </span>
  </li>
</ul>
  </li>
  <li class="menu_list is-parent closed" data-depth="1">
    <span class="menu_line">
      <span class="in-toggle"></span>
      <span class="menu_title menu_text">Product Notes</span>
    </span>
<ul class="menu_row">
  <li class="menu_list" data-depth="2">
    <span class="menu_line">
      <a class="menu_title menu_link" href="#couchbase-lite:java:{cbl-pg-releasenotes}">Release Notes</a>
    </span>
  </li>
  <li class="menu_list" data-depth="2">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../java/compatibility.html">Compatibility</a>
    </span>
  </li>
  <li class="menu_list" data-depth="2">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../java/supported-os.html">Supported OS</a>
    </span>
  </li>
</ul>
  </li>
  <li class="menu_list" data-depth="1">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../java/refer-glossary.html">Glossary</a>
    </span>
  </li>
</ul>
  </li>
  <li class="menu_list is-parent closed" data-depth="0">
    <span class="menu_line">
      <span class="in-toggle"></span>
      <a class="menu_title menu_link" href="../objc/quickstart.html">Objective-C</a>
    </span>
<ul class="menu_row">
  <li class="menu_list is-parent closed" data-depth="1">
    <span class="menu_line">
      <span class="in-toggle"></span>
      <a class="menu_title menu_link" href="../objc/gs-prereqs.html">Start Here!</a>
    </span>
<ul class="menu_row">
  <li class="menu_list" data-depth="2">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../objc/gs-install.html">Install</a>
    </span>
  </li>
  <li class="menu_list" data-depth="2">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../objc/gs-build.html">Build and Run</a>
    </span>
  </li>
</ul>
  </li>
  <li class="menu_list" data-depth="1">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../objc/database.html">Databases</a>
    </span>
  </li>
  <li class="menu_list" data-depth="1">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../objc/prebuilt-database.html">Pre-built Database</a>
    </span>
  </li>
  <li class="menu_list" data-depth="1">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../objc/document.html">Documents</a>
    </span>
  </li>
  <li class="menu_list" data-depth="1">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../objc/blob.html">Blobs</a>
    </span>
  </li>
  <li class="menu_list is-parent closed" data-depth="1">
    <span class="menu_line">
      <span class="in-toggle"></span>
      <span class="menu_title menu_text">Queries</span>
    </span>
<ul class="menu_row">
  <li class="menu_list" data-depth="2">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../objc/querybuilder.html">QueryBuilder</a>
    </span>
  </li>
  <li class="menu_list" data-depth="2">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../objc/querybuilder-n1ql.html">N1QL Queries</a>
    </span>
  </li>
  <li class="menu_list" data-depth="2">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../objc/query-live.html">Live Query</a>
    </span>
  </li>
  <li class="menu_list" data-depth="2">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../objc/query-troubleshooting.html">Query Troubleshooting</a>
    </span>
  </li>
</ul>
  </li>
  <li class="menu_list" data-depth="1">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../objc/fts.html">Full Text Search</a>
    </span>
  </li>
  <li class="menu_list" data-depth="1">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../objc/indexing.html">Indexing</a>
    </span>
  </li>
  <li class="menu_list is-parent closed" data-depth="1">
    <span class="menu_line">
      <span class="in-toggle"></span>
      <a class="menu_title menu_link" href="../objc/landing-replications.html">Data Sync</a>
    </span>
<ul class="menu_row">
  <li class="menu_list" data-depth="2">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../objc/dbreplica.html">Intra-Device</a>
    </span>
  </li>
  <li class="menu_list" data-depth="2">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../objc/replication.html">Remote Sync Gateway</a>
    </span>
  </li>
  <li class="menu_list is-parent closed" data-depth="2">
    <span class="menu_line">
      <span class="in-toggle"></span>
      <a class="menu_title menu_link" href="../objc/p2psync-websocket.html">Peer-to-Peer</a>
    </span>
<ul class="menu_row">
  <li class="menu_list" data-depth="3">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../objc/p2psync-websocket-using-passive.html">Passive Peer</a>
    </span>
  </li>
  <li class="menu_list" data-depth="3">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../objc/p2psync-websocket-using-active.html">Active Peer</a>
    </span>
  </li>
  <li class="menu_list" data-depth="3">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../objc/p2psync-custom.html">Integrate a Custom Listener</a>
    </span>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="menu_list" data-depth="1">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../objc/conflict.html">Handling Data Conflicts</a>
    </span>
  </li>
  <li class="menu_list" data-depth="1">
    <span class="menu_line">
      <a class="menu_title menu_link" href="https://ibsoln.github.io/api/mobile/3.0/couchbase-lite-objc">API&#160;References</a>
    </span>
  </li>
  <li class="menu_list" data-depth="1">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../objc/dep-upgrade.html">Upgrade</a>
    </span>
  </li>
  <li class="menu_list is-parent closed" data-depth="1">
    <span class="menu_line">
      <span class="in-toggle"></span>
      <span class="menu_title menu_text">Troubleshooting</span>
    </span>
<ul class="menu_row">
  <li class="menu_list" data-depth="2">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../objc/troubleshooting-logs.html">Using Logs</a>
    </span>
  </li>
  <li class="menu_list" data-depth="2">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../objc/troubleshooting-queries.html">Troubleshooting Queries</a>
    </span>
  </li>
  <li class="menu_list" data-depth="2">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../objc/troubleshooting-crashes.html">Decoding Crash Logs</a>
    </span>
  </li>
</ul>
  </li>
  <li class="menu_list is-parent closed" data-depth="1">
    <span class="menu_line">
      <span class="in-toggle"></span>
      <span class="menu_title menu_text">Product Notes</span>
    </span>
<ul class="menu_row">
  <li class="menu_list" data-depth="2">
    <span class="menu_line">
      <a class="menu_title menu_link" href="#couchbase-lite:objc:{cbl-pg-releasenotes}">Release Notes</a>
    </span>
  </li>
  <li class="menu_list" data-depth="2">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../objc/compatibility.html">Compatibility</a>
    </span>
  </li>
  <li class="menu_list" data-depth="2">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../objc/supported-os.html">Supported OS</a>
    </span>
  </li>
</ul>
  </li>
  <li class="menu_list" data-depth="1">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../objc/refer-glossary.html">Glossary</a>
    </span>
  </li>
</ul>
  </li>
  <li class="menu_list is-parent closed" data-depth="0">
    <span class="menu_line">
      <span class="in-toggle"></span>
      <a class="menu_title menu_link" href="quickstart.html">Swift</a>
    </span>
<ul class="menu_row">
  <li class="menu_list is-parent closed" data-depth="1">
    <span class="menu_line">
      <span class="in-toggle"></span>
      <a class="menu_title menu_link" href="gs-prereqs.html">Start Here!</a>
    </span>
<ul class="menu_row">
  <li class="menu_list" data-depth="2">
    <span class="menu_line">
      <a class="menu_title menu_link" href="gs-install.html">Install</a>
    </span>
  </li>
  <li class="menu_list" data-depth="2">
    <span class="menu_line">
      <a class="menu_title menu_link" href="gs-build.html">Build and Run</a>
    </span>
  </li>
</ul>
  </li>
  <li class="menu_list" data-depth="1">
    <span class="menu_line">
      <a class="menu_title menu_link" href="database.html">Databases</a>
    </span>
  </li>
  <li class="menu_list" data-depth="1">
    <span class="menu_line">
      <a class="menu_title menu_link" href="prebuilt-database.html">Pre-built Database</a>
    </span>
  </li>
  <li class="menu_list is-current-page" data-depth="1">
    <span class="menu_line">
      <a class="menu_title menu_link is-current-page" href="document.html">Documents</a>
    </span>
  </li>
  <li class="menu_list" data-depth="1">
    <span class="menu_line">
      <a class="menu_title menu_link" href="blob.html">Blobs</a>
    </span>
  </li>
  <li class="menu_list is-parent closed" data-depth="1">
    <span class="menu_line">
      <span class="in-toggle"></span>
      <span class="menu_title menu_text">Queries</span>
    </span>
<ul class="menu_row">
  <li class="menu_list" data-depth="2">
    <span class="menu_line">
      <a class="menu_title menu_link" href="querybuilder.html">QueryBuilder</a>
    </span>
  </li>
  <li class="menu_list" data-depth="2">
    <span class="menu_line">
      <a class="menu_title menu_link" href="querybuilder-n1ql.html">N1QL Queries</a>
    </span>
  </li>
  <li class="menu_list" data-depth="2">
    <span class="menu_line">
      <a class="menu_title menu_link" href="query-live.html">Live Query</a>
    </span>
  </li>
  <li class="menu_list" data-depth="2">
    <span class="menu_line">
      <a class="menu_title menu_link" href="query-troubleshooting.html">Query Troubleshooting</a>
    </span>
  </li>
</ul>
  </li>
  <li class="menu_list" data-depth="1">
    <span class="menu_line">
      <a class="menu_title menu_link" href="fts.html">Full Text Search</a>
    </span>
  </li>
  <li class="menu_list" data-depth="1">
    <span class="menu_line">
      <a class="menu_title menu_link" href="indexing.html">Indexing</a>
    </span>
  </li>
  <li class="menu_list is-parent closed" data-depth="1">
    <span class="menu_line">
      <span class="in-toggle"></span>
      <a class="menu_title menu_link" href="landing-replications.html">Data Sync</a>
    </span>
<ul class="menu_row">
  <li class="menu_list" data-depth="2">
    <span class="menu_line">
      <a class="menu_title menu_link" href="dbreplica.html">Intra-Device</a>
    </span>
  </li>
  <li class="menu_list" data-depth="2">
    <span class="menu_line">
      <a class="menu_title menu_link" href="replication.html">Remote Sync Gateway</a>
    </span>
  </li>
  <li class="menu_list is-parent closed" data-depth="2">
    <span class="menu_line">
      <span class="in-toggle"></span>
      <a class="menu_title menu_link" href="p2psync-websocket.html">Peer-to-Peer</a>
    </span>
<ul class="menu_row">
  <li class="menu_list" data-depth="3">
    <span class="menu_line">
      <a class="menu_title menu_link" href="p2psync-websocket-using-passive.html">Passive Peer</a>
    </span>
  </li>
  <li class="menu_list" data-depth="3">
    <span class="menu_line">
      <a class="menu_title menu_link" href="p2psync-websocket-using-active.html">Active Peer</a>
    </span>
  </li>
  <li class="menu_list" data-depth="3">
    <span class="menu_line">
      <a class="menu_title menu_link" href="p2psync-custom.html">Integrate a Custom Listener</a>
    </span>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="menu_list" data-depth="1">
    <span class="menu_line">
      <a class="menu_title menu_link" href="conflict.html">Handling Data Conflicts</a>
    </span>
  </li>
  <li class="menu_list" data-depth="1">
    <span class="menu_line">
      <a class="menu_title menu_link" href="https://ibsoln.github.io/api/mobile/3.0/couchbase-lite-swift">API&#160;References</a>
    </span>
  </li>
  <li class="menu_list" data-depth="1">
    <span class="menu_line">
      <a class="menu_title menu_link" href="dep-upgrade.html">Upgrade</a>
    </span>
  </li>
  <li class="menu_list is-parent closed" data-depth="1">
    <span class="menu_line">
      <span class="in-toggle"></span>
      <span class="menu_title menu_text">Troubleshooting</span>
    </span>
<ul class="menu_row">
  <li class="menu_list" data-depth="2">
    <span class="menu_line">
      <a class="menu_title menu_link" href="troubleshooting-logs.html">Using Logs</a>
    </span>
  </li>
  <li class="menu_list" data-depth="2">
    <span class="menu_line">
      <a class="menu_title menu_link" href="troubleshooting-queries.html">Troubleshooting Queries</a>
    </span>
  </li>
  <li class="menu_list" data-depth="2">
    <span class="menu_line">
      <a class="menu_title menu_link" href="troubleshooting-crashes.html">Decoding Crash Logs</a>
    </span>
  </li>
</ul>
  </li>
  <li class="menu_list is-parent closed" data-depth="1">
    <span class="menu_line">
      <span class="in-toggle"></span>
      <span class="menu_title menu_text">Product Notes</span>
    </span>
<ul class="menu_row">
  <li class="menu_list" data-depth="2">
    <span class="menu_line">
      <a class="menu_title menu_link" href="#couchbase-lite:swift:{cbl-pg-releasenotes}">Release Notes</a>
    </span>
  </li>
  <li class="menu_list" data-depth="2">
    <span class="menu_line">
      <a class="menu_title menu_link" href="#couchbase-lite:swift:compatibility.adoc">Compatibility</a>
    </span>
  </li>
  <li class="menu_list" data-depth="2">
    <span class="menu_line">
      <a class="menu_title menu_link" href="#couchbase-lite:swift:supported-os.adoc">Supported OS</a>
    </span>
  </li>
</ul>
  </li>
  <li class="menu_list" data-depth="1">
    <span class="menu_line">
      <a class="menu_title menu_link" href="refer-glossary.html">Glossary</a>
    </span>
  </li>
</ul>
  </li>
  <li class="menu_list is-parent closed" data-depth="0">
    <span class="menu_line">
      <span class="in-toggle"></span>
      <a class="menu_title menu_link" href="../javascript.html">JavaScript</a>
    </span>
<ul class="menu_row">
  <li class="menu_list" data-depth="1">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../javascript.html">JavaScript</a>
    </span>
  </li>
</ul>
  </li>
  <li class="menu_list is-parent closed" data-depth="0">
    <span class="menu_line">
      <span class="in-toggle"></span>
      <a class="menu_title menu_link" href="../../../sync-gateway/current/introduction.html">Sync&#160;Gateway</a>
    </span>
<ul class="menu_row">
  <li class="menu_list" data-depth="1">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../../../sync-gateway/current/configuration-schema-static.html">Configure</a>
    </span>
  </li>
  <li class="menu_list" data-depth="1">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../../../sync-gateway/current/rest-api-admin.html">REST API</a>
    </span>
  </li>
</ul>
  </li>
</ul>
      </div>
    </li>
    <li class="components_list-items">
      <div class="component_list-version">
        <span class="component_list_title">Sync Gateway</span>
        <select class="version_list">
          <option value="3.0" selected>3.0</option>
        </select>
      </div>
      <div class="version_items hide" data-version="3.0">
<ul class="menu_row">
  <li class="menu_list is-parent closed" data-depth="0">
    <span class="menu_line">
      <span class="in-toggle"></span>
      <a class="menu_title menu_link" href="../../../sync-gateway/current/introduction.html">Introduction</a>
    </span>
<ul class="menu_row">
  <li class="menu_list" data-depth="1">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../../../sync-gateway/current/index.html">Quick Start</a>
    </span>
  </li>
  <li class="menu_list" data-depth="1">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../../../sync-gateway/current/whatsnew.html">What&#8217;s New</a>
    </span>
  </li>
</ul>
  </li>
  <li class="menu_list is-parent closed" data-depth="0">
    <span class="menu_line">
      <span class="in-toggle"></span>
      <span class="menu_title menu_text">Start Here!</span>
    </span>
<ul class="menu_row">
  <li class="menu_list" data-depth="1">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../../../sync-gateway/current/get-started-prepare.html">Prepare</a>
    </span>
  </li>
  <li class="menu_list" data-depth="1">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../../../sync-gateway/current/get-started-install.html">Install</a>
    </span>
  </li>
  <li class="menu_list" data-depth="1">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../../../sync-gateway/current/get-started-verify-install.html">Verify</a>
    </span>
  </li>
</ul>
  </li>
  <li class="menu_list is-parent closed" data-depth="0">
    <span class="menu_line">
      <span class="in-toggle"></span>
      <a class="menu_title menu_link" href="../../../sync-gateway/current/data-modeling.html">Data Modeling</a>
    </span>
<ul class="menu_row">
  <li class="menu_list" data-depth="1">
    <span class="menu_line">
      <span class="menu_title menu_text"></span>
    </span>
  </li>
</ul>
  </li>
  <li class="menu_list is-parent closed" data-depth="0">
    <span class="menu_line">
      <span class="in-toggle"></span>
      <span class="menu_title menu_text">Configuration</span>
    </span>
<ul class="menu_row">
  <li class="menu_list" data-depth="1">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../../../sync-gateway/current/configuration-overview.html">Configuration Overview</a>
    </span>
  </li>
  <li class="menu_list is-parent closed" data-depth="1">
    <span class="menu_line">
      <span class="in-toggle"></span>
      <span class="menu_title menu_text">Static</span>
    </span>
<ul class="menu_row">
  <li class="menu_list" data-depth="2">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../../../sync-gateway/current/configuration-schema-static.html">Static Configuration Schema</a>
    </span>
  </li>
  <li class="menu_list" data-depth="2">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../../../sync-gateway/current/configuration-javascript-functions.html">Configuration Javascript Functions</a>
    </span>
  </li>
  <li class="menu_list" data-depth="2">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../../../sync-gateway/current/configuration-environment-variables.html">Configuration Environment Variables</a>
    </span>
  </li>
</ul>
  </li>
  <li class="menu_list is-parent closed" data-depth="1">
    <span class="menu_line">
      <span class="in-toggle"></span>
      <span class="menu_title menu_text">Dynamic Persistent</span>
    </span>
<ul class="menu_row">
  <li class="menu_list" data-depth="2">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../../../sync-gateway/current/configuration-schema-bootstrap.html">Bootstrap Configuration Schema</a>
    </span>
  </li>
  <li class="menu_list" data-depth="2">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../../../sync-gateway/current/configuration-schema-database.html">Database Configuration Schema</a>
    </span>
  </li>
  <li class="menu_list" data-depth="2">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../../../sync-gateway/current/configuration-rest-api.html">Configuration REST API</a>
    </span>
  </li>
  <li class="menu_list" data-depth="2">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../../../sync-gateway/current/rest-api-admin-database.html">Database Configuration API</a>
    </span>
  </li>
  <li class="menu_list" data-depth="2">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../../../sync-gateway/current/rest-api-admin-access-control.html">User Configuration API</a>
    </span>
  </li>
  <li class="menu_list" data-depth="2">
    <span class="menu_line">
      <a class="menu_title menu_link" href="#sync-gateway::rest-api-admin-isgr.adoc">Inter-Sync Gateway Configuration API</a>
    </span>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="menu_list is-parent closed" data-depth="0">
    <span class="menu_line">
      <span class="in-toggle"></span>
      <span class="menu_title menu_text">REST API</span>
    </span>
<ul class="menu_row">
  <li class="menu_list" data-depth="1">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../../../sync-gateway/current/rest-api-access.html">REST API Access</a>
    </span>
  </li>
  <li class="menu_list" data-depth="1">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../../../sync-gateway/current/rest-api.html">Public REST API</a>
    </span>
  </li>
  <li class="menu_list" data-depth="1">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../../../sync-gateway/current/rest-api-admin.html">Admin REST API</a>
    </span>
  </li>
  <li class="menu_list" data-depth="1">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../../../sync-gateway/current/rest-api-metrics.html">Metrics REST API</a>
    </span>
  </li>
  <li class="menu_list" data-depth="1">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../../../sync-gateway/current/rest-api-client-app.html">Use the REST API?</a>
    </span>
  </li>
</ul>
  </li>
  <li class="menu_list is-parent closed" data-depth="0">
    <span class="menu_line">
      <span class="in-toggle"></span>
      <span class="menu_title menu_text">Security</span>
    </span>
<ul class="menu_row">
  <li class="menu_list" data-depth="1">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../../../sync-gateway/current/authentication-users.html">User Authentication</a>
    </span>
  </li>
  <li class="menu_list" data-depth="1">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../../../sync-gateway/current/authentication-certs.html">TLS Certificate Authentication</a>
    </span>
  </li>
</ul>
  </li>
  <li class="menu_list is-parent closed" data-depth="0">
    <span class="menu_line">
      <span class="in-toggle"></span>
      <span class="menu_title menu_text">Access Control</span>
    </span>
<ul class="menu_row">
  <li class="menu_list is-parent closed" data-depth="1">
    <span class="menu_line">
      <span class="in-toggle"></span>
      <a class="menu_title menu_link" href="../../../sync-gateway/current/access-control-concepts.html">Concepts</a>
    </span>
<ul class="menu_row">
  <li class="menu_list" data-depth="2">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../../../sync-gateway/current/access-control-model.html">Access control Model</a>
    </span>
  </li>
  <li class="menu_list" data-depth="2">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../../../sync-gateway/current/channels.html">Channels</a>
    </span>
  </li>
  <li class="menu_list" data-depth="2">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../../../sync-gateway/current/roles.html">Roles</a>
    </span>
  </li>
  <li class="menu_list" data-depth="2">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../../../sync-gateway/current/users.html">Users</a>
    </span>
  </li>
</ul>
  </li>
  <li class="menu_list is-parent closed" data-depth="1">
    <span class="menu_line">
      <span class="in-toggle"></span>
      <a class="menu_title menu_link" href="../../../sync-gateway/current/sync-function.html">Sync Function</a>
    </span>
<ul class="menu_row">
  <li class="menu_list" data-depth="2">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../../../sync-gateway/current/sync-function-overview.html">Overview</a>
    </span>
  </li>
  <li class="menu_list is-parent closed" data-depth="2">
    <span class="menu_line">
      <span class="in-toggle"></span>
      <a class="menu_title menu_link" href="../../../sync-gateway/current/sync-function-api.html">API Reference</a>
    </span>
<ul class="menu_row">
  <li class="menu_list" data-depth="3">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../../../sync-gateway/current/sync-function-api-access-cmd.html">access()</a>
    </span>
  </li>
  <li class="menu_list" data-depth="3">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../../../sync-gateway/current/sync-function-api-channel-cmd.html">channel()</a>
    </span>
  </li>
  <li class="menu_list" data-depth="3">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../../../sync-gateway/current/sync-function-api-expiry-cmd.html">expiry()</a>
    </span>
  </li>
  <li class="menu_list" data-depth="3">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../../../sync-gateway/current/sync-function-api-require-access-cmd.html">requireAccess()</a>
    </span>
  </li>
  <li class="menu_list" data-depth="3">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../../../sync-gateway/current/sync-function-api-require-admin-cmd.html">requireAdmin()</a>
    </span>
  </li>
  <li class="menu_list" data-depth="3">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../../../sync-gateway/current/sync-function-api-require-role-cmd.html">requireRole()</a>
    </span>
  </li>
  <li class="menu_list" data-depth="3">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../../../sync-gateway/current/sync-function-api-require-user-cmd.html">requireUser()</a>
    </span>
  </li>
  <li class="menu_list" data-depth="3">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../../../sync-gateway/current/sync-function-api-role-cmd.html">role()</a>
    </span>
  </li>
  <li class="menu_list" data-depth="3">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../../../sync-gateway/current/sync-function-api-throw-cmd.html">throw()</a>
    </span>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="menu_list is-parent closed" data-depth="1">
    <span class="menu_line">
      <span class="in-toggle"></span>
      <a class="menu_title menu_link" href="../../../sync-gateway/current/access-control-how.html">How-To</a>
    </span>
<ul class="menu_row">
  <li class="menu_list" data-depth="2">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../../../sync-gateway/current/access-control-how-create-users.html">Create Users</a>
    </span>
  </li>
  <li class="menu_list" data-depth="2">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../../../sync-gateway/current/access-control-how-create-roles.html">Create Roles</a>
    </span>
  </li>
  <li class="menu_list" data-depth="2">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../../../sync-gateway/current/access-control-how-assign-users-to-roles.html">Assign Users to Roles</a>
    </span>
  </li>
  <li class="menu_list" data-depth="2">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../../../sync-gateway/current/access-control-how-control-document-access.html">Control Document Access</a>
    </span>
  </li>
  <li class="menu_list" data-depth="2">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../../../sync-gateway/current/access-control-how-verify-access.html">Verify Access</a>
    </span>
  </li>
  <li class="menu_list" data-depth="2">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../../../sync-gateway/current/access-control-how-use-xattrs-for-access-grants.html">Use XATTRs for Access Grants</a>
    </span>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="menu_list is-parent closed" data-depth="0">
    <span class="menu_line">
      <span class="in-toggle"></span>
      <span class="menu_title menu_text">Sync</span>
    </span>
<ul class="menu_row">
  <li class="menu_list" data-depth="1">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../../../sync-gateway/current/sync-with-couchbase-server.html">Sync with Couchbase Server</a>
    </span>
  </li>
  <li class="menu_list" data-depth="1">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../../../sync-gateway/current/sync-using-app.html">Sync Using App</a>
    </span>
  </li>
  <li class="menu_list is-parent closed" data-depth="1">
    <span class="menu_line">
      <span class="in-toggle"></span>
      <span class="menu_title menu_text">Inter-Sync Gateway Replication</span>
    </span>
<ul class="menu_row">
  <li class="menu_list" data-depth="2">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../../../sync-gateway/current/sync-inter-syncgateway-overview.html">Overview</a>
    </span>
  </li>
  <li class="menu_list" data-depth="2">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../../../sync-gateway/current/sync-inter-syncgateway-run.html">Initialize</a>
    </span>
  </li>
  <li class="menu_list" data-depth="2">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../../../sync-gateway/current/sync-inter-syncgateway-manage.html">Manage</a>
    </span>
  </li>
  <li class="menu_list" data-depth="2">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../../../sync-gateway/current/sync-inter-syncgateway-monitor.html">Monitor</a>
    </span>
  </li>
  <li class="menu_list" data-depth="2">
    <span class="menu_line">
      <span class="menu_title menu_text">{sgw-xref}sync-inter-syncgateway-conflict-resolution.adoc[Conflict Resolution]</span>
    </span>
  </li>
</ul>
  </li>
  <li class="menu_list" data-depth="1">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../../../sync-gateway/current/revisions.html">Revisions</a>
    </span>
  </li>
  <li class="menu_list" data-depth="1">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../../../sync-gateway/current/what-are-tombstones.html">Tombstones</a>
    </span>
  </li>
  <li class="menu_list" data-depth="1">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../../../sync-gateway/current/managing-tombstones.html">Managing Tombstones</a>
    </span>
  </li>
  <li class="menu_list" data-depth="1">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../../../sync-gateway/current/delta-sync.html">Delta Sync</a>
    </span>
  </li>
  <li class="menu_list" data-depth="1">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../../../sync-gateway/current/resync.html">Resync</a>
    </span>
  </li>
  <li class="menu_list" data-depth="1">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../../../sync-gateway/current/import-filter.html">Import filter</a>
    </span>
  </li>
</ul>
  </li>
  <li class="menu_list is-parent closed" data-depth="0">
    <span class="menu_line">
      <span class="in-toggle"></span>
      <span class="menu_title menu_text">Manage</span>
    </span>
<ul class="menu_row">
  <li class="menu_list" data-depth="1">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../../../sync-gateway/current/stats-monitoring.html">Stats Monitoring</a>
    </span>
  </li>
  <li class="menu_list is-parent closed" data-depth="1">
    <span class="menu_line">
      <span class="in-toggle"></span>
      <span class="menu_title menu_text">Logging and Troubleshooting</span>
    </span>
<ul class="menu_row">
  <li class="menu_list" data-depth="2">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../../../sync-gateway/current/logging.html">Logging</a>
    </span>
  </li>
  <li class="menu_list" data-depth="2">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../../../sync-gateway/current/sgcollect-info.html">SGCollect Info</a>
    </span>
  </li>
</ul>
  </li>
  <li class="menu_list" data-depth="1">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../../../sync-gateway/current/database-offline.html">Database Offline</a>
    </span>
  </li>
</ul>
  </li>
  <li class="menu_list is-parent closed" data-depth="0">
    <span class="menu_line">
      <span class="in-toggle"></span>
      <span class="menu_title menu_text">Deploy</span>
    </span>
<ul class="menu_row">
  <li class="menu_list" data-depth="1">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../../../sync-gateway/current/deployment.html">Overview</a>
    </span>
  </li>
  <li class="menu_list" data-depth="1">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../../../sync-gateway/current/command-line-options.html">Command Line Options</a>
    </span>
  </li>
  <li class="menu_list" data-depth="1">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../../../sync-gateway/current/load-balancer.html">Load Balancer</a>
    </span>
  </li>
  <li class="menu_list" data-depth="1">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../../../sync-gateway/current/os-level-tuning.html">OS-level Tuning</a>
    </span>
  </li>
  <li class="menu_list" data-depth="1">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../../../sync-gateway/current/webhooks.html">Webhooks</a>
    </span>
  </li>
  <li class="menu_list" data-depth="1">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../../../sync-gateway/current/changes-feed.html">Changes Feed</a>
    </span>
  </li>
  <li class="menu_list" data-depth="1">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../../../sync-gateway/current/integrating-external-stores.html">External Stores</a>
    </span>
  </li>
  <li class="menu_list" data-depth="1">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../../../sync-gateway/current/stats-prometheus.html">Prometheus Feed</a>
    </span>
  </li>
  <li class="menu_list" data-depth="1">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../../../sync-gateway/current/indexing.html">Indexing</a>
    </span>
  </li>
  <li class="menu_list" data-depth="1">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../../../sync-gateway/current/setting-up-dr-cluster.html">Disaster Recovery</a>
    </span>
  </li>
</ul>
  </li>
  <li class="menu_list is-parent closed" data-depth="0">
    <span class="menu_line">
      <span class="in-toggle"></span>
      <a class="menu_title menu_link" href="../../../sync-gateway/current/upgrading.html">Upgrade</a>
    </span>
<ul class="menu_row">
  <li class="menu_list" data-depth="1">
    <span class="menu_line">
      <span class="menu_title menu_text"></span>
    </span>
  </li>
</ul>
  </li>
  <li class="menu_list is-parent closed" data-depth="0">
    <span class="menu_line">
      <span class="in-toggle"></span>
      <span class="menu_title menu_text">Use Kubernetes</span>
    </span>
<ul class="menu_row">
  <li class="menu_list" data-depth="1">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../../../sync-gateway/current/deploy-cluster-to-kubernetes.html">Deploy</a>
    </span>
  </li>
  <li class="menu_list" data-depth="1">
    <span class="menu_line">
      <a class="menu_title menu_link" href="#operator::tutorial-sync-gateway-manage.adoc">Manage a Sync Gateway Cluster</a>
    </span>
  </li>
  <li class="menu_list" data-depth="1">
    <span class="menu_line">
      <a class="menu_title menu_link" href="#operator::tutorial-sync-gateway-clients.adoc">Expose Sync Gateway to Couchbase Lite clients</a>
    </span>
  </li>
  <li class="menu_list" data-depth="1">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../../../sync-gateway/current/server-compatibility-collections.html">Collections</a>
    </span>
  </li>
  <li class="menu_list" data-depth="1">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../../../sync-gateway/current/server-compatibility-eventing.html">Eventing</a>
    </span>
  </li>
  <li class="menu_list" data-depth="1">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../../../sync-gateway/current/server-compatibility-transactions.html">Transactions</a>
    </span>
  </li>
  <li class="menu_list" data-depth="1">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../../../sync-gateway/current/server-compatibility-xdcr.html">XDCR</a>
    </span>
  </li>
</ul>
  </li>
  <li class="menu_list is-parent closed" data-depth="0">
    <span class="menu_line">
      <span class="in-toggle"></span>
      <span class="menu_title menu_text">Product Notes</span>
    </span>
<ul class="menu_row">
  <li class="menu_list" data-depth="1">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../../../sync-gateway/current/release-notes.html">Release Notes</a>
    </span>
  </li>
  <li class="menu_list" data-depth="1">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../../../sync-gateway/current/supported-environments.html">Supported Environments</a>
    </span>
  </li>
  <li class="menu_list" data-depth="1">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../../../sync-gateway/current/compatibility.html">Compatibility Matrix</a>
    </span>
  </li>
</ul>
  </li>
  <li class="menu_list is-parent closed" data-depth="0">
    <span class="menu_line">
      <span class="in-toggle"></span>
      <span class="menu_title menu_text">Legacy Features</span>
    </span>
<ul class="menu_row">
  <li class="menu_list" data-depth="1">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../../../sync-gateway/current/legacy-sgreplicate-resolving-conflicts.html">SG-Replicate - Resolving Conflicts (depr)</a>
    </span>
  </li>
  <li class="menu_list" data-depth="1">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../../../sync-gateway/current/legacy-sg-replicate.html">SG-Replicate</a>
    </span>
  </li>
  <li class="menu_list" data-depth="1">
    <span class="menu_line">
      <a class="menu_title menu_link" href="../../../sync-gateway/current/legacy-logging-pre2-1.html">Legacy Logging Pre2 1</a>
    </span>
  </li>
</ul>
  </li>
  <li class="menu_list is-parent closed" data-depth="0">
    <span class="menu_line">
      <span class="in-toggle"></span>
      <a class="menu_title menu_link" href="../../../sync-gateway/current/glossary.html">Glossary</a>
    </span>
<ul class="menu_row">
  <li class="menu_list" data-depth="1">
    <span class="menu_line">
      <span class="menu_title menu_text"></span>
    </span>
  </li>
</ul>
  </li>
</ul>
      </div>
    </li>
  </ul>
</div>
    <a href="#" class="menu-expand-toggle"><span>Navigation</span><i class="fas fa-times-circle"></i><i class="fas fa-chevron-circle-left"></i></a>
  </div>
</aside>
<aside class="toc sidebar">
  <div class="sidebar-box">
    <div class="tools" role="navigation">
<ul>
<li class="tool edit"><a href="file:///Users/ianbridge/CouchbaseDocs/bau/cbl/modules/swift/pages/document.adoc" title="Edit Page" target="_blank" rel="noopener">Edit on GitHub</a></li>
</ul>
</div>
    <div class="toc-menu"></div>
    <div class="is-this-helpful-box">
      <h4> Is this page helpful?</h4>
      <div class="btn-row">
        <a href="#" class="like-btn helpful-btn" id="yesBtn" data-page-rating="like" >
                <i class="far fa-thumbs-up"></i>
            Yes

            </a>
        <a href="#" class="dislike-btn helpful-btn" id="noBtn"  data-page-rating="dislike"> <i class="far fa-thumbs-down"></i> No</a>
      </div>
      <div class="any-feedback">
        <a href="#" class="btn any-feedback-btn" id="myCustomTrigger">Leave Additional Feedback? </a>
      </div>
      <div class="dialog-box" id="dialogBox">
        <form>
            <div class="form-group " id="additionalFeedbackBox">
              <textarea class="input-control feed-back-msg" rows="8" placeholder="Any Additonal Feedback?"></textarea>

              <div class="action-btn-row ">
                <a href="#" class="skip-btn" id="skipBtnMsg">Skip</a>
                  <button class="submit-btn btn blue-btn disabled" > Submit  </button>
                  <a href="#" class="info-btn"><i class="fas fa-info-circle"></i></a>
              </div>


            </div>

        </form>

      </div>
    </div>
  </div>

</aside>

<div class="feedback-modal modal-popup">
  <div class="modal-popup-dialogue">
    <div class="popup-header">
      <a href="#" class="close-popup"><i class="fa fa-times"></i></a>
    </div>
    <div class="popup-content">
      <p>
        Please use the form below to provide your feedback. Because your feedback is valuable to us,
         the information you submit in this form is recorded in our issue tracking system (JIRA), which is publicly available.
        You can track the status of your feedback using the ticket number displayed in the dialog once you submit the form.
      </p>
    </div>
  </div>
</div>

<main class="article" data-ceiling="topbar">
<div class="article-header">
<nav class="crumbs" aria-label="breadcrumbs">
<ul>
<li class="crumb"><a href="../index.html">Couchbase Lite</a></li>
<li class="crumb"><a href="quickstart.html">Swift</a></li>
<li class="crumb"><a href="document.html">Documents</a></li>
</ul>
</nav>
</div>
<article class="doc">
<div class="page-heading-title">
<h1 class="page">Documents&#8201;&#8212;&#8201;Data Model</h1>
</div>
<div class="contributor-list-box">
<span class="last-commit-date" id="commitdate">    </span>
<ul id="contributorList"></ul>
<span  id="otherContributor"> + </span>
</div><div id="preamble">
<div class="sectionbody">
<div class="quoteblock abstract pendingDocumentIds()">
<blockquote>
<div class="paragraph">
<p>Description&#8201;&#8212;&#8201;<em>Couchbase Lite concepts&#8201;&#8212;&#8201;Data model&#8201;&#8212;&#8201;Documents</em><br>
Related Content&#8201;&#8212;&#8201;<a href="database.html" class="page">Databases</a> | <a href="blob.html" class="page">Blobs</a> | <a href="indexing.html" class="page">Indexing</a> |</p>
</div>
</blockquote>
</div>
</div>
</div>
<div class="sect1">
<h2 id="overview"><a class="anchor" href="#overview"></a>Overview</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In Couchbase Lite, a document&#8217;s body is stored in an internal, efficient, binary form.
This internal form is easily converted into a manageable native dictionary format for manipulation in applications by using the <code>toDictionary()</code> method.
It then appears as collection of key-value (k-v) pairs where the values can be different types of data such as numbers, strings, arrays or even nested objects.</p>
</div>
<div class="paragraph">
<p>Every document is identified by a document ID, which can be automatically generated (as a UUID) or specified programmatically;
the only constraints are that it must be unique within the database, and it can&#8217;t be changed.</p>
</div>
<div class="paragraph">
<p>Couchbase Lite also provides for the direct handling of JSON data, whether as an object or a string. This applied to native types such as documents, blobs and arrays).
This approach is implemented in most cases by the provision of a <code>toJSON()</code> method on appropriate API classes (for example, on MutableDocument, Dictionary, Blob and Array)&#8201;&#8212;&#8201;see <a href="#lbl-json-data">Working with JSON Data</a>.
Used in conjunction with an appropriate serialization/de-serialization strategy this provides for a flexible data manipulation.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="initializers"><a class="anchor" href="#initializers"></a>Initializers</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following methods/initializers can be used:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The <a href="https://ibsoln.github.io/api/mobile/3.0/couchbase-lite-swift/Classes/MutableDocument.html#/s:18CouchbaseLiteSwift15MutableDocumentCACycfc">MutableDocument()</a> initializer can be used to create a new document where the document ID is randomly generated by the database.</p>
</li>
<li>
<p>The <a href="https://ibsoln.github.io/api/mobile/3.0/couchbase-lite-swift/Classes/MutableDocument.html#/s:18CouchbaseLiteSwift15MutableDocumentC2idACSSSg_tcfc">MutableDocument(String id)</a> initializer can be used to create a new document with a specific ID.</p>
</li>
<li>
<p>The <a href="https://ibsoln.github.io/api/mobile/3.0/couchbase-lite-swift/Classes/Database.html#/s:18CouchbaseLiteSwift8DatabaseC8document6withIDAA8DocumentCSgSS_tF">Database.document(withID:)</a> method can be used to get a document.
If it doesn&#8217;t exist in the database, it will return <code>null</code>.
This method can be used to check if a document with a given ID already exists in the database.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The following code example creates a document and persists it to the database.</p>
</div>
<div class="exampleblock">
<div class="title">Example 1. Persist a document</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-swift hljs" data-lang="swift">let newTask = MutableDocument()
    .setString("task", forKey: "type")
    .setString("todo", forKey: "owner")
    .setDate(Date(), forKey: "createdAt")
try database.saveDocument(newTask)</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="mutability"><a class="anchor" href="#mutability"></a>Mutability</h2>
<div class="sectionbody">
<div class="paragraph">
<p>By default, when a document is read from the database it is immutable.
The <a href="https://ibsoln.github.io/api/mobile/3.0/couchbase-lite-swift/Classes/Document.html#/s:18CouchbaseLiteSwift8DocumentC9toMutableAA0fD0CyF">Document.toMutable()</a> method should be used to create an instance of the document which can be updated.</p>
</div>
<div class="exampleblock">
<div class="title">Example 2. Make a mutable document</div>
<div class="content">
<div class="paragraph">
<p>Changes to the document are persisted to the database when the <code>save</code> method is called.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-swift hljs" data-lang="swift" data-source-url="https://github.com/ibsoln/docs-couchbase-lite/blob/undefined/modules/swift/examples/code_snippets/SampleCodeTest.swift#L133-L136">guard let document = database.document(withID: "xyz") else { return }
let mutableDocument = document.toMutable()
mutableDocument.setString("apples", forKey: "name")
try database.saveDocument(mutableDocument)</code></pre>
</div>
</div>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Any user change to the value of reserved keys (<code>_id</code>, <code>_rev</code> or <code>_deleted</code>) will be detected when a document is saved and will result in an exception (Error Code 5&#8201;&#8212;&#8201;<code>CorruptRevisionData</code>)&#8201;&#8212;&#8201;see also <a href="#document-constraints">[document-constraints]</a>.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="typed-accessors"><a class="anchor" href="#typed-accessors"></a>Typed Accessors</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="scalar-type"><a class="anchor" href="#scalar-type"></a>Scalar type</h3>
<div class="paragraph">
<p>The <code>Document</code> class now offers a set of <a href="https://ibsoln.github.io/api/mobile/3.0/couchbase-lite-swift/Classes/DictionaryObject.html">property accessors</a> for various scalar types, including boolean, integers, floating-point and strings.
These accessors take care of converting to/from JSON encoding, and make sure you get the type you&#8217;re expecting.</p>
</div>
</div>
<div class="sect2">
<h3 id="date-accessors"><a class="anchor" href="#date-accessors"></a>Date accessors</h3>
<div class="paragraph">
<p>In addition, as a convenience we offer <code>Date</code> accessors.
Dates are a common data type, but JSON doesn&#8217;t natively support them, so the convention is to store them as strings in ISO-8601 format.
The following example sets the date on the <code>createdAt</code> property and reads it back using the <a href="https://ibsoln.github.io/api/mobile/3.0/couchbase-lite-swift/Classes/Document.html#/s:18CouchbaseLiteSwift8DocumentC4date6forKey10Foundation4DateVSgSS_tF">Document.date()</a> accessor method.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-swift hljs" data-lang="swift" data-source-url="https://github.com/ibsoln/docs-couchbase-lite/blob/undefined/modules/swift/examples/code_snippets/SampleCodeTest.swift#L144-L145">newTask.setValue(Date(), forKey: "createdAt")
let date = newTask.date(forKey: "createdAt")</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="checking-for-properties"><a class="anchor" href="#checking-for-properties"></a>Checking for properties</h3>
<div class="paragraph">
<p>To check whether a given property exists in the document, you should use the <a href="https://ibsoln.github.io/api/mobile/3.0/couchbase-lite-swift/Classes/Document.html#/s:18CouchbaseLiteSwift8DocumentC8contains3keySbSS_tF">Document.Contains(key:)</a> method.</p>
</div>
<div class="paragraph">
<p>If the property doesn&#8217;t exist in the document it will return the default value for that getter method (0 for <a href="https://ibsoln.github.io/api/mobile/3.0/couchbase-lite-swift/Classes/Document.html#/s:18CouchbaseLiteSwift8DocumentC3int6forKeySiSS_tF">Document.int()</a> 0.0 for <a href="https://ibsoln.github.io/api/mobile/3.0/couchbase-lite-swift/Classes/Document.html#/s:18CouchbaseLiteSwift8DocumentC5float6forKeySfSS_tF">Document.float()</a> etc.).</p>
</div>
</div>
<div class="sect2">
<h3 id="document-conversion"><a class="anchor" href="#document-conversion"></a>Document Conversion</h3>
<div class="paragraph">
<p>A <code>Document</code> can be converted to a plain dictionary type and-or to a JSON string.
This can often be useful to pass the document contents as a plain object to another method.</p>
</div>
<div class="exampleblock">
<div class="title">Example 3. Convert document</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-swift hljs" data-lang="swift">newTask.toDictionary() <i class="conum" data-value="1"></i><b>(1)</b>


newTask.toJSON() <i class="conum" data-value="2"></i><b>(2)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Returns a Dictionary&lt;String, Any&gt;</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Returns a JSON string</td>
</tr>
</table>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lbl-json-data"><a class="anchor" href="#lbl-json-data"></a>Working with JSON Data</h2>
<div class="sectionbody">
<div class="dlist">
<dl>
<dt class="hdlist1">In this section</dt>
<dd>
<p><a href="#lbl-array">Arrays</a>
| <a href="#lbl-blob">Blobs</a>
| <a href="#lbl-dictionary">Dictionaries</a>
| <a href="#lbl-document">Documents</a>
| <a href="#lbl-result">Query Results as JSON</a></p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>The <code>toJSON()</code> typed-accessor means you can easily work with JSON data, native and Couchbase Lite objects.</p>
</div>
<div class="sect2">
<h3 id="lbl-array"><a class="anchor" href="#lbl-array"></a>Arrays</h3>
<div class="paragraph">
<p>Convert an <code>ArrayObject</code> to and from JSON using the <code>toJSON()</code> and <code>toArray</code> methods&#8201;&#8212;&#8201;see: <a href="#ex-array">Example 4</a>.</p>
</div>
<div class="paragraph">
<p>Additionally you can:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Initialize a 'MutableArrayObject' using data supplied as a JSON string.
This is done using the <code>init(json)</code> constructor-- see: <a href="#ex-array">Example 4</a></p>
</li>
<li>
<p>Convert an <code>ArrayFragment</code> object to a JSON String</p>
</li>
<li>
<p>Set data with a JSON string using <code>setJSON()</code></p>
</li>
</ul>
</div>
<div id="ex-array" class="exampleblock">
<div class="title">Example 4. Arrays as JSON strings</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-swift hljs" data-lang="swift">let thisJSONstring = """
    [{\"id\":\"1000\",\"type\":\"hotel\",\"name\":\"Hotel Ted\",\"city\":\"Paris\",
    \"country\":\"France\",\"description\":\"Undefined description for Hotel Ted\"},
    {\"id\":\"1001\",\"type\":\"hotel\",\"name\":\"Hotel Fred\",\"city\":\"London\",
    \"country\":\"England\",\"description\":\"Undefined description for Hotel Fred\"},
    {\"id\":\"1002\",\"type\":\"hotel\",\"name\":\"Hotel Ned\",\"city\":\"Balmain\",
    \"country\":\"Australia\",\"description\":\"Undefined description for Hotel Ned\",
    \"features\":[\"Cable TV\",\"Toaster\",\"Microwave\"]}]
    """
let myArray:MutableArrayObject =
    try! MutableArrayObject.init(json: thisJSONstring) <i class="conum" data-value="1"></i><b>(1)</b>

for i in 0...myArray.count-1 {

    print(i+1, myArray.dictionary(at: i)!.string(forKey: "name")!)

    var docid = myArray.dictionary(at: i)!.string(forKey: "id")

    var newdoc:MutableDocument = <i class="conum" data-value="2"></i><b>(2)</b>
        try! MutableDocument(id: docid,
                 data: (myArray.dictionary(at: i)?.toDictionary())! )

    try! dbnew.saveDocument(newdoc)

}

let extendedDoc = dbnew.document(withID: "1002")
let features =
    extendedDoc!.array(forKey: "features")?.toArray() <i class="conum" data-value="3"></i><b>(3)</b>
for i in 0...features!.count-1 {
    print(features![i])
}

print( extendedDoc!.array(
        forKey: "features")?.toJSON() as! String) <i class="conum" data-value="4"></i><b>(4)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Initialize array with JSON string</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Create and save new document using the array</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Get native array object from new doc and print its elements</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Get an array from the document as a JSON string
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-swift hljs" data-lang="swift">1 Hotel Ted
2 Hotel Fred
3 Hotel Ned

Cable TV
Toaster
Microwave

["Cable TV","Toaster","Microwave"]</code></pre>
</div>
</div></td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="lbl-blob"><a class="anchor" href="#lbl-blob"></a>Blobs</h3>
<div class="paragraph">
<p>Convert a <code>Blob</code> to JSON using the <code>toJSON</code> method&#8201;&#8212;&#8201;see <a href="#ex-blob">Example 5</a>.</p>
</div>
<div class="paragraph">
<p>You can also check whether a given dictionary object is a blob, or not, using <code>isBlob()</code>&#8201;&#8212;&#8201;again, see <a href="#ex-blob">Example 5</a>.</p>
</div>
<div class="paragraph">
<p>Note that the blob object must first be saved to the database (generating required metadata) before you can use the <code>toJSON</code> method.</p>
</div>
<div id="ex-blob" class="exampleblock">
<div class="title">Example 5. Blobs as JSON strings</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-swift hljs" data-lang="swift" data-source-url="https://github.com/ibsoln/docs-couchbase-lite/blob/undefined/modules/swift/examples/code_snippets/SampleCodeTest.swift#L716-L733">
var thisdoc =
      database.document(withID: "thisdoc-id").toDictionary(); <i class="conum" data-value="1"></i><b>(1)</b>

// var image: UIImage!

// let appleImage = UIImage(named: "avatar.jpg")!
// let imageData = UIImageJPEGRepresentation(appleImage, 1)!

// let blob = Blob(contentType: "image/jpeg", data: imageData)
// newTask.setBlob(blob, forKey: "avatar")
// try database.saveDocument(newTask)

if thisdoc.isBlob() { <i class="conum" data-value="2"></i><b>(2)</b>
  let blobdata = thisdoc.toJson() <i class="conum" data-value="3"></i><b>(3)</b>
  var blobtype = blobdata["type"] <i class="conum" data-value="4"></i><b>(4)</b>
  var bloblength = blobdata["length"]
}</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="lbl-dictionary"><a class="anchor" href="#lbl-dictionary"></a>Dictionaries</h3>
<div class="paragraph">
<p>Convert a <code>DictionaryObject</code> to and from JSON using the <code>toJSON</code> and <code>toDictionary</code> methods&#8201;&#8212;&#8201;see <a href="#ex-dictionary">Example 6</a>.</p>
</div>
<div class="paragraph">
<p>Additionally you can:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Initialize a 'MutableDictionaryObject' using data supplied as a JSON string.
This is done using the <code>init(json)</code> constructor-- see: <a href="#ex-dictionary">Example 6</a></p>
</li>
<li>
<p>Set data with a JSON string using <code>setJSON()</code></p>
</li>
</ul>
</div>
<div id="ex-dictionary" class="exampleblock">
<div class="title">Example 6. Dictionaries as JSON strings</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-swift hljs" data-lang="swift">var aJSONstring = """
    {\"id\":\"1002\",\"type\":\"hotel\",\"name\":\"Hotel Ned\",\"city\":\"Balmain\",
    \"country\":\"Australia\",\"description\":\"Undefined description for Hotel Ned\"}
    """

let myDict:MutableDictionaryObject =
    try! MutableDictionaryObject(json: aJSONstring) <i class="conum" data-value="1"></i><b>(1)</b>
print(myDict)

let name = myDict.string(forKey: "name")
print("Details for: ", name!)

for key in myDict {

    print(key, myDict.value(forKey: key) as! String)

}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Set the dictionary using a JSON string
<div class="listingblock">
<div class="title">Output</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-swift hljs" data-lang="swift">Details for:  Hotel Ned
description Undefined description for Hotel Ned
id 1002
name Hotel Ned
country Australia
type hotel
city Balmain</code></pre>
</div>
</div></td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="lbl-document"><a class="anchor" href="#lbl-document"></a>Documents</h3>
<div class="paragraph">
<p>Convert a <code>Document</code> to and from JSON strings using the <code>toJSON()</code> and <code>setJSON()</code> methods&#8201;&#8212;&#8201;see <a href="#ex-document">Example 7</a>.</p>
</div>
<div class="paragraph">
<p>Additionally you can:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Initialize a 'MutableDocument' using data supplied as a JSON string.
This is done using the <code>init(json)</code> and-or <code>init(id: json:)</code> constructor-- see: <a href="#ex-document">Example 7</a></p>
</li>
<li>
<p>Set data with a JSON string using <code>setJSON()</code></p>
</li>
</ul>
</div>
<div id="ex-document" class="exampleblock">
<div class="title">Example 7. Documents as JSON strings</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-swift hljs" data-lang="swift">let db = try! Database(name: "hotel")
let dbnew = try! Database(name: "newhotels")
var hotels = [String:Any]()

let listQuery = QueryBuilder
    .select(SelectResult.expression(Meta.id).as("metaId"))
    .from(DataSource.database(db))


for row in try! listQuery.execute() {
    var thisId = row.string(forKey: "metaId")! as String

    var thisJSONstring = try! db.document(withID: thisId)!.toJSON() <i class="conum" data-value="1"></i><b>(1)</b>

    print("JSON String = ", thisJSONstring as! String)

    let hotelFromJSON:MutableDocument = <i class="conum" data-value="2"></i><b>(2)</b>
            try! MutableDocument(id: thisId as? String, json: thisJSONstring)

    try! dbnew.saveDocument(hotelFromJSON)

    let newhotel = dbnew.document(withID: thisId)

    let keys = newhotel!.keys
    for key in keys { <i class="conum" data-value="3"></i><b>(3)</b>
        print(key, newhotel!.value(forKey: key) as! String)
    }</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Get as document as a JSON string</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Initialize a MutableDocument using the JSON string and save to a seperate database</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Retrieve the document created from JSON and print values
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-swift hljs" data-lang="swift">JSON String =  {"description":"Very good and central","id":"1000","country":"France","name":"Hotel Ted","type":"hotel","city":"Paris"}
type hotel
id 1000
country France
city Paris
description Very good and central
name Hotel Ted</code></pre>
</div>
</div></td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="lbl-result"><a class="anchor" href="#lbl-result"></a>Query Results as JSON</h3>
<div class="paragraph">
<p>Convert a <code>Query Result</code> to JSON using its <code>toJSON()</code> accessor method.</p>
</div>
<div class="paragraph">
<p>Use <a href="https://ibsoln.github.io/api/mobile/3.0/couchbase-lite-swift/Classes/Result.htmls:18CouchbaseLiteSwift6ResultC6toJSONSSyF">result.toJSON()</a> to transform your result string into a JSON string, which can easily be serialized or used as required in your application. See <a href="#ex-json">Example 8</a> for a working example.</p>
</div>
<div id="ex-json" class="exampleblock">
<div class="title">Example 8. Using JSON Results</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-swift hljs" data-lang="swift"></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Get the Query result as a JSON string</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Get a JSON object from the JSON string</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Get a native object from the JSON object</td>
</tr>
</table>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="batch-operations"><a class="anchor" href="#batch-operations"></a>Batch operations</h2>
<div class="sectionbody">
<div class="paragraph">
<p>If you&#8217;re making multiple changes to a database at once, it&#8217;s faster to group them together.
The following example persists a few documents in batch.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-swift hljs" data-lang="swift" data-source-url="https://github.com/ibsoln/docs-couchbase-lite/blob/undefined/modules/swift/examples/code_snippets/SampleCodeTest.swift#L163-L176">do {
    try database.inBatch {
        for i in 0...10 {
            let doc = MutableDocument()
            doc.setValue("user", forKey: "type")
            doc.setValue("user \(i)", forKey: "name")
            doc.setBoolean(false, forKey: "admin")
            try database.saveDocument(doc)
            print("saved user document \(doc.string(forKey: "name")!)")
        }
    }
} catch let error {
    print(error.localizedDescription)
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>At the <strong>local</strong> level this operation is still transactional: no other <code>Database</code> instances, including ones managed by the replicator can make changes during the execution of the block, and other instances will not see partial changes.
But Couchbase Mobile is a distributed system, and due to the way replication works, there&#8217;s no guarantee that Sync Gateway or other devices will receive your changes all at once.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="document-change-events"><a class="anchor" href="#document-change-events"></a>Document change events</h2>
<div class="sectionbody">
<div class="paragraph">
<p>It&#8217;s also possible to register for document changes.
The following example registers for changes to the document with ID <code>user.john</code> and prints the <code>verified_account</code> property.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-swift hljs" data-lang="swift" data-source-url="https://github.com/ibsoln/docs-couchbase-lite/blob/undefined/modules/swift/examples/code_snippets/SampleCodeTest.swift#L184-L188">database.addDocumentChangeListener(withID: "user.john") { (change) in
    if let document = self.database.document(withID: change.documentID) {
        print("Status :: \(document.string(forKey: "verified_account")!)")
    }
}</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="document-expiration"><a class="anchor" href="#document-expiration"></a>Document Expiration</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Document expiration allows users to set the expiration date to a document.
When the document is expired, the document will be purged from the database.
The purge will not be replicated to Sync Gateway.</p>
</div>
<div class="paragraph">
<p>The following example sets the TTL for a document to 5 minutes from the current time.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-swift hljs" data-lang="swift" data-source-url="https://github.com/ibsoln/docs-couchbase-lite/blob/undefined/modules/swift/examples/code_snippets/SampleCodeTest.swift#L196-L212">// Purge the document one day from now
let ttl = Calendar.current.date(byAdding: .day, value: 1, to: Date())
try database.setDocumentExpiration(withID: "doc123", expiration: ttl)

// Reset expiration
try db.setDocumentExpiration(withID: "doc1", expiration: nil)

// Query documents that will be expired in less than five minutes
let fiveMinutesFromNow = Date(timeIntervalSinceNow: 60 * 5).timeIntervalSince1970
let query = QueryBuilder
    .select(SelectResult.expression(Meta.id))
    .from(DataSource.database(db))
    .where(
        Meta.expiration.lessThan(
            Expression.double(fiveMinutesFromNow)
        )
    )</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lbl-doc-constraints"><a class="anchor" href="#lbl-doc-constraints"></a>Document Constraints</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Couchbase Lite APIs do not explicitly disallow the use of attributes with the underscore prefix at the top level of document.
This is to facilitate the creation of documents for use either in <em>local only</em> mode where documents are not synced, or when used exclusively in peer-to-peer sync.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
"_id", :"_rev" and "_sequence" are reserved keywords and must not be used as top-level attributes&#8201;&#8212;&#8201;see <a href="#res-keys">Example 9</a>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Users are cautioned that any attempt to sync such documents to Sync Gateway will result in an error.
To be future proof, you are advised to avoid creating such documents.
Use of these attributes for user-level data may result in undefined system behavior.</p>
</div>
<div class="paragraph">
<p>For more guidance&#8201;&#8212;&#8201;see: <a href="../../../sync-gateway/current/data-modeling.html" class="page">Sync Gateway - data modeling guidelines</a></p>
</div>
<div id="res-keys" class="exampleblock">
<div class="title">Example 9. Reserved Keys List</div>
<div class="content">
<div class="ulist">
<ul>
<li>
<p>_attachments</p>
</li>
<li>
<p>_deleted <sup class="footnote" id="_footnote_fn1">[<a id="_footnoteref_1" class="footnote" href="#_footnotedef_1" title="View footnote.">1</a>]</sup></p>
</li>
<li>
<p>_id <sup class="footnoteref">[<a class="footnote" href="#_footnotedef_1" title="View footnote.">1</a>]</sup></p>
</li>
<li>
<p>_removed</p>
</li>
<li>
<p>_rev <sup class="footnoteref">[<a class="footnote" href="#_footnotedef_1" title="View footnote.">1</a>]</sup></p>
</li>
<li>
<p>_sequence</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="related-content"><a class="anchor" href="#related-content"></a>Related Content</h2>
<div class="sectionbody">
<div class="card-row three-column-row">
<div class="sect5 column">
<h6 id=""><a class="anchor" href="#"></a></h6>
<div class="ulist">
<div class="title">How to . . .</div>
<ul>
<li>
<p><a href="gs-prereqs.html" class="page">Prerequisites</a></p>
</li>
<li>
<p><a href="gs-install.html" class="page">Install</a></p>
</li>
<li>
<p><a href="gs-build.html" class="page">Build and Run</a></p>
</li>
</ul>
</div>
</div>
<div class="sect5 column">
<h6 id="-2"><a class="anchor" href="#-2"></a></h6>
<div class="ulist">
<div class="title">Learn more . . .</div>
<ul>
<li>
<p><a href="database.html" class="page">Databases</a></p>
</li>
<li>
<p><a href="document.html" class="page">Documents</a></p>
</li>
<li>
<p><a href="blob.html" class="page">Blobs</a></p>
</li>
<li>
<p><a href="replication.html" class="page">Remote Sync using Sync Gateway</a></p>
</li>
<li>
<p><a href="conflict.html" class="page">Handling Data Conflicts</a></p>
</li>
</ul>
</div>
</div>
<div class="sect5 column">
<h6 id="-3"><a class="anchor" href="#-3"></a></h6>
<div class="ulist">
<div class="title">Dive Deeper . . .</div>
<ul>
<li>
<p><a href="https://forums.couchbase.com/c/mobile/14">Forum</a> <strong>|</strong> <a href="https://blog.couchbase.com/">Blog</a> <strong>|</strong> <a href="https://docs.couchbase.com/tutorials/index.html">Tutorials</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="footnotes">
<hr>
<div class="footnote" id="_footnotedef_1">
<a href="#_footnoteref_1">1</a>. Any change to this reserved key will be detected when it is saved and will result in a Couchbase exception (Error Code 5&#8201;&#8212;&#8201;`CorruptRevisionData`)
</div>
</div>
</article>
</main>
</div>
<footer class="footer">
  <div class="container">
    <div class="footer-links">
      <div class="col">
        <div class="footer-logo">
          <a href="https://www.couchbase.com" class="icon">
            <img src="../../../_/img/couchbase-logo.svg" alt="Couchbase">
          </a>
        </div>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://docs.couchbase.com" target="_blank" rel="noopener">Documentation</a></li>
          <li><a href="https://forums.couchbase.com" target="_blank" rel="noopener">Forums</a></li>
          <li><a href="https://support.couchbase.com" target="_blank" rel="noopener">Support</a></li>
        </ul>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://developer.couchbase.com" target="_blank" rel="noopener">Developer Portal</a></li>
          <li><a href="https://blog.couchbase.com" target="_blank" rel="noopener">Blog</a></li>
          <li><a href="https://www.couchbase.com/resources">Resources</a></li>
        </ul>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://www.couchbase.com/get-started-developing-nosql">Get Started</a></li>
          <li><a href="https://www.couchbase.com/downloads">Downloads</a></li>
          <li><a href="https://learn.couchbase.com/store?utf8=%E2%9C%93&ss=1&ct=78327&commit=Filter" target="_blank" rel="noopener">Training</a></li>
        </ul>
      </div>
      <div class="col">
        <ul class="social-icons">
          <li>
            <svg  width="14" height="14" viewBox="0 0 32 32"> <path id="facebook" class="cls-1" d="M29,0H3A2.652,2.652,0,0,0,0,3V29a2.652,2.652,0,0,0,3,3H16V18H12V14h4V12a6.452,6.452,0,0,1,6-6h4v4H22a2.151,2.151,0,0,0-2,2v2h6l-1,4H20V32h9a2.652,2.652,0,0,0,3-3V3A2.652,2.652,0,0,0,29,0Z"/></svg>
            <a href="https://www.facebook.com/Couchbase" class="icon">
            Facebook
            </a>
          </li>
          <li>
            <svg  width="14" height="14" viewBox="0 0 32.1 26.1"> <path id="twitter" class="cls-1" d="M32,7.1a11.836,11.836,0,0,1-3.8,1,6.462,6.462,0,0,0,2.9-3.6,12.606,12.606,0,0,1-4.2,1.6A6.492,6.492,0,0,0,22.1,4a6.594,6.594,0,0,0-6.6,6.6,7.719,7.719,0,0,0,.2,1.5A18.458,18.458,0,0,1,2.2,5.2a6.294,6.294,0,0,0-.9,3.3A6.765,6.765,0,0,0,4.2,14a6.109,6.109,0,0,1-3-.8v.1a6.543,6.543,0,0,0,5.3,6.4,4.678,4.678,0,0,1-1.7.2,4.869,4.869,0,0,1-1.2-.1,6.679,6.679,0,0,0,6.1,4.6,12.917,12.917,0,0,1-8.2,2.8,9.151,9.151,0,0,1-1.6-.1,18.438,18.438,0,0,0,10.1,3c12.1,0,18.7-10,18.7-18.7v-.8A13.336,13.336,0,0,0,32,7.2Z" transform="translate(0.1 -4)"/></svg>
            <a href="https://twitter.com/couchbase" class="icon">
              Twitter
            </a>
          </li>
          <li>
          <svg  width="14" height="14" viewBox="0 0 32 32"> <path id="linkedin" class="cls-1" d="M29,0H3A3.076,3.076,0,0,0,0,3V29a3.009,3.009,0,0,0,3,3H29a2.946,2.946,0,0,0,3-3V3A3.009,3.009,0,0,0,29,0ZM12,26H8V12h4ZM10,10a2,2,0,1,1,2-2A2.006,2.006,0,0,1,10,10ZM26,26H22V18a2,2,0,0,0-4,0v8H14V12h4v2.5c.8-1.1,2.1-2.5,3.5-2.5A4.736,4.736,0,0,1,26,17Z"/></svg>
              <a href="https://www.linkedin.com/company/couchbase" class="icon">
             Linkedin
            </a>
          </li>
        </ul>
      </div>
    </div>
    <div class="footer-terms">
      <div class="footer-terms-copyright">
          <span> 2021 Couchbase, Inc. Couchbase, Couchbase Lite and the Couchbase logo are registered trademarks of Couchbase, Inc.</span>
      </div>
      <div class="footer-terms-links">
        <a href="https://www.couchbase.com/terms-of-use">Terms of Use</a>
        <a href="https://www.couchbase.com/privacy-policy">Privacy Policy</a>
        <a href="https://www.couchbase.com/cookie-policy">Cookie Policy</a>
        <a href="https://www.couchbase.com/support-policy">Support Policy</a>
        <a href="https://info.couchbase.com/unsubscribe-or-manage-preferences.html" target="_blank" rel="noopener">Marketing Preference Center</a>
      </div>
    </div>
  </div>
</footer>
<script src="../../../_/js/site.js"></script>
<script async src="../../../_/js/vendor/fontawesome-icon-defs.js"></script>
<script async src="../../../_/js/vendor/fontawesome.js"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
</body>
</html>
