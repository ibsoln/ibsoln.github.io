<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>N1QL Query Strings | Couchbase Docs</title>
<link rel="canonical" href="https://ibsoln.github.io/stage/stage300/couchbase-lite/3.0/csharp/querybuilder-n1ql.html">
<link rel="stylesheet" href="../../../_/css/site.css">
<script src="../../../_/js/vendor/jquery.js"></script>
<meta name="description" content="How to use N1QL Query Strings to build effective queries with Couchbase Lite on C#">
<meta name="keywords" content="sql, n1ql">
<link rel="schema.dcterms" href="https://purl.org/dc/terms/">
<meta name="dcterms.subject" content="couchbase-lite">
<meta name="dcterms.identifier" content="3.0">
<meta name="generator" content="Antora 2.3.3">
<link rel="icon" href="../../../_/img/favicon.ico" type="image/x-icon">
</head>
<body class="article">
<header class="header fixed-top">
  <div class="header-top-row">
      <div class="container">
          <nav class="navbar navbar-expand-md flex-nowrap justify-content-between navbar-new-top">
              <ul class="navbar-brand-list">
                <li class="brand-logo">
                  <a class="navbar-brand" href="https://www.couchbase.com">
                    <img src="../../../_/img/couchbase-logo.svg" alt="Couchbase" />
                  </a>
                </li>
                <li>
                  <a class="navbar-brand cb-documentation" href="https://docs.couchbase.com">
                    <img src="../../../_/img/cb-documentation.svg" alt="Couchbase Documentation" class="cb-docs" />
                    <img src="../../../_/img/cb-docs-hover.svg" alt="Couchbase Documentation" class="hide cb-hover-docs" />
                  </a>
                </li>
              </ul>
              <button class="navbar-burger" data-target="topbar-menu">
                <span></span>
                <span></span>
                <span></span>
              </button>

          </nav>
      </div>
  </div>
  <div class="header-bottom-row" id="topbar-menu">
    <div class="container">
        <nav  class="navbar navbar-new-bottom">

              <div class="navbar-collapse collapse" id="navbar2">
                <ul class="navbar-nav w-100 justify-content-start">
                  <li class="nav-item">
                    <a href="https://ibsoln.github.io/stage/stage300/home/index.html" class="nav-link">
                      <i class="fas fa-home"></i>
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../home/server.html">
                      Server
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../home/mobile.html">
                      Mobile
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../home/cloud.html">
                      Cloud
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../home/sdk.html">
                      SDKs
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../../tutorials/index.html">
                      Tutorials
                      <span class="arrow">
                        <i class="fas fa-arrow-right"></i>
                      </span>
                    </a>
                  </li>
                </ul>
              </div>
              <div class="primary-action">
                <form class="navbar-item search">
                  <input type="text" placeholder="Search Docs" class="query" id="search-query" />
                  <button type="button" class="search-btn">
                    <i class="fas fa-search"></i>
                  </button>
                </form>
                <a class="btn btn-primary try-btn" href="https://www.couchbase.com/downloads">
                  Downloads
                </a>
              </div>

        </nav>
    </div>
   </div>
</header>
<div class="body container">
<nav class="nav">
<div class="left-sidebar-menu">
<div class="version-control-box">
<div class="component-frame">
<div class="frame-icon">
<img src="../../../_/img/server-icon.png" alt="">
</div>
<div class="frame-body">
<h4 class="title"><span class="">Couchbase Lite</span></h4>
<a class="frame-link component" href="../index.html"> <span class="version">3.0</span></a>
</div>
</div>
</div>
<div class="nav-menu">
<ul class="nav-list">
<li class="nav-item " data-depth="0">

<span class="nav-line "  data-depth="0">
<span class="in-toggle" data-depth="0"></span>
<a class="nav-link" href="../index.html">Introduction</a>
</span>
<ul class="nav-list">
<li class="nav-item  is-inactive " data-depth="1">

<span class="nav-line "  data-depth="1">
<a class="nav-link" href="../cbl-whatsnew.html">What&#8217;s New</a>
</span>
</li>
</ul>
</li>
<li class="nav-item " data-depth="0">

<span class="nav-line "  data-depth="0">
<span class="in-toggle" data-depth="0"></span>
<a class="nav-link" href="../android/quickstart.html">Android</a>
</span>
<ul class="nav-list">
<li class="nav-item  is-inactive " data-depth="1">

<span class="nav-line "  data-depth="1">
<span class="in-toggle" data-depth="1"></span>
<a class="nav-link" href="../android/gs-prereqs.html">Start Here!</a>
</span>
<ul class="nav-list">
<li class="nav-item " data-depth="2">

<span class="nav-line "  data-depth="2">
<a class="nav-link" href="../android/gs-install.html">Install</a>
</span>
</li>
<li class="nav-item " data-depth="2">

<span class="nav-line "  data-depth="2">
<a class="nav-link" href="../android/gs-build.html">Build and Run</a>
</span>
</li>
</ul>
</li>
<li class="nav-item  is-inactive " data-depth="1">

<span class="nav-line "  data-depth="1">
<a class="nav-link" href="../android/database.html">Databases</a>
</span>
</li>
<li class="nav-item  is-inactive " data-depth="1">

<span class="nav-line "  data-depth="1">
<a class="nav-link" href="../android/prebuilt-database.html">Pre-built Database</a>
</span>
</li>
<li class="nav-item  is-inactive " data-depth="1">

<span class="nav-line "  data-depth="1">
<a class="nav-link" href="../android/document.html">Documents</a>
</span>
</li>
<li class="nav-item  is-inactive " data-depth="1">

<span class="nav-line "  data-depth="1">
<a class="nav-link" href="../android/blob.html">Blobs</a>
</span>
</li>
<li class="nav-item  is-inactive " data-depth="1">

<span class="nav-line "  data-depth="1">
<span class="in-toggle" data-depth="1"></span>
<span class="nav-text ">Queries</span>
</span>
<ul class="nav-list">
<li class="nav-item " data-depth="2">

<span class="nav-line "  data-depth="2">
<a class="nav-link" href="../android/querybuilder.html">QueryBuilder</a>
</span>
</li>
<li class="nav-item " data-depth="2">

<span class="nav-line "  data-depth="2">
<a class="nav-link" href="../android/querybuilder-n1ql.html">N1QL Queries</a>
</span>
</li>
<li class="nav-item " data-depth="2">

<span class="nav-line "  data-depth="2">
<a class="nav-link" href="../android/query-live.html">Live Query</a>
</span>
</li>
<li class="nav-item " data-depth="2">

<span class="nav-line "  data-depth="2">
<a class="nav-link" href="../android/query-troubleshooting.html">Query Troubleshooting</a>
</span>
</li>
</ul>
</li>
<li class="nav-item  is-inactive " data-depth="1">

<span class="nav-line "  data-depth="1">
<a class="nav-link" href="../android/fts.html">Full Text Search</a>
</span>
</li>
<li class="nav-item  is-inactive " data-depth="1">

<span class="nav-line "  data-depth="1">
<a class="nav-link" href="../android/indexing.html">Indexing</a>
</span>
</li>
<li class="nav-item  is-inactive " data-depth="1">

<span class="nav-line "  data-depth="1">
<span class="in-toggle" data-depth="1"></span>
<a class="nav-link" href="../android/landing-replications.html">Data Sync</a>
</span>
<ul class="nav-list">
<li class="nav-item " data-depth="2">

<span class="nav-line "  data-depth="2">
<a class="nav-link" href="../android/dbreplica.html">Intra-Device</a>
</span>
</li>
<li class="nav-item " data-depth="2">

<span class="nav-line "  data-depth="2">
<a class="nav-link" href="../android/replication.html">Remote Sync Gateway</a>
</span>
</li>
<li class="nav-item " data-depth="2">

<span class="nav-line "  data-depth="2">
<span class="in-toggle" data-depth="2"></span>
<a class="nav-link" href="../android/p2psync-websocket.html">Peer-to-Peer</a>
</span>
<ul class="nav-list">
<li class="nav-item " data-depth="3">

<span class="nav-line "  data-depth="3">
<a class="nav-link" href="../android/p2psync-websocket-using-passive.html">Passive Peer</a>
</span>
</li>
<li class="nav-item " data-depth="3">

<span class="nav-line "  data-depth="3">
<a class="nav-link" href="../android/p2psync-websocket-using-active.html">Active Peer</a>
</span>
</li>
<li class="nav-item " data-depth="3">

<span class="nav-line "  data-depth="3">
<a class="nav-link" href="../android/p2psync-custom.html">Integrate a Custom Listener</a>
</span>
</li>
</ul>
</li>
</ul>
</li>
<li class="nav-item  is-inactive " data-depth="1">

<span class="nav-line "  data-depth="1">
<a class="nav-link" href="../android/conflict.html">Handling Data Conflicts</a>
</span>
</li>
<li class="nav-item  is-inactive " data-depth="1">

<span class="nav-line "  data-depth="1">
<a class="nav-link" href="https://ibsoln.github.io/api/mobile/3.0/couchbase-lite-android/">API&#160;References</a>
</span>
</li>
<li class="nav-item  is-inactive " data-depth="1">

<span class="nav-line "  data-depth="1">
<a class="nav-link" href="../android/dep-upgrade.html">Upgrade</a>
</span>
</li>
<li class="nav-item  is-inactive " data-depth="1">

<span class="nav-line "  data-depth="1">
<span class="in-toggle" data-depth="1"></span>
<span class="nav-text ">Troubleshooting</span>
</span>
<ul class="nav-list">
<li class="nav-item " data-depth="2">

<span class="nav-line "  data-depth="2">
<a class="nav-link" href="../android/troubleshooting-logs.html">Using Logs</a>
</span>
</li>
<li class="nav-item " data-depth="2">

<span class="nav-line "  data-depth="2">
<a class="nav-link" href="../android/troubleshooting-queries.html">Troubleshooting Queries</a>
</span>
</li>
</ul>
</li>
<li class="nav-item  is-inactive " data-depth="1">

<span class="nav-line "  data-depth="1">
<span class="in-toggle" data-depth="1"></span>
<span class="nav-text ">Product Notes</span>
</span>
<ul class="nav-list">
<li class="nav-item " data-depth="2">

<span class="nav-line "  data-depth="2">
<a class="nav-link" href="#couchbase-lite:android:{cbl-pg-releasenotes}">Release Notes</a>
</span>
</li>
<li class="nav-item " data-depth="2">

<span class="nav-line "  data-depth="2">
<a class="nav-link" href="../android/compatibility.html">Compatibility</a>
</span>
</li>
<li class="nav-item " data-depth="2">

<span class="nav-line "  data-depth="2">
<a class="nav-link" href="../android/supported-os.html">Supported OS</a>
</span>
</li>
</ul>
</li>
<li class="nav-item  is-inactive " data-depth="1">

<span class="nav-line "  data-depth="1">
<a class="nav-link" href="../android/refer-glossary.html">Glossary</a>
</span>
</li>
</ul>
</li>
<li class="nav-item is-current-path is-active is-active-depth-2  " data-depth="0">

<span class="nav-line "  data-depth="0">
<span class="in-toggle" data-depth="0"></span>
<a class="nav-link" href="quickstart.html">C#.Net</a>
</span>
<ul class="nav-list">
<li class="nav-item  is-inactive " data-depth="1">

<span class="nav-line "  data-depth="1">
<span class="in-toggle" data-depth="1"></span>
<span class="nav-text ">Start Here!</span>
</span>
<ul class="nav-list">
<li class="nav-item " data-depth="2">

<span class="nav-line "  data-depth="2">
<a class="nav-link" href="gs-install.html">Install</a>
</span>
</li>
<li class="nav-item " data-depth="2">

<span class="nav-line "  data-depth="2">
<a class="nav-link" href="gs-build.html">Build and Run</a>
</span>
</li>
</ul>
</li>
<li class="nav-item  is-inactive " data-depth="1">

<span class="nav-line "  data-depth="1">
<a class="nav-link" href="database.html">Databases</a>
</span>
</li>
<li class="nav-item  is-inactive " data-depth="1">

<span class="nav-line "  data-depth="1">
<a class="nav-link" href="prebuilt-database.html">Pre-built Database</a>
</span>
</li>
<li class="nav-item  is-inactive " data-depth="1">

<span class="nav-line "  data-depth="1">
<a class="nav-link" href="document.html">Documents</a>
</span>
</li>
<li class="nav-item  is-inactive " data-depth="1">

<span class="nav-line "  data-depth="1">
<a class="nav-link" href="blob.html">Blobs</a>
</span>
</li>
<li class="nav-item is-current-path is-active is-active-depth-2  " data-depth="1">

<span class="nav-line "  data-depth="1">
<span class="in-toggle" data-depth="1"></span>
<span class="nav-text ">Queries</span>
</span>
<ul class="nav-list">
<li class="nav-item " data-depth="2">

<span class="nav-line "  data-depth="2">
<a class="nav-link" href="querybuilder.html">QueryBuilder</a>
</span>
</li>
<li class="nav-item is-current-page is-active is-active-depth-2  " data-depth="2">

<span class="nav-line "  data-depth="2">
<a class="nav-link" href="querybuilder-n1ql.html">N1QL Queries</a>
</span>
</li>
<li class="nav-item " data-depth="2">

<span class="nav-line "  data-depth="2">
<a class="nav-link" href="query-live.html">Live Query</a>
</span>
</li>
<li class="nav-item " data-depth="2">

<span class="nav-line "  data-depth="2">
<a class="nav-link" href="query-troubleshooting.html">Query Troubleshooting</a>
</span>
</li>
</ul>
</li>
<li class="nav-item  is-inactive " data-depth="1">

<span class="nav-line "  data-depth="1">
<a class="nav-link" href="fts.html">Full Text Search</a>
</span>
</li>
<li class="nav-item  is-inactive " data-depth="1">

<span class="nav-line "  data-depth="1">
<a class="nav-link" href="indexing.html">Indexing</a>
</span>
</li>
<li class="nav-item  is-inactive " data-depth="1">

<span class="nav-line "  data-depth="1">
<span class="in-toggle" data-depth="1"></span>
<a class="nav-link" href="landing-replications.html">Data Sync</a>
</span>
<ul class="nav-list">
<li class="nav-item " data-depth="2">

<span class="nav-line "  data-depth="2">
<a class="nav-link" href="dbreplica.html">Intra-Device</a>
</span>
</li>
<li class="nav-item " data-depth="2">

<span class="nav-line "  data-depth="2">
<a class="nav-link" href="replication.html">Remote Sync Gateway</a>
</span>
</li>
<li class="nav-item " data-depth="2">

<span class="nav-line "  data-depth="2">
<span class="in-toggle" data-depth="2"></span>
<a class="nav-link" href="p2psync-websocket.html">Peer-to-Peer</a>
</span>
<ul class="nav-list">
<li class="nav-item " data-depth="3">

<span class="nav-line "  data-depth="3">
<a class="nav-link" href="p2psync-websocket-using-passive.html">Passive Peer</a>
</span>
</li>
<li class="nav-item " data-depth="3">

<span class="nav-line "  data-depth="3">
<a class="nav-link" href="p2psync-websocket-using-active.html">Active Peer</a>
</span>
</li>
<li class="nav-item " data-depth="3">

<span class="nav-line "  data-depth="3">
<a class="nav-link" href="p2psync-custom.html">Integrate a Custom Listener</a>
</span>
</li>
</ul>
</li>
</ul>
</li>
<li class="nav-item  is-inactive " data-depth="1">

<span class="nav-line "  data-depth="1">
<a class="nav-link" href="conflict.html">Handling Data Conflicts</a>
</span>
</li>
<li class="nav-item  is-inactive " data-depth="1">

<span class="nav-line "  data-depth="1">
<a class="nav-link" href="https://ibsoln.github.io/api/mobile/3.0/couchbase-lite-net">API&#160;References</a>
</span>
</li>
<li class="nav-item  is-inactive " data-depth="1">

<span class="nav-line "  data-depth="1">
<a class="nav-link" href="dep-upgrade.html">Upgrade</a>
</span>
</li>
<li class="nav-item  is-inactive " data-depth="1">

<span class="nav-line "  data-depth="1">
<span class="in-toggle" data-depth="1"></span>
<span class="nav-text ">Troubleshooting</span>
</span>
<ul class="nav-list">
<li class="nav-item " data-depth="2">

<span class="nav-line "  data-depth="2">
<a class="nav-link" href="troubleshooting-logs.html">Using Logs</a>
</span>
</li>
<li class="nav-item " data-depth="2">

<span class="nav-line "  data-depth="2">
<a class="nav-link" href="troubleshooting-queries.html">Troubleshooting Queries</a>
</span>
</li>
</ul>
</li>
<li class="nav-item  is-inactive " data-depth="1">

<span class="nav-line "  data-depth="1">
<span class="in-toggle" data-depth="1"></span>
<span class="nav-text ">Product Notes</span>
</span>
<ul class="nav-list">
<li class="nav-item " data-depth="2">

<span class="nav-line "  data-depth="2">
<a class="nav-link" href="#couchbase-lite:csharp:{cbl-pg-releasenotes}">Release Notes</a>
</span>
</li>
<li class="nav-item " data-depth="2">

<span class="nav-line "  data-depth="2">
<a class="nav-link" href="compatibility.html">Compatibility</a>
</span>
</li>
<li class="nav-item " data-depth="2">

<span class="nav-line "  data-depth="2">
<a class="nav-link" href="supported-os.html">Supported OS</a>
</span>
</li>
</ul>
</li>
<li class="nav-item  is-inactive " data-depth="1">

<span class="nav-line "  data-depth="1">
<a class="nav-link" href="refer-glossary.html">Glossary</a>
</span>
</li>
</ul>
</li>
<li class="nav-item " data-depth="0">

<span class="nav-line "  data-depth="0">
<span class="in-toggle" data-depth="0"></span>
<a class="nav-link" href="../clang/quickstart.html">C</a>
</span>
<ul class="nav-list">
<li class="nav-item  is-inactive " data-depth="1">

<span class="nav-line "  data-depth="1">
<span class="in-toggle" data-depth="1"></span>
<a class="nav-link" href="#{cbl-pg-prereqs}">Start Here!</a>
</span>
<ul class="nav-list">
<li class="nav-item " data-depth="2">

<span class="nav-line "  data-depth="2">
<span class="nav-text ">{xref-cbl-pg-install}</span>
</span>
</li>
<li class="nav-item " data-depth="2">

<span class="nav-line "  data-depth="2">
<span class="nav-text ">{xref-cbl-pg-build}</span>
</span>
</li>
</ul>
</li>
<li class="nav-item  is-inactive " data-depth="1">

<span class="nav-line "  data-depth="1">
<span class="nav-text ">{xref-cbl-pg-database}</span>
</span>
</li>
<li class="nav-item  is-inactive " data-depth="1">

<span class="nav-line "  data-depth="1">
<span class="nav-text ">{xref-cbl-pg-database-prebuilt}</span>
</span>
</li>
<li class="nav-item  is-inactive " data-depth="1">

<span class="nav-line "  data-depth="1">
<span class="nav-text ">{xref-cbl-pg-document}</span>
</span>
</li>
<li class="nav-item  is-inactive " data-depth="1">

<span class="nav-line "  data-depth="1">
<span class="nav-text ">{xref-cbl-pg-blob}</span>
</span>
</li>
<li class="nav-item  is-inactive " data-depth="1">

<span class="nav-line "  data-depth="1">
<span class="in-toggle" data-depth="1"></span>
<span class="nav-text ">Queries</span>
</span>
<ul class="nav-list">
<li class="nav-item " data-depth="2">

<span class="nav-line "  data-depth="2">
<span class="nav-text ">{querybuilder&#8212;&#8203;xref}</span>
</span>
</li>
<li class="nav-item " data-depth="2">

<span class="nav-line "  data-depth="2">
<span class="nav-text ">{querybuilder-n1ql&#8212;&#8203;xref}</span>
</span>
</li>
<li class="nav-item " data-depth="2">

<span class="nav-line "  data-depth="2">
<span class="nav-text ">{xref-cbl-pg-query-live}</span>
</span>
</li>
<li class="nav-item " data-depth="2">

<span class="nav-line "  data-depth="2">
<span class="nav-text ">{xref-cbl-pg-query-troubleshooting}</span>
</span>
</li>
</ul>
</li>
<li class="nav-item  is-inactive " data-depth="1">

<span class="nav-line "  data-depth="1">
<span class="nav-text ">{xref-cbl-pg-fts}</span>
</span>
</li>
<li class="nav-item  is-inactive " data-depth="1">

<span class="nav-line "  data-depth="1">
<span class="nav-text ">{indexing&#8212;&#8203;xref}</span>
</span>
</li>
<li class="nav-item  is-inactive " data-depth="1">

<span class="nav-line "  data-depth="1">
<span class="in-toggle" data-depth="1"></span>
<a class="nav-link" href="#{cbl-pg-landing-replications}">Data Sync</a>
</span>
<ul class="nav-list">
<li class="nav-item " data-depth="2">

<span class="nav-line "  data-depth="2">
<a class="nav-link" href="#{cbl-pg-dbreplica}">Intra-Device</a>
</span>
</li>
<li class="nav-item " data-depth="2">

<span class="nav-line "  data-depth="2">
<a class="nav-link" href="#{cbl-pg-replication}">Remote Sync Gateway</a>
</span>
</li>
<li class="nav-item " data-depth="2">

<span class="nav-line "  data-depth="2">
<span class="in-toggle" data-depth="2"></span>
<a class="nav-link" href="#{cbl-pg-p2psync-websocket}">Peer-to-Peer</a>
</span>
<ul class="nav-list">
<li class="nav-item " data-depth="3">

<span class="nav-line "  data-depth="3">
<span class="nav-text ">{xref-cbl-pg-dbo-p2psync-websocket-using-passive}</span>
</span>
</li>
<li class="nav-item " data-depth="3">

<span class="nav-line "  data-depth="3">
<span class="nav-text ">{xref-cbl-pg-dbo-p2psync-websocket-using-active}</span>
</span>
</li>
<li class="nav-item " data-depth="3">

<span class="nav-line "  data-depth="3">
<a class="nav-link" href="#{cbl-pg-p2psync-custom}">Integrate a Custom Listener</a>
</span>
</li>
</ul>
</li>
</ul>
</li>
<li class="nav-item  is-inactive " data-depth="1">

<span class="nav-line "  data-depth="1">
<span class="nav-text ">{xref-cbl-pg-conflict}</span>
</span>
</li>
<li class="nav-item  is-inactive " data-depth="1">

<span class="nav-line "  data-depth="1">
<span class="nav-text ">{url-api-references}[API&#160;References]</span>
</span>
</li>
<li class="nav-item  is-inactive " data-depth="1">

<span class="nav-line "  data-depth="1">
<span class="nav-text ">{xref-cbl-pg-dep-upgrade}</span>
</span>
</li>
<li class="nav-item  is-inactive " data-depth="1">

<span class="nav-line "  data-depth="1">
<span class="in-toggle" data-depth="1"></span>
<span class="nav-text ">Troubleshooting</span>
</span>
<ul class="nav-list">
<li class="nav-item " data-depth="2">

<span class="nav-line "  data-depth="2">
<span class="nav-text ">{xref-cbl-pg-troubleshooting-logs}</span>
</span>
</li>
<li class="nav-item " data-depth="2">

<span class="nav-line "  data-depth="2">
<span class="nav-text ">{xref-cbl-pg-troubleshooting-queries}</span>
</span>
</li>
</ul>
</li>
<li class="nav-item  is-inactive " data-depth="1">

<span class="nav-line "  data-depth="1">
<span class="in-toggle" data-depth="1"></span>
<span class="nav-text ">Product Notes</span>
</span>
<ul class="nav-list">
<li class="nav-item " data-depth="2">

<span class="nav-line "  data-depth="2">
<span class="nav-text ">{xref-cbl-pg-releasenotes}</span>
</span>
</li>
<li class="nav-item " data-depth="2">

<span class="nav-line "  data-depth="2">
<span class="nav-text ">{xref-cbl-pg-compatibility}</span>
</span>
</li>
<li class="nav-item " data-depth="2">

<span class="nav-line "  data-depth="2">
<span class="nav-text ">{xref-cbl-pg-supported-os}</span>
</span>
</li>
</ul>
</li>
<li class="nav-item  is-inactive " data-depth="1">

<span class="nav-line "  data-depth="1">
<span class="nav-text ">{xref-cbl-pg-refer-glossary}</span>
</span>
</li>
</ul>
</li>
<li class="nav-item " data-depth="0">

<span class="nav-line "  data-depth="0">
<span class="in-toggle" data-depth="0"></span>
<a class="nav-link" href="../java/quickstart.html">Java</a>
</span>
<ul class="nav-list">
<li class="nav-item  is-inactive " data-depth="1">

<span class="nav-line "  data-depth="1">
<span class="in-toggle" data-depth="1"></span>
<a class="nav-link" href="../java/gs-prereqs.html">Start Here!</a>
</span>
<ul class="nav-list">
<li class="nav-item " data-depth="2">

<span class="nav-line "  data-depth="2">
<a class="nav-link" href="../java/gs-install.html">Install</a>
</span>
</li>
<li class="nav-item " data-depth="2">

<span class="nav-line "  data-depth="2">
<a class="nav-link" href="../java/gs-build.html">Build and Run</a>
</span>
</li>
</ul>
</li>
<li class="nav-item  is-inactive " data-depth="1">

<span class="nav-line "  data-depth="1">
<a class="nav-link" href="../java/database.html">Databases</a>
</span>
</li>
<li class="nav-item  is-inactive " data-depth="1">

<span class="nav-line "  data-depth="1">
<a class="nav-link" href="../java/prebuilt-database.html">Pre-built Database</a>
</span>
</li>
<li class="nav-item  is-inactive " data-depth="1">

<span class="nav-line "  data-depth="1">
<a class="nav-link" href="../java/document.html">Documents</a>
</span>
</li>
<li class="nav-item  is-inactive " data-depth="1">

<span class="nav-line "  data-depth="1">
<a class="nav-link" href="../java/blob.html">Blobs</a>
</span>
</li>
<li class="nav-item  is-inactive " data-depth="1">

<span class="nav-line "  data-depth="1">
<span class="in-toggle" data-depth="1"></span>
<span class="nav-text ">Queries</span>
</span>
<ul class="nav-list">
<li class="nav-item " data-depth="2">

<span class="nav-line "  data-depth="2">
<a class="nav-link" href="../java/querybuilder.html">QueryBuilder</a>
</span>
</li>
<li class="nav-item " data-depth="2">

<span class="nav-line "  data-depth="2">
<a class="nav-link" href="../java/querybuilder-n1ql.html">N1QL Queries</a>
</span>
</li>
<li class="nav-item " data-depth="2">

<span class="nav-line "  data-depth="2">
<a class="nav-link" href="../java/query-live.html">Live Query</a>
</span>
</li>
<li class="nav-item " data-depth="2">

<span class="nav-line "  data-depth="2">
<a class="nav-link" href="../java/query-troubleshooting.html">Query Troubleshooting</a>
</span>
</li>
</ul>
</li>
<li class="nav-item  is-inactive " data-depth="1">

<span class="nav-line "  data-depth="1">
<a class="nav-link" href="../java/fts.html">Full Text Search</a>
</span>
</li>
<li class="nav-item  is-inactive " data-depth="1">

<span class="nav-line "  data-depth="1">
<a class="nav-link" href="../java/indexing.html">Indexing</a>
</span>
</li>
<li class="nav-item  is-inactive " data-depth="1">

<span class="nav-line "  data-depth="1">
<span class="in-toggle" data-depth="1"></span>
<a class="nav-link" href="../java/landing-replications.html">Data Sync</a>
</span>
<ul class="nav-list">
<li class="nav-item " data-depth="2">

<span class="nav-line "  data-depth="2">
<a class="nav-link" href="../java/dbreplica.html">Intra-Device</a>
</span>
</li>
<li class="nav-item " data-depth="2">

<span class="nav-line "  data-depth="2">
<a class="nav-link" href="../java/replication.html">Remote Sync Gateway</a>
</span>
</li>
<li class="nav-item " data-depth="2">

<span class="nav-line "  data-depth="2">
<span class="in-toggle" data-depth="2"></span>
<a class="nav-link" href="../java/p2psync-websocket.html">Peer-to-Peer</a>
</span>
<ul class="nav-list">
<li class="nav-item " data-depth="3">

<span class="nav-line "  data-depth="3">
<a class="nav-link" href="../java/p2psync-websocket-using-passive.html">Passive Peer</a>
</span>
</li>
<li class="nav-item " data-depth="3">

<span class="nav-line "  data-depth="3">
<a class="nav-link" href="../java/p2psync-websocket-using-active.html">Active Peer</a>
</span>
</li>
<li class="nav-item " data-depth="3">

<span class="nav-line "  data-depth="3">
<a class="nav-link" href="../java/p2psync-custom.html">Integrate a Custom Listener</a>
</span>
</li>
</ul>
</li>
</ul>
</li>
<li class="nav-item  is-inactive " data-depth="1">

<span class="nav-line "  data-depth="1">
<a class="nav-link" href="../java/conflict.html">Handling Data Conflicts</a>
</span>
</li>
<li class="nav-item  is-inactive " data-depth="1">

<span class="nav-line "  data-depth="1">
<a class="nav-link" href="https://ibsoln.github.io/api/mobile/3.0/couchbase-lite-java/index.html?">API&#160;References</a>
</span>
</li>
<li class="nav-item  is-inactive " data-depth="1">

<span class="nav-line "  data-depth="1">
<a class="nav-link" href="../java/dep-upgrade.html">Upgrade</a>
</span>
</li>
<li class="nav-item  is-inactive " data-depth="1">

<span class="nav-line "  data-depth="1">
<span class="in-toggle" data-depth="1"></span>
<span class="nav-text ">Troubleshooting</span>
</span>
<ul class="nav-list">
<li class="nav-item " data-depth="2">

<span class="nav-line "  data-depth="2">
<a class="nav-link" href="../java/troubleshooting-logs.html">Using Logs</a>
</span>
</li>
<li class="nav-item " data-depth="2">

<span class="nav-line "  data-depth="2">
<a class="nav-link" href="../java/troubleshooting-queries.html">Troubleshooting Queries</a>
</span>
</li>
</ul>
</li>
<li class="nav-item  is-inactive " data-depth="1">

<span class="nav-line "  data-depth="1">
<span class="in-toggle" data-depth="1"></span>
<span class="nav-text ">Product Notes</span>
</span>
<ul class="nav-list">
<li class="nav-item " data-depth="2">

<span class="nav-line "  data-depth="2">
<a class="nav-link" href="#couchbase-lite:java:{cbl-pg-releasenotes}">Release Notes</a>
</span>
</li>
<li class="nav-item " data-depth="2">

<span class="nav-line "  data-depth="2">
<a class="nav-link" href="../java/compatibility.html">Compatibility</a>
</span>
</li>
<li class="nav-item " data-depth="2">

<span class="nav-line "  data-depth="2">
<a class="nav-link" href="../java/supported-os.html">Supported OS</a>
</span>
</li>
</ul>
</li>
<li class="nav-item  is-inactive " data-depth="1">

<span class="nav-line "  data-depth="1">
<a class="nav-link" href="../java/refer-glossary.html">Glossary</a>
</span>
</li>
</ul>
</li>
<li class="nav-item " data-depth="0">

<span class="nav-line "  data-depth="0">
<span class="in-toggle" data-depth="0"></span>
<a class="nav-link" href="../objc/quickstart.html">Objective-C</a>
</span>
<ul class="nav-list">
<li class="nav-item  is-inactive " data-depth="1">

<span class="nav-line "  data-depth="1">
<span class="in-toggle" data-depth="1"></span>
<a class="nav-link" href="../objc/gs-prereqs.html">Start Here!</a>
</span>
<ul class="nav-list">
<li class="nav-item " data-depth="2">

<span class="nav-line "  data-depth="2">
<a class="nav-link" href="../objc/gs-install.html">Install</a>
</span>
</li>
<li class="nav-item " data-depth="2">

<span class="nav-line "  data-depth="2">
<a class="nav-link" href="../objc/gs-build.html">Build and Run</a>
</span>
</li>
</ul>
</li>
<li class="nav-item  is-inactive " data-depth="1">

<span class="nav-line "  data-depth="1">
<a class="nav-link" href="../objc/database.html">Databases</a>
</span>
</li>
<li class="nav-item  is-inactive " data-depth="1">

<span class="nav-line "  data-depth="1">
<a class="nav-link" href="../objc/prebuilt-database.html">Pre-built Database</a>
</span>
</li>
<li class="nav-item  is-inactive " data-depth="1">

<span class="nav-line "  data-depth="1">
<a class="nav-link" href="../objc/document.html">Documents</a>
</span>
</li>
<li class="nav-item  is-inactive " data-depth="1">

<span class="nav-line "  data-depth="1">
<a class="nav-link" href="../objc/blob.html">Blobs</a>
</span>
</li>
<li class="nav-item  is-inactive " data-depth="1">

<span class="nav-line "  data-depth="1">
<span class="in-toggle" data-depth="1"></span>
<span class="nav-text ">Queries</span>
</span>
<ul class="nav-list">
<li class="nav-item " data-depth="2">

<span class="nav-line "  data-depth="2">
<a class="nav-link" href="../objc/querybuilder.html">QueryBuilder</a>
</span>
</li>
<li class="nav-item " data-depth="2">

<span class="nav-line "  data-depth="2">
<a class="nav-link" href="../objc/querybuilder-n1ql.html">N1QL Queries</a>
</span>
</li>
<li class="nav-item " data-depth="2">

<span class="nav-line "  data-depth="2">
<a class="nav-link" href="../objc/query-live.html">Live Query</a>
</span>
</li>
<li class="nav-item " data-depth="2">

<span class="nav-line "  data-depth="2">
<a class="nav-link" href="../objc/query-troubleshooting.html">Query Troubleshooting</a>
</span>
</li>
</ul>
</li>
<li class="nav-item  is-inactive " data-depth="1">

<span class="nav-line "  data-depth="1">
<a class="nav-link" href="../objc/fts.html">Full Text Search</a>
</span>
</li>
<li class="nav-item  is-inactive " data-depth="1">

<span class="nav-line "  data-depth="1">
<a class="nav-link" href="../objc/indexing.html">Indexing</a>
</span>
</li>
<li class="nav-item  is-inactive " data-depth="1">

<span class="nav-line "  data-depth="1">
<span class="in-toggle" data-depth="1"></span>
<a class="nav-link" href="../objc/landing-replications.html">Data Sync</a>
</span>
<ul class="nav-list">
<li class="nav-item " data-depth="2">

<span class="nav-line "  data-depth="2">
<a class="nav-link" href="../objc/dbreplica.html">Intra-Device</a>
</span>
</li>
<li class="nav-item " data-depth="2">

<span class="nav-line "  data-depth="2">
<a class="nav-link" href="../objc/replication.html">Remote Sync Gateway</a>
</span>
</li>
<li class="nav-item " data-depth="2">

<span class="nav-line "  data-depth="2">
<span class="in-toggle" data-depth="2"></span>
<a class="nav-link" href="../objc/p2psync-websocket.html">Peer-to-Peer</a>
</span>
<ul class="nav-list">
<li class="nav-item " data-depth="3">

<span class="nav-line "  data-depth="3">
<a class="nav-link" href="../objc/p2psync-websocket-using-passive.html">Passive Peer</a>
</span>
</li>
<li class="nav-item " data-depth="3">

<span class="nav-line "  data-depth="3">
<a class="nav-link" href="../objc/p2psync-websocket-using-active.html">Active Peer</a>
</span>
</li>
<li class="nav-item " data-depth="3">

<span class="nav-line "  data-depth="3">
<a class="nav-link" href="../objc/p2psync-custom.html">Integrate a Custom Listener</a>
</span>
</li>
</ul>
</li>
</ul>
</li>
<li class="nav-item  is-inactive " data-depth="1">

<span class="nav-line "  data-depth="1">
<a class="nav-link" href="../objc/conflict.html">Handling Data Conflicts</a>
</span>
</li>
<li class="nav-item  is-inactive " data-depth="1">

<span class="nav-line "  data-depth="1">
<a class="nav-link" href="https://ibsoln.github.io/api/mobile/3.0/couchbase-lite-objc">API&#160;References</a>
</span>
</li>
<li class="nav-item  is-inactive " data-depth="1">

<span class="nav-line "  data-depth="1">
<a class="nav-link" href="../objc/dep-upgrade.html">Upgrade</a>
</span>
</li>
<li class="nav-item  is-inactive " data-depth="1">

<span class="nav-line "  data-depth="1">
<span class="in-toggle" data-depth="1"></span>
<span class="nav-text ">Troubleshooting</span>
</span>
<ul class="nav-list">
<li class="nav-item " data-depth="2">

<span class="nav-line "  data-depth="2">
<a class="nav-link" href="../objc/troubleshooting-logs.html">Using Logs</a>
</span>
</li>
<li class="nav-item " data-depth="2">

<span class="nav-line "  data-depth="2">
<a class="nav-link" href="../objc/troubleshooting-queries.html">Troubleshooting Queries</a>
</span>
</li>
<li class="nav-item " data-depth="2">

<span class="nav-line "  data-depth="2">
<a class="nav-link" href="../objc/troubleshooting-crashes.html">Decoding Crash Logs</a>
</span>
</li>
</ul>
</li>
<li class="nav-item  is-inactive " data-depth="1">

<span class="nav-line "  data-depth="1">
<span class="in-toggle" data-depth="1"></span>
<span class="nav-text ">Product Notes</span>
</span>
<ul class="nav-list">
<li class="nav-item " data-depth="2">

<span class="nav-line "  data-depth="2">
<a class="nav-link" href="#couchbase-lite:objc:{cbl-pg-releasenotes}">Release Notes</a>
</span>
</li>
<li class="nav-item " data-depth="2">

<span class="nav-line "  data-depth="2">
<a class="nav-link" href="../objc/compatibility.html">Compatibility</a>
</span>
</li>
<li class="nav-item " data-depth="2">

<span class="nav-line "  data-depth="2">
<a class="nav-link" href="../objc/supported-os.html">Supported OS</a>
</span>
</li>
</ul>
</li>
<li class="nav-item  is-inactive " data-depth="1">

<span class="nav-line "  data-depth="1">
<a class="nav-link" href="../objc/refer-glossary.html">Glossary</a>
</span>
</li>
</ul>
</li>
<li class="nav-item " data-depth="0">

<span class="nav-line "  data-depth="0">
<span class="in-toggle" data-depth="0"></span>
<a class="nav-link" href="../swift/quickstart.html">Swift</a>
</span>
<ul class="nav-list">
<li class="nav-item  is-inactive " data-depth="1">

<span class="nav-line "  data-depth="1">
<span class="in-toggle" data-depth="1"></span>
<a class="nav-link" href="../swift/gs-prereqs.html">Start Here!</a>
</span>
<ul class="nav-list">
<li class="nav-item " data-depth="2">

<span class="nav-line "  data-depth="2">
<a class="nav-link" href="../swift/gs-install.html">Install</a>
</span>
</li>
<li class="nav-item " data-depth="2">

<span class="nav-line "  data-depth="2">
<a class="nav-link" href="../swift/gs-build.html">Build and Run</a>
</span>
</li>
</ul>
</li>
<li class="nav-item  is-inactive " data-depth="1">

<span class="nav-line "  data-depth="1">
<a class="nav-link" href="../swift/database.html">Databases</a>
</span>
</li>
<li class="nav-item  is-inactive " data-depth="1">

<span class="nav-line "  data-depth="1">
<a class="nav-link" href="../swift/prebuilt-database.html">Pre-built Database</a>
</span>
</li>
<li class="nav-item  is-inactive " data-depth="1">

<span class="nav-line "  data-depth="1">
<a class="nav-link" href="../swift/document.html">Documents</a>
</span>
</li>
<li class="nav-item  is-inactive " data-depth="1">

<span class="nav-line "  data-depth="1">
<a class="nav-link" href="../swift/blob.html">Blobs</a>
</span>
</li>
<li class="nav-item  is-inactive " data-depth="1">

<span class="nav-line "  data-depth="1">
<span class="in-toggle" data-depth="1"></span>
<span class="nav-text ">Queries</span>
</span>
<ul class="nav-list">
<li class="nav-item " data-depth="2">

<span class="nav-line "  data-depth="2">
<a class="nav-link" href="../swift/querybuilder.html">QueryBuilder</a>
</span>
</li>
<li class="nav-item " data-depth="2">

<span class="nav-line "  data-depth="2">
<a class="nav-link" href="../swift/querybuilder-n1ql.html">N1QL Queries</a>
</span>
</li>
<li class="nav-item " data-depth="2">

<span class="nav-line "  data-depth="2">
<a class="nav-link" href="../swift/query-live.html">Live Query</a>
</span>
</li>
<li class="nav-item " data-depth="2">

<span class="nav-line "  data-depth="2">
<a class="nav-link" href="../swift/query-troubleshooting.html">Query Troubleshooting</a>
</span>
</li>
</ul>
</li>
<li class="nav-item  is-inactive " data-depth="1">

<span class="nav-line "  data-depth="1">
<a class="nav-link" href="../swift/fts.html">Full Text Search</a>
</span>
</li>
<li class="nav-item  is-inactive " data-depth="1">

<span class="nav-line "  data-depth="1">
<a class="nav-link" href="../swift/indexing.html">Indexing</a>
</span>
</li>
<li class="nav-item  is-inactive " data-depth="1">

<span class="nav-line "  data-depth="1">
<span class="in-toggle" data-depth="1"></span>
<a class="nav-link" href="../swift/landing-replications.html">Data Sync</a>
</span>
<ul class="nav-list">
<li class="nav-item " data-depth="2">

<span class="nav-line "  data-depth="2">
<a class="nav-link" href="../swift/dbreplica.html">Intra-Device</a>
</span>
</li>
<li class="nav-item " data-depth="2">

<span class="nav-line "  data-depth="2">
<a class="nav-link" href="../swift/replication.html">Remote Sync Gateway</a>
</span>
</li>
<li class="nav-item " data-depth="2">

<span class="nav-line "  data-depth="2">
<span class="in-toggle" data-depth="2"></span>
<a class="nav-link" href="../swift/p2psync-websocket.html">Peer-to-Peer</a>
</span>
<ul class="nav-list">
<li class="nav-item " data-depth="3">

<span class="nav-line "  data-depth="3">
<a class="nav-link" href="../swift/p2psync-websocket-using-passive.html">Passive Peer</a>
</span>
</li>
<li class="nav-item " data-depth="3">

<span class="nav-line "  data-depth="3">
<a class="nav-link" href="../swift/p2psync-websocket-using-active.html">Active Peer</a>
</span>
</li>
<li class="nav-item " data-depth="3">

<span class="nav-line "  data-depth="3">
<a class="nav-link" href="../swift/p2psync-custom.html">Integrate a Custom Listener</a>
</span>
</li>
</ul>
</li>
</ul>
</li>
<li class="nav-item  is-inactive " data-depth="1">

<span class="nav-line "  data-depth="1">
<a class="nav-link" href="../swift/conflict.html">Handling Data Conflicts</a>
</span>
</li>
<li class="nav-item  is-inactive " data-depth="1">

<span class="nav-line "  data-depth="1">
<a class="nav-link" href="https://ibsoln.github.io/api/mobile/3.0/couchbase-lite-swift">API&#160;References</a>
</span>
</li>
<li class="nav-item  is-inactive " data-depth="1">

<span class="nav-line "  data-depth="1">
<a class="nav-link" href="../swift/dep-upgrade.html">Upgrade</a>
</span>
</li>
<li class="nav-item  is-inactive " data-depth="1">

<span class="nav-line "  data-depth="1">
<span class="in-toggle" data-depth="1"></span>
<span class="nav-text ">Troubleshooting</span>
</span>
<ul class="nav-list">
<li class="nav-item " data-depth="2">

<span class="nav-line "  data-depth="2">
<a class="nav-link" href="../swift/troubleshooting-logs.html">Using Logs</a>
</span>
</li>
<li class="nav-item " data-depth="2">

<span class="nav-line "  data-depth="2">
<a class="nav-link" href="../swift/troubleshooting-queries.html">Troubleshooting Queries</a>
</span>
</li>
<li class="nav-item " data-depth="2">

<span class="nav-line "  data-depth="2">
<a class="nav-link" href="../swift/troubleshooting-crashes.html">Decoding Crash Logs</a>
</span>
</li>
</ul>
</li>
<li class="nav-item  is-inactive " data-depth="1">

<span class="nav-line "  data-depth="1">
<span class="in-toggle" data-depth="1"></span>
<span class="nav-text ">Product Notes</span>
</span>
<ul class="nav-list">
<li class="nav-item " data-depth="2">

<span class="nav-line "  data-depth="2">
<a class="nav-link" href="#couchbase-lite:swift:{cbl-pg-releasenotes}">Release Notes</a>
</span>
</li>
<li class="nav-item " data-depth="2">

<span class="nav-line "  data-depth="2">
<a class="nav-link" href="#couchbase-lite:swift:compatibility.adoc">Compatibility</a>
</span>
</li>
<li class="nav-item " data-depth="2">

<span class="nav-line "  data-depth="2">
<a class="nav-link" href="#couchbase-lite:swift:supported-os.adoc">Supported OS</a>
</span>
</li>
</ul>
</li>
<li class="nav-item  is-inactive " data-depth="1">

<span class="nav-line "  data-depth="1">
<a class="nav-link" href="../swift/refer-glossary.html">Glossary</a>
</span>
</li>
</ul>
</li>
<li class="nav-item " data-depth="0">

<span class="nav-line "  data-depth="0">
<span class="in-toggle" data-depth="0"></span>
<a class="nav-link" href="../javascript.html">JavaScript</a>
</span>
<ul class="nav-list">
<li class="nav-item  is-inactive " data-depth="1">

<span class="nav-line "  data-depth="1">
<a class="nav-link" href="../javascript.html">JavaScript</a>
</span>
</li>
</ul>
</li>
<li class="nav-item " data-depth="0">

<span class="nav-line "  data-depth="0">
<span class="in-toggle" data-depth="0"></span>
<a class="nav-link" href="../../../sync-gateway/3.0/introduction.html">Sync&#160;Gateway</a>
</span>
<ul class="nav-list">
<li class="nav-item  is-inactive " data-depth="1">

<span class="nav-line "  data-depth="1">
<a class="nav-link" href="../../../sync-gateway/3.0/configuration-schema-static.html">Configure</a>
</span>
</li>
<li class="nav-item  is-inactive " data-depth="1">

<span class="nav-line "  data-depth="1">
<a class="nav-link" href="../../../sync-gateway/3.0/rest-api-admin.html">REST API</a>
</span>
</li>
</ul>
</li>
</ul>
</div>
<a href="#" class="menu-expand-toggle"> <span>Navigation</span> <i class="fas fa-times-circle"></i> <i class="fas fa-chevron-circle-left"></i></a>
</div></nav>
<aside class="toc sidebar">
  <div class="sidebar-box">
    <div class="tools" role="navigation">
<ul>
<li class="tool edit"><a href="file:///Users/ianbridge/CouchbaseDocs/bau/cbl/modules/csharp/pages/querybuilder-n1ql.adoc" title="Edit Page" target="_blank" rel="noopener">Edit on GitHub</a></li>
</ul>
</div>
    <div class="toc-menu"></div>
    <div class="is-this-helpful-box">
      <h4> Is this page helpful?</h4>
      <div class="btn-row">
        <a href="#" class="like-btn helpful-btn" id="yesBtn" data-page-rating="like" >
                <i class="far fa-thumbs-up"></i>
            Yes

            </a>
        <a href="#" class="dislike-btn helpful-btn" id="noBtn"  data-page-rating="dislike"> <i class="far fa-thumbs-down"></i> No</a>
      </div>
      <div class="any-feedback">
        <a href="#" class="btn any-feedback-btn" id="myCustomTrigger">Leave Additional Feedback? </a>
      </div>
      <div class="dialog-box" id="dialogBox">
        <form>
            <div class="form-group " id="additionalFeedbackBox">
              <textarea class="input-control feed-back-msg" rows="8" placeholder="Any Additonal Feedback?"></textarea>

              <div class="action-btn-row ">
                <a href="#" class="skip-btn" id="skipBtnMsg">Skip</a>
                  <button class="submit-btn btn blue-btn disabled" > Submit  </button>
                  <a href="#" class="info-btn"><i class="fas fa-info-circle"></i></a>
              </div>


            </div>

        </form>

      </div>
    </div>
  </div>

</aside>

<div class="feedback-modal modal-popup">
  <div class="modal-popup-dialogue">
    <div class="popup-header">
      <a href="#" class="close-popup"><i class="fa fa-times"></i></a>
    </div>
    <div class="popup-content">
      <p>
        Please use the form below to provide your feedback. Because your feedback is valuable to us,
         the information you submit in this form is recorded in our issue tracking system (JIRA), which is publicly available.
        You can track the status of your feedback using the ticket number displayed in the dialog once you submit the form.
      </p>
    </div>
  </div>
</div>

<main class="article" data-ceiling="topbar">
<div class="article-header">
<nav class="crumbs" aria-label="breadcrumbs">
<ul>
<li class="crumb"><a href="../index.html">Couchbase Lite</a></li>
<li class="crumb"><a href="quickstart.html">C#.Net</a></li>
<li class="crumb">Queries</li>
<li class="crumb"><a href="querybuilder-n1ql.html">N1QL Queries</a></li>
</ul>
</nav>
</div>
<article class="doc">
<div class="page-heading-title">
<h1 class="page">N1QL Query Strings</h1>
</div>
<div class="contributor-list-box">
<span class="last-commit-date" id="commitdate">    </span>
<ul id="contributorList"></ul>
<span  id="otherContributor"> + </span>
</div><div id="preamble">
<div class="sectionbody">
<div class="quoteblock abstract">
<blockquote>
<div class="paragraph">
<p>Description&#8201;&#8212;&#8201;<em>How to use N1QL Query Strings to build effective queries with Couchbase Lite on C#</em><br>
Related Content&#8201;&#8212;&#8201;<a href="query-predictive.html" class="page">Predictive Query</a> | <a href="query-live.html" class="page">Live Query</a> | <a href="indexing.html" class="page">Indexing</a></p>
</div>
</blockquote>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The examples used in this topic are based on the <em>Travel Sample</em> app and data introduced in the <a href="https://docs.couchbase.com/tutorials/mobile-travel-sample/introduction.html">Couchbase Mobile Workshop</a> tutorial
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="introduction"><a class="anchor" href="#introduction"></a>Introduction</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Developers using Couchbase Lite for C#.Net can provide N1QL query strings using the N1QL Query API.
This API uses query statements of the form shown in <a href="#ex-query-form">Example 1</a>.
The structure and semantics of the query format are based on that of Couchbase Server&#8217;s N1QL query language&#8201;&#8212;&#8201;see <a href="../../../server/6.6/n1ql/n1ql-language-reference/index.html" class="page">N1QL Reference Guide</a> and <a href="../../../server/6.6/learn/data/n1ql-versus-sql.html" class="page">N1QL Data Model</a>.</p>
</div>
<div id="ex-query-form" class="exampleblock">
<div class="title">Example 1. Query Format</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-SQL hljs" data-lang="SQL">SELECT ____ <i class="conum" data-value="1"></i><b>(1)</b>
FROM 'database' <i class="conum" data-value="2"></i><b>(2)</b>
WHERE ____, <i class="conum" data-value="3"></i><b>(3)</b>
JOIN ____ <i class="conum" data-value="4"></i><b>(4)</b>
GROUP BY ____ <i class="conum" data-value="5"></i><b>(5)</b>
ORDER BY ____ <i class="conum" data-value="6"></i><b>(6)</b>
LIMIT ____ <i class="conum" data-value="7"></i><b>(7)</b>
OFFSET ____ <i class="conum" data-value="8"></i><b>(8)</b></code></pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Query Components</dt>
<dd>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The <a href="#lbl-select">SELECT statement</a> specifies the properties to be returned in the result set</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td><a href="#lbl-from">FROM</a> specifies the data source to be queried</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td><a href="#lbl-where">WHERE statement</a> specifies the query criteria.<br>
The `SELECT`ed properties of documents matching this criteria will be returned in the result set</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td><a href="#lbl-join">JOIN statement</a> specifies the criteria for joining multiple documents</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td><a href="#lbl-group">GROUP BY statement</a> specifies the criteria used to group returned items in the result set</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td><a href="#lbl-order">ORDER BY statement</a> specifies the criteria used to order the items in the result set</td>
</tr>
<tr>
<td><i class="conum" data-value="7"></i><b>7</b></td>
<td><a href="#lbl-limit">LIMIT statement</a> specifies the maximum number of results to be returned</td>
</tr>
<tr>
<td><i class="conum" data-value="8"></i><b>8</b></td>
<td><a href="#lbl-offset">OFFSET statement</a> specifies the number of results to be skipped before starting to return results</td>
</tr>
</table>
</div>
</dd>
</dl>
</div>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
We recommend working through the <a href="https://query-tutorial.couchbase.com/tutorial/#1">N1QL Tutorials</a> as a good way to build your N1QL skills.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="running"><a class="anchor" href="#running"></a>Running</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Use the N1QLQuery class to define the N1QL query string on the database to be queried.
Then run the query using the`.execute()` method&#8201;&#8212;&#8201;see</p>
</div>
<div class="paragraph">
<p>The result set produced by N1QL and {querybuilder&#8212;&#8203;xref)} queries is the same&#8201;&#8212;&#8201;see <a href="#lbl-resultsets">Result Sets</a>.</p>
</div>
<div id="ex-samplerun" class="exampleblock">
<div class="title">Example 2. Running a N1QL Query</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">To be confirmed ...


        Database db = openOrCreateDatabaseForUser("ian");
        // DataSource.As ds = database(db);

        Parameters pars = null;
        pars.setValue("ds", db.getName());

        N1qlQuery query = db.createQuery("SELECT * FROM $ds");
        query.setParameters(pars);

        try {

            for (Result result : query.execute()) {
                System.out.println("Found row: " + result.toJSON());

            } // end for

        } catch (CouchbaseLiteException ex) {
            ex.printStackTrace();
        } // end try</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lbl-select"><a class="anchor" href="#lbl-select"></a>SELECT statement</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="purpose"><a class="anchor" href="#purpose"></a>Purpose</h3>
<div class="paragraph">
<p>Projects the result returned by the query, identifying the columns it will contain.</p>
</div>
</div>
<div class="sect2">
<h3 id="syntax"><a class="anchor" href="#syntax"></a>Syntax</h3>
<div class="exampleblock">
<div class="title">Example 3. N1QL Select Syntax</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sql hljs" data-lang="sql">select = SELECT _ ( DISTINCT | ALL )? selectResult <i class="conum" data-value="1"></i><b>(1)</b>

selectResults = selectResult ( _ ',' _ selectResult )* <i class="conum" data-value="2"></i><b>(2)</b>

selectResult = expression ( _ (AS)? columnAlias )? <i class="conum" data-value="3"></i><b>(3)</b>

columnAlias = IDENTIFIER</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h3>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The select clause begins with the SELECT keyword. The optional <code>ALL | DISTINCT</code> argument is used to specify whether the query should return ALL results (the default), or (DISTINCT) whether the query should remove duplicated results.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>selectResults is a list of columns projected in the query result. Each column is an expression which could be a property expression or any expressions or functions.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>The optional <code>AS</code> argument provides an alias name for a column. Each column can be aliased by putting the alias name after the column name with an optional AS keyword.</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="all-properties"><a class="anchor" href="#all-properties"></a>All Properties</h3>
<div class="paragraph">
<p>Use the wild card character <code>*</code> to select all properties in the data source.</p>
</div>
</div>
<div class="sect2">
<h3 id="lbl-return-properties"><a class="anchor" href="#lbl-return-properties"></a>Return Selected Properties</h3>
<div class="paragraph">
<p>To return only specific properties, specify a comma separated list of property names in the select statement of your query &#8201;&#8212;&#8201;see: <a href="#ex-select-properties">Example 4</a></p>
</div>
</div>
<div class="sect2">
<h3 id="examples"><a class="anchor" href="#examples"></a>Examples</h3>
<div id="ex-select-properties" class="exampleblock">
<div class="title">Example 4. Using SELECT to Retrieve Specific Properties</div>
<div class="content">
<div class="paragraph">
<p>In this query we retrieve and then print the <code>_id</code>, <code>type</code> and <code>name</code> properties of each document.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-C# hljs" data-lang="C#">[data-source-url=https://github.com/ibsoln/docs-couchbase-lite/blob/undefined/modules/csharp/examples/code_snippets/Program.cs]</code></pre>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>See: <a href="#lbl-resultsets">Result Sets</a> for more on processing query results.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lbl-from"><a class="anchor" href="#lbl-from"></a>FROM</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="purpose-2"><a class="anchor" href="#purpose-2"></a>Purpose</h3>
<div class="paragraph">
<p>Specifies the data source, or sources, and optionally applies an alias ( <code>AS</code>).
It is mandatory.</p>
</div>
</div>
<div class="sect2">
<h3 id="syntax-2"><a class="anchor" href="#syntax-2"></a>Syntax</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sql hljs" data-lang="sql">FROM dataSource  <i class="conum" data-value="1"></i><b>(1)</b>
      (optional JOIN joinClause )  <i class="conum" data-value="2"></i><b>(2)</b></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="arguments-2"><a class="anchor" href="#arguments-2"></a>Arguments</h3>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td><code>dataSource</code>&#8201;&#8212;&#8201;this is the database name against which the query is to run.
Use <code>AS</code> to give the database an alias you can use within the query.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td><code>JOIN joinclause</code>&#8201;&#8212;&#8201;use this optional argument to link datasources&#8201;&#8212;&#8201;see <a href="#lbl-join">JOIN statement</a></td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="example"><a class="anchor" href="#example"></a>Example</h3>
<div class="exampleblock">
<div class="title">Example 5. FROM clause</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sql hljs" data-lang="sql">SELECT name FROM db
SELECT store.name FROM db AS store
SELECT store.name FROM db store</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lbl-join"><a class="anchor" href="#lbl-join"></a>JOIN statement</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="purpose-3"><a class="anchor" href="#purpose-3"></a>Purpose</h3>
<div class="paragraph">
<p>The JOIN clause enables you to select data from multiple data sources linked by criteria specified in the JOIN statement.</p>
</div>
<div class="paragraph">
<p>Currently only self-joins are supported.
For example to combine airline details with route details, linked by the airline id&#8201;&#8212;&#8201;see <a href="#ex-join">Example 6</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="syntax-3"><a class="anchor" href="#syntax-3"></a>Syntax</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sql hljs" data-lang="sql">joinClause = ( join )*

join = joinOperator _ dataSource _  (constraint)? <i class="conum" data-value="1"></i><b>(1)</b>

joinOperator = ( LEFT (OUTER)? | INNER | CROSS )? JOIN <i class="conum" data-value="2"></i><b>(2)</b>

dataSource = databaseName ( ( AS | _ )? databaseAlias )?

constraint ( ON expression )? <i class="conum" data-value="3"></i><b>(3)</b></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="arguments-3"><a class="anchor" href="#arguments-3"></a>Arguments</h3>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The join clause starts with a JOIN operator followed by the data source.<br></td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Five JOIN operators are supported:<br>
JOIN, LEFT JOIN, LEFT OUTER JOIN, INNER JOIN, and CROSS JOIN.<br>
Note: JOIN and INNER JOIN are the same, LEFT JOIN and LEFT OUTER JOIN are the same.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>The join constraint starts with the ON keyword followed by the expression that defines the joining constraints.</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="example-2"><a class="anchor" href="#example-2"></a>Example</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sql hljs" data-lang="sql">SELECT db.prop1, other.prop2 FROM db JOIN db AS other ON db.key = other.key

SELECT db.prop1, other.prop2 FROM db LEFT JOIN db other ON db.key = other.key

SELECT * FROM travel-sample r JOIN travel-sample a ON r.airlineid = a.meta.id WHERE a.country = "France"</code></pre>
</div>
</div>
<div id="ex-join" class="exampleblock">
<div class="title">Example 6. Using JOIN to Combine Document Details</div>
<div class="content">
<div class="paragraph">
<p>This example JOINS the document of type <code>route</code> with documents of type <code>airline</code> using the document ID (<code><em>id</code>) on the _airline</em> document and <code>airlineid</code> on the <em>route</em> document.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sql hljs" data-lang="sql">SELECT * FROM travel-sample r JOIN travel-sample a ON r.airlineid = a.meta.id WHERE a.country = "France"</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lbl-where"><a class="anchor" href="#lbl-where"></a>WHERE statement</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="purpose-4"><a class="anchor" href="#purpose-4"></a>Purpose</h3>
<div class="paragraph">
<p>Specifies the selecion criteria used to filter results.</p>
</div>
<div class="paragraph">
<p>As with SQL, use the <code>WHERE</code> statement to choose which documents are returned by your query.</p>
</div>
</div>
<div class="sect2">
<h3 id="syntax-4"><a class="anchor" href="#syntax-4"></a>Syntax</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sql hljs" data-lang="sql">where = WHERE expression <i class="conum" data-value="1"></i><b>(1)</b></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="arguments-4"><a class="anchor" href="#arguments-4"></a>Arguments</h3>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>WHERE evalates <code>expression</code> to a BOOLEAN value.
You can chain any number of Expressions in order to implement sophisticated filtering capabilities.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>See also&#8201;&#8212;&#8201;<a href="#lbl-operators">Operators</a> for more on building expressions</p>
</div>
</div>
<div class="sect2">
<h3 id="examples-2"><a class="anchor" href="#examples-2"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sql hljs" data-lang="sql">SELECT name FROM db WHERE department = engineer AND group = mobile</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lbl-group"><a class="anchor" href="#lbl-group"></a>GROUP BY statement</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="purpose-5"><a class="anchor" href="#purpose-5"></a>Purpose</h3>
<div class="paragraph">
<p>Use <code>group by</code> to arrange values in groups of one or more properties.</p>
</div>
</div>
<div class="sect2">
<h3 id="syntax-5"><a class="anchor" href="#syntax-5"></a>Syntax</h3>
<div class="listingblock">
<div class="content">
<pre>groupBy = grouping _( having )? <i class="conum" data-value="1"></i><b>(1)</b>

grouping = GROUP BY expression( _ ',' _ expression )* <i class="conum" data-value="2"></i><b>(2)</b>

having = HAVING expression <i class="conum" data-value="3"></i><b>(3)</b></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="arguments-5"><a class="anchor" href="#arguments-5"></a>Arguments</h3>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The group by clause starts with the GROUP BY keyword followed by one or more expressions.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Grouping
<div class="paragraph">
<p>The group by clause is normally used together with the aggregate functions (e.g. COUNT, MAX, MIN, SUM, AVG)</p>
</div></td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Having&#8201;&#8212;&#8201;allows you to filter the result based on aggregate functions&#8201;&#8212;&#8201;for example, <code>HAVING count(empnum)&gt;100</code></td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="examples-3"><a class="anchor" href="#examples-3"></a>Examples</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sql hljs" data-lang="sql">SELECT COUNT(empno), city FROM db GROUP BY city

SELECT COUNT(empno), city FROM db GROUP BY city HAVING COUNT(empno) &gt; 100

SELECT COUNT(empno), city FROM db GROUP BY city HAVING COUNT(empno) &gt; 100 WHERE state = CA</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lbl-order"><a class="anchor" href="#lbl-order"></a>ORDER BY statement</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="purpose-6"><a class="anchor" href="#purpose-6"></a>Purpose</h3>
<div class="paragraph">
<p>Sort query results based on a given expression result.</p>
</div>
</div>
<div class="sect2">
<h3 id="syntax-6"><a class="anchor" href="#syntax-6"></a>Syntax</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sql hljs" data-lang="sql">orderBy = ORDER BY ordering ( _ ',' _ ordering )* <i class="conum" data-value="1"></i><b>(1)</b>

ordering = expression ( _ order )? <i class="conum" data-value="2"></i><b>(2)</b>

order = ( ASC / DESC ) <i class="conum" data-value="3"></i><b>(3)</b></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="arguments-6"><a class="anchor" href="#arguments-6"></a>Arguments</h3>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>orderBy&#8201;&#8212;&#8201;The order by clause starts with the ORDER BY keyword followed by the ordering clause.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Ordering&#8201;&#8212;&#8201;The ordering clause specifies the properties or expressions to use for ordering the results.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Order&#8201;&#8212;&#8201;In each ordering clause, the sorting direction is specified using the optional ASC (ascending) or DESC (descending) directives. Default is ASC.</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="examples-4"><a class="anchor" href="#examples-4"></a>Examples</h3>
<div class="exampleblock">
<div class="title">Example 7. Simple usage</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sql hljs" data-lang="sql">SELECT name FROM db  ORDER BY name

SELECT name FROM db  ORDER BY name DESC

SELECT name, score FROM db  ORDER BY name ASC, score DESC</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lbl-limit"><a class="anchor" href="#lbl-limit"></a>LIMIT statement</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="purpose-7"><a class="anchor" href="#purpose-7"></a>Purpose</h3>
<div class="paragraph">
<p>Specifies the maximum number of results to be returned by the query.</p>
</div>
</div>
<div class="sect2">
<h3 id="syntax-7"><a class="anchor" href="#syntax-7"></a>Syntax</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sql hljs" data-lang="sql">limit = LIMIT expression <i class="conum" data-value="1"></i><b>(1)</b></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="arguments-7"><a class="anchor" href="#arguments-7"></a>Arguments</h3>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The LIMIT clause starts with the LIMIT keyword followed by an expression that will be evaluated as a number.</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="examples-5"><a class="anchor" href="#examples-5"></a>Examples</h3>
<div class="exampleblock">
<div class="title">Example 8. Simple usage</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sql hljs" data-lang="sql">SELECT name FROM db LIMIT 10 <i class="conum" data-value="1"></i><b>(1)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Return only 10 results</td>
</tr>
</table>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lbl-offset"><a class="anchor" href="#lbl-offset"></a>OFFSET statement</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="purpose-8"><a class="anchor" href="#purpose-8"></a>Purpose</h3>
<div class="paragraph">
<p>Specifies the number of results to be skipped by the query.</p>
</div>
</div>
<div class="sect2">
<h3 id="syntax-8"><a class="anchor" href="#syntax-8"></a>Syntax</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sql hljs" data-lang="sql">offset = OFFSET expression <i class="conum" data-value="1"></i><b>(1)</b></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="arguments-8"><a class="anchor" href="#arguments-8"></a>Arguments</h3>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The offset clause starts with the OFFSET keyword followed by an expression that will be evaluated as a number that represents the number of results ignored before the query begins returning results.</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="examples-6"><a class="anchor" href="#examples-6"></a>Examples</h3>
<div class="exampleblock">
<div class="title">Example 9. Simple usage</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sql hljs" data-lang="sql">SELECT name FROM db OFFSET 10 <i class="conum" data-value="1"></i><b>(1)</b>

SELECT name FROM db  LIMIT 10 OFFSET 10 <i class="conum" data-value="2"></i><b>(2)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Ignore first 10 results</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Ignore first 10 results then return the next 10 results</td>
</tr>
</table>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lbl-literals"><a class="anchor" href="#lbl-literals"></a>Expressions</h2>
<div class="sectionbody">
<div class="dlist">
<dl>
<dt class="hdlist1">In this section</dt>
<dd>
<p><a href="#lbl-exp-literals">Literals</a>&#160;&#160;|&#160;&#160;
<a href="#lbl-exp-ident">Identifiers</a>&#160;&#160;|&#160;&#160;
<a href="#lbl-exp-prop">Property Expressions</a>&#160;&#160;|&#160;&#160;
<a href="#lbl-exp-any">Any and Every Expressions</a>&#160;&#160;|&#160;&#160;
<a href="#lbl-exp-param">Parameter Expressions</a>&#160;&#160;|&#160;&#160;
<a href="#lbl-exp-paren">Parenthesis Expressions</a></p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>Expressions are references to identifiers that resolve to values.
Categories of expression comprise the elements covered in this section (see above), together with <a href="#lbl-operators">Operators</a> and <a href="#lbl-functions">Functions</a>, which are covered in their own sections</p>
</div>
<div class="sect2">
<h3 id="lbl-exp-literals"><a class="anchor" href="#lbl-exp-literals"></a>Literals</h3>
<div class="paragraph">
<p><a href="#lbl-lit-bool">Boolean</a>&#160;&#160;|&#160;&#160;
<a href="#lbl-lit-numbers">Numeric</a>&#160;&#160;|&#160;&#160;
<a href="#lbl-lit-string">String</a>&#160;&#160;|&#160;&#160;
<a href="#lbl-lit-null">NULL</a>&#160;&#160;|&#160;&#160;
<a href="#lbl-lit-missing">MISSING</a>&#160;&#160;|&#160;&#160;
<a href="#lbl-lit-array">Array</a>&#160;&#160;|&#160;&#160;
<a href="#lbl-lit-dict">Dictionary</a>&#160;&#160;|&#160;&#160;</p>
</div>
<div class="sect3">
<h4 id="lbl-lit-bool"><a class="anchor" href="#lbl-lit-bool"></a>Boolean</h4>
<div class="sect4">
<h5 id="purpose-9"><a class="anchor" href="#purpose-9"></a>Purpose</h5>
<div class="paragraph">
<p>Represents a true or false value.</p>
</div>
</div>
<div class="sect4">
<h5 id="syntax-9"><a class="anchor" href="#syntax-9"></a>Syntax</h5>
<div class="paragraph">
<p><code>TRUE | FALSE</code></p>
</div>
</div>
<div class="sect4">
<h5 id="example-3"><a class="anchor" href="#example-3"></a>Example</h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sql hljs" data-lang="sql">SELECT value FROM db  WHERE value = true
SELECT value FROM db  WHERE value = false</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="lbl-lit-numbers"><a class="anchor" href="#lbl-lit-numbers"></a>Numeric</h4>
<div class="sect4">
<h5 id="purpose-10"><a class="anchor" href="#purpose-10"></a>Purpose</h5>
<div class="paragraph">
<p>Represents a numeric value.
Numbers may be signed or unsigned digits.
They have optional fractional and exponent components.</p>
</div>
</div>
<div class="sect4">
<h5 id="syntax-10"><a class="anchor" href="#syntax-10"></a>Syntax</h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sql hljs" data-lang="sql">'-'? (('.' DIGIT+) | (DIGIT+ ('.' DIGIT*)?)) ( [Ee] [-+]? DIGIT+ )? WB

DIGIT = [0-9]</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="example-4"><a class="anchor" href="#example-4"></a>Example</h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sql hljs" data-lang="sql">SELECT value FROM db  WHERE value = 10
SELECT value FROM db  WHERE value = 0
SELECT value FROM db WHERE value = -10
SELECT value FROM db WHERE value = 10.25
SELECT value FROM db WHERE value = 10.25e2
SELECT value FROM db WHERE value = 10.25E2
SELECT value FROM db WHERE value = 10.25E+2
SELECT value FROM db WHERE value = 10.25E-2</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="lbl-lit-string"><a class="anchor" href="#lbl-lit-string"></a>String</h4>
<div class="sect4">
<h5 id="purpose-11"><a class="anchor" href="#purpose-11"></a>Purpose</h5>
<div class="paragraph">
<p>The string literal represents a string or sequence of characters.</p>
</div>
</div>
<div class="sect4">
<h5 id="syntax-11"><a class="anchor" href="#syntax-11"></a>Syntax</h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sql hljs" data-lang="sql">characters |  characters <i class="conum" data-value="1"></i><b>(1)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The string literal can be double-quoted as well as single-quoted.</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="example-5"><a class="anchor" href="#example-5"></a>Example</h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sql hljs" data-lang="sql">SELECT firstName, lastName FROM db WHERE middleName = middle
SELECT firstName, lastName FROM db WHERE middleName = middle</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="lbl-lit-null"><a class="anchor" href="#lbl-lit-null"></a>NULL</h4>
<div class="sect4">
<h5 id="purpose-12"><a class="anchor" href="#purpose-12"></a>Purpose</h5>
<div class="paragraph">
<p>The literal NULL represents an empty value.</p>
</div>
</div>
<div class="sect4">
<h5 id="syntax-12"><a class="anchor" href="#syntax-12"></a>Syntax</h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sql hljs" data-lang="sql">NULL</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="example-6"><a class="anchor" href="#example-6"></a>Example</h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sql hljs" data-lang="sql">SELECT firstName, lastName FROM db WHERE middleName IS NULL</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="lbl-lit-missing"><a class="anchor" href="#lbl-lit-missing"></a>MISSING</h4>
<div class="sect4">
<h5 id="purpose-13"><a class="anchor" href="#purpose-13"></a>Purpose</h5>
<div class="paragraph">
<p>The MISSING literal represents a missing name-value pair in a document.
===== Syntax</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sql hljs" data-lang="sql">MISSING</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="example-7"><a class="anchor" href="#example-7"></a>Example</h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sql hljs" data-lang="sql">SELECT firstName, lastName FROM db WHERE middleName IS MISSING</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="lbl-lit-array"><a class="anchor" href="#lbl-lit-array"></a>Array</h4>
<div class="sect4">
<h5 id="purpose-14"><a class="anchor" href="#purpose-14"></a>Purpose</h5>
<div class="paragraph">
<p>Represents an Array</p>
</div>
</div>
<div class="sect4">
<h5 id="syntax-13"><a class="anchor" href="#syntax-13"></a>Syntax</h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sql hljs" data-lang="sql">arrayLiteral = '[' _ (expression ( _ ',' _ e2:expression )* )? ']'</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="example-8"><a class="anchor" href="#example-8"></a>Example</h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sql hljs" data-lang="sql">SELECT [a, b, c] FROM db
SELECT [ property1, property2, property3] FROM db
SELECT * FROM db WHERE name IN [James, John, Jack</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="lbl-lit-dict"><a class="anchor" href="#lbl-lit-dict"></a>Dictionary</h4>
<div class="sect4">
<h5 id="purpose-15"><a class="anchor" href="#purpose-15"></a>Purpose</h5>
<div class="paragraph">
<p>Represents a dictionary literal</p>
</div>
</div>
<div class="sect4">
<h5 id="syntax-14"><a class="anchor" href="#syntax-14"></a>Syntax</h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sql hljs" data-lang="sql">dictionaryLiteral = '{' _ ( STRING_LITERAL ':' e:expression
  ( _ ',' _ STRING_LITERAL ':' _ expression )* )?
   '}'</code></pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="example-9"><a class="anchor" href="#example-9"></a>Example</h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sql hljs" data-lang="sql">SELECT { name: James, department: 10 } FROM db
SELECT { name: James, department: dept } FROM db
SELECT { name: James, phones: [650-100-1000, 650-100-2000] } FROM db</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="lbl-exp-ident"><a class="anchor" href="#lbl-exp-ident"></a>Identifiers</h3>
<div class="sect3">
<h4 id="purpose-16"><a class="anchor" href="#purpose-16"></a>Purpose</h4>
<div class="paragraph">
<p>Identifiers provide symbolic references.
Use them for example to identify: column alias names, database names, database alias names, property names, parameter names, function names, and FTS index names.</p>
</div>
</div>
<div class="sect3">
<h4 id="syntax-15"><a class="anchor" href="#syntax-15"></a>Syntax</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sql hljs" data-lang="sql">&lt;[a-zA-Z_] [a-zA-Z0-9_$]*&gt; _ | "`" ( [^`] | "``"   )* "`"  _ <i class="conum" data-value="1"></i><b>(1)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The identifier allows a-z, A-Z, 0-9, _ (underscore), and $ character.<br>
The identifier is case sensitive.</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
To use other characters in the identifier, surround the identifier with the backticks ` character.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="example-10"><a class="anchor" href="#example-10"></a>Example</h4>
<div class="exampleblock">
<div class="title">Example 10. Identifiers</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sql hljs" data-lang="sql">SELECT * FROM db

SELECT * FROM `db-1` <i class="conum" data-value="1"></i><b>(1)</b>

SELECT key FROM db

SELECT key$1 FROM db_1

SELECT `key-1` FROM db</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Use of backticks allows a hyphen as part of the identifier name.</td>
</tr>
</table>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="lbl-exp-prop"><a class="anchor" href="#lbl-exp-prop"></a>Property Expressions</h3>
<div class="sect3">
<h4 id="purpose-17"><a class="anchor" href="#purpose-17"></a>Purpose</h4>
<div class="paragraph">
<p>The property expression is used to reference a property in a document</p>
</div>
</div>
<div class="sect3">
<h4 id="syntax-16"><a class="anchor" href="#syntax-16"></a>Syntax</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sql hljs" data-lang="sql">property = '*'| dataSourceName '.' _ '*'  | propertyPath <i class="conum" data-value="1"></i><b>(1)</b>

propertyPath = propertyName (
    ('.' _ propertyName ) |  <i class="conum" data-value="2"></i><b>(2)</b>
    ('[' _ INT_LITERAL _ ']' _  ) <i class="conum" data-value="3"></i><b>(3)</b>
    )* <i class="conum" data-value="4"></i><b>(4)</b>

propertyName = IDENTIFIER</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Prefix the property expression with the data  source name or alias to indicate its origin</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Use dot syntax to refer to nested properties in the propertyPath.<br></td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Use bracket ([index]) syntax to refer to an item in an array.<br></td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Use the asterisk (*) character to represents <em>all properties</em>. This can only be used in the result list of the SELECT clause.</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="example-11"><a class="anchor" href="#example-11"></a>Example</h4>
<div class="exampleblock">
<div class="title">Example 11. Property Expressions</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sql hljs" data-lang="sql">SELECT *
  FROM db
  WHERE contact.name = "daniel"

SELECT db.*
  FROM db
  WHERE contact.name = "daniel"

SELECT db.contact.address.city
  FROM db
  WHERE contact.name = "daniel"

SELECT contact.address.city, contact.phones[0]
  FROM db
  WHERE contact.name = "daniel"</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="lbl-exp-any"><a class="anchor" href="#lbl-exp-any"></a>Any and Every Expressions</h3>
<div class="sect3">
<h4 id="purpose-18"><a class="anchor" href="#purpose-18"></a>Purpose</h4>
<div class="paragraph">
<p>Evaluates expressions over items in an array object.</p>
</div>
</div>
<div class="sect3">
<h4 id="syntax-17"><a class="anchor" href="#syntax-17"></a>Syntax</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sql hljs" data-lang="sql">arrayExpression = <i class="conum" data-value="1"></i><b>(1)</b>
  anyEvery _ variableName <i class="conum" data-value="2"></i><b>(2)</b>
     _ IN &lt;.&gt;  _ expression <i class="conum" data-value="3"></i><b>(3)</b>
       _ SATISFIES _ expression <i class="conum" data-value="4"></i><b>(4)</b>
    END <i class="conum" data-value="5"></i><b>(5)</b>

anyEvery = anyOrSome AND EVERY | anyOrSome | EVERY

anyOrSome = ANY | SOME</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The array expression starts with <code>ANY/SOME</code>, <code>EVERY</code>, or <code>ANY/SOME AND EVERY</code>, each of which has a different function as described below, and is terminated by <code>END</code>
<div class="openblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p><code>ANY/SOME</code> : Returns <code>TRUE</code> if at least one item in the array satisfies the expression, otherwise returns <code>FALSE</code>.<br>
NOTE: <code>ANY</code> and <code>SOME</code> are interchangeable</p>
</li>
<li>
<p><code>EVERY</code>: Returns <code>TRUE</code> if all items in the array satisfies the expression, otherwise return <code>FALSE</code>. If the array is empty, returns <code>TRUE</code>.</p>
</li>
<li>
<p><code>ANY/SOME AND EVERY</code>: Same as <code>EVERY</code> but returns false if the array is empty.</p>
</li>
</ul>
</div>
</div>
</div></td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>The variable name represents each item in the array.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>The IN keyword is used for specifying the array to be evaluated.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>The SATISFIES keyword is used for evaluating each item in the array.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>END terminates the array expression.</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="example-12"><a class="anchor" href="#example-12"></a>Example</h4>
<div class="exampleblock">
<div class="title">Example 12. ALL and Every Expressions</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sql hljs" data-lang="sql">SELECT name
  FROM db
  WHERE ANY v
          IN contacts
          SATISFIES v.city = San Mateo
        END</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="lbl-exp-param"><a class="anchor" href="#lbl-exp-param"></a>Parameter Expressions</h3>
<div class="sect3">
<h4 id="purpose-19"><a class="anchor" href="#purpose-19"></a>Purpose</h4>
<div class="paragraph">
<p>Parameter expressions specify a value to be assigned from the parameter map presented when executing the query.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If parameters are specified in the query string, but the parameter and value mapping is not specified in the query object, an error will be  thrown when executing the query.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="syntax-18"><a class="anchor" href="#syntax-18"></a>Syntax</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sql hljs" data-lang="sql">$IDENTIFIER</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="examples-7"><a class="anchor" href="#examples-7"></a>Examples</h4>
<div class="exampleblock">
<div class="title">Example 13. Parameter Expression</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sql hljs" data-lang="sql">SELECT name
  FROM db
  WHERE department = $department</code></pre>
</div>
</div>
</div>
</div>
<div class="exampleblock">
<div class="title">Example 14. Using a Parameter</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">let q = Query(
          query: SELECT name
                    WHERE department = $department,
          database: db
        );

q.parameters =
      Parameters().setValue(
        E001, forName: "department"); <i class="conum" data-value="1"></i><b>(1)</b>

let result = try q.execute();</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The query resolves to
<code>SELECT name WHERE department = "E001"</code></td>
</tr>
</table>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="lbl-exp-paren"><a class="anchor" href="#lbl-exp-paren"></a>Parenthesis Expressions</h3>
<div class="sect3">
<h4 id="purpose-20"><a class="anchor" href="#purpose-20"></a>Purpose</h4>
<div class="paragraph">
<p>Use parentheses to group expressions together to make them more readable or to establish operator precedences.</p>
</div>
</div>
<div class="sect3">
<h4 id="example-13"><a class="anchor" href="#example-13"></a>Example</h4>
<div class="exampleblock">
<div class="title">Example 15. Parenthesis Expression</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sql hljs" data-lang="sql">SELECT (value1 + value2) * value 3 <i class="conum" data-value="1"></i><b>(1)</b>
  FROM db

SELECT *
  FROM db
  WHERE ((value1 + value2) * value3) + value4 = 10

SELECT *
  FROM db
  WHERE (value1 = value2)
     OR (value3 = value4) <i class="conum" data-value="2"></i><b>(2)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Establish the desired operator precedence; do the addition <strong>before</strong> the multiplication</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Clarify the conditional grouping</td>
</tr>
</table>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lbl-operators"><a class="anchor" href="#lbl-operators"></a>Operators</h2>
<div class="sectionbody">
<div class="dlist">
<dl>
<dt class="hdlist1">In this section</dt>
<dd>
<p><a href="#lbl-ops-binary">Binary Operators</a>&#160;&#160;|&#160;&#160;
<a href="#lbl-ops-unary">Unary Operators</a>&#160;&#160;|&#160;&#160;
<a href="#lbl-ops-coll">COLLATE Operators</a>&#160;&#160;|&#160;&#160;
<a href="#lbl-ops-cond">CONDITIONAL Operator</a></p>
</dd>
</dl>
</div>
<div class="sect2">
<h3 id="lbl-ops-binary"><a class="anchor" href="#lbl-ops-binary"></a>Binary Operators</h3>
<div class="paragraph">
<p><a href="#lbl-ops-maths">Maths</a>&#160;&#160;|&#160;&#160;
<a href="#lbl-comp-ops">Comparison Operators</a>&#160;&#160;|&#160;&#160;
<a href="#lbl-ops-logical">Logical Operators</a>&#160;&#160;|&#160;&#160;
<a href="#lbl-ops-string">String Operator</a></p>
</div>
<div class="sect3">
<h4 id="supported"><a class="anchor" href="#supported"></a>Supported</h4>

</div>
<div class="sect3">
<h4 id="syntax-19"><a class="anchor" href="#syntax-19"></a>Syntax</h4>

</div>
<div class="sect3">
<h4 id="lbl-ops-maths"><a class="anchor" href="#lbl-ops-maths"></a>Maths</h4>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 1. Maths Operators</caption>
<colgroup>
<col style="width: 20%;">
<col style="width: 40%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">Op</th>
<th class="tableblock halign-left valign-top">Desc</th>
<th class="tableblock halign-left valign-top">Example</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>+</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Add</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>WHERE v1 + v2 = 10</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>-</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Subtract</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>WHERE v1 - v2 = 10</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>*</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Multiply</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>WHERE v1 * v2 = 10</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>/</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Divide&#8201;&#8212;&#8201;see note <sup>1</sup></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>WHERE v1 / v2 = 10</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>%</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Modulo</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>WHERE v1 % v2 = 0</code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><sup>1</sup> If both operands are integers, integer division is  used, but if one is a floating number, then float division is used.
This differs from Server N1QL, which performs float division regardless. Use <code>DIV(x, y)</code> to force float division in CBL N1QL</p>
</div>
</div>
<div class="sect3">
<h4 id="lbl-comp-ops"><a class="anchor" href="#lbl-comp-ops"></a>Comparison Operators</h4>
<div class="sect4">
<h5 id="purpose-21"><a class="anchor" href="#purpose-21"></a>Purpose</h5>
<div class="paragraph">
<p>The <a href="https://ibsoln.github.io/api/mobile/3.0/couchbase-lite-net/api/Couchbase.Lite.Query.IExpression.html#Couchbase_Lite_Query_IExpression_">Expression Comparators</a> can be used in the WHERE statement to specify on which property to match documents.</p>
</div>
<table id="tbl-ops-comp" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 2. Comparison Operators</caption>
<colgroup>
<col style="width: 20%;">
<col style="width: 40%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">Op</th>
<th class="tableblock halign-left valign-top">Desc</th>
<th class="tableblock halign-left valign-top">Example</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><div class="content"><div class="paragraph">
<p><code>=</code> or <code>==</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Equals</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>WHERE v1 = v2<br>
WHERE v1 == v2</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><div class="content"><div class="paragraph">
<p><code>!=</code> or <code>&lt;&gt;</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Not Equal to</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>WHERE v1 != v2<br>
WHERE v1 &lt;&gt; v2</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Greater than</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>WHERE v1 &gt; v2</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>&gt;=</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Greater than or equal to</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>WHERE v1 &gt;= v2</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Less than</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>WHERE v1 &lt; v2</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>&gt;=</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Less than or equal to</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>WHERE v1 &#8656; v2</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>IN</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns TRUE if the value is in the list or array of values specified by the right hand side expression; Otherwise returns FALSE.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>WHERE James IN contactsList</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>LIKE</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>String wildcard pattern matching <sup>2</sup> comparison.
Two wildcards are supported:</p>
</div>
<div class="paragraph">
<p><code>%</code> Matches zero or more characters.<br>
<code>_</code> Matches a single character.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>WHERE name LIKE a%<br>
WHERE name LIKE %a<br>
WHERE name LIKE %or%<br>
WHERE name LIKE a%o%<br>
WHERE name LIKE %<em>r%<br>
WHERE name LIKE %a</em>%<br>
WHERE name LIKE %a__%<br>
WHERE name LIKE aldo</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>MATCH</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String matching using FTS see <a href="#lbl-ops-match">[lbl-ops-match]</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>WHERE v1-index MATCH "value"</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>BETWEEN</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Logically equivalent to v1&gt;=X and v1&#8656;X+z</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>WHERE v1 BETWEEN 10 and 100</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>IS <sup>3</sup> NULL</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Equal to null</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>WHERE v1 IS NULL</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>IS NOT NULL</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Not equal to null</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>WHERE v1 IS NOT NULL</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>IS MISSING</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Equal to MISSING</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>WHERE v1 IS MISSING</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>IS NOT MISSING</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Not equal to MISSING</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>WHERE v1 IS NOT MISSING</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>IS VALUED</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">IS NOT NULL AND MISSING</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>WHERE v1 IS VALUED</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>IS NOT VALUED</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">IS NULL OR MISSING</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>WHERE v1 IS NOT VALUED</code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><sup>2</sup> Matching is case-insensitive for ASCII characters, case-sensitive for non-ASCII (default).</p>
</div>
<div class="paragraph">
<p><sup>3</sup> Use of <code>IS</code> and <code>IS NOT</code> is limited to comparing <code>NULL</code> and <code>MISSING</code> values (this encompasses <code>VALUED</code>).
This is different from QueryBuilder, in which they operate as equivalents of <code>==</code> and <code>!=</code>.</p>
</div>
<table id="tbl-ops-isnot" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 3. Comparing NULL and MISSING values using IS.</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">OP</th>
<th class="tableblock halign-center valign-top">NON-NULL Value</th>
<th class="tableblock halign-center valign-top">NULL</th>
<th class="tableblock halign-center valign-top">MISSING</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">IS NULL</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">FALSE</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">TRUE</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">MISSING</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">IS NOT NULL</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">TRUE</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">FALSE</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">MISSING</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">IS MISSING</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">FALSE</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">FALSE</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">TRUE</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">IS NOT MISSING</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">TRUE</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">TRUE</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">FALSE</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">IS VALUED</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">TRUE</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">FALSE</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">FALSE</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">IS NOT VALUED</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">FALSE</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">TRUE</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">TRUE</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3">
<h4 id="lbl-ops-logical"><a class="anchor" href="#lbl-ops-logical"></a>Logical Operators</h4>
<div class="sect4">
<h5 id="purpose-22"><a class="anchor" href="#purpose-22"></a>Purpose</h5>
<div class="paragraph">
<p>Logical operators combine expressions using the following Boolean Logic Rules:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>TRUE is TRUE, and FALSE is FALSE</p>
</li>
<li>
<p>Numbers 0 or 0.0 are FALSE</p>
</li>
<li>
<p>Arrays and dictionaries are FALSE</p>
</li>
<li>
<p>String and Blob are TRUE if the values are casted as a non-zero or FALSE if the values are casted as 0 or 0.0</p>
</li>
<li>
<p>NULL is FALSE</p>
</li>
<li>
<p>MISSING is MISSING</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>This is different from Server N1QL, where:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>MISSING, NULL and FALSE are FALSE</p>
</li>
<li>
<p>Numbers 0 is FALSE</p>
</li>
<li>
<p>Empty strings, arrays, and objects are FALSE</p>
</li>
<li>
<p>All other values are TRUE</p>
</li>
</ul>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Use TOBOOLEAN(expr) function to convert a value based on Server N1QL boolean value rules,
</td>
</tr>
</table>
</div>
</td>
</tr>
</table>
</div>
<table id="tbl-ops-logical" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 4. Logical Operators</caption>
<colgroup>
<col style="width: 20%;">
<col style="width: 40%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">Op</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Example</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>AND</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns TRUE if the operand expressions evaluate to TRUE; otherwise FALSE.</p>
<p class="tableblock">If an operand is MISSING and the other is TRUE returns MISSING, if the other operand is FALSE it returns FALSE.</p>
<p class="tableblock">If an operand is NULL and the other is TRUE returns NULL, if the other operand is FALSE it returns FALSE.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>WHERE city = San Francisco AND status = true</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>OR</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns TRUE if one of the operand expressions is evaluated to TRUE; otherwise returns FALSE.</p>
<p class="tableblock">If an operand is MISSING, the operation will result in MISSING if the other operand is FALSE or TRUE if the other operand is TRUE.</p>
<p class="tableblock">If an operand is NULL, the operation will result in NULL if the other operand is FALSE or TRUE if the other operand is TRUE.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>WHERE city = San Francisco OR city = Santa Clara</code></p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 5. Logical Operation Table</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">a</th>
<th class="tableblock halign-left valign-top">b</th>
<th class="tableblock halign-left valign-top">a AND b</th>
<th class="tableblock halign-left valign-top">a OR b</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" rowspan="4"><p class="tableblock">TRUE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TRUE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TRUE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TRUE</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">FALSE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FALSE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TRUE</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">NULL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FALSE	<sup>5-1</sup></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TRUE</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MISSING</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MISSING</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TRUE</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" rowspan="4"><p class="tableblock">FALSE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TRUE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FALSE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TRUE</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">FALSE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FALSE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FALSE</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">NULL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FALSE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FALSE <sup>5-1</sup></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MISSING</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FALSE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MISSING</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" rowspan="4"><p class="tableblock">NULL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TRUE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FALSE <sup>5-1</sup></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TRUE</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">FALSE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FALSE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FALSE <sup>5-1</sup></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">NULL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FALSE <sup>5-1</sup></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FALSE <sup>5-1</sup></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MISSING</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FALSE  <sup>5-2</sup></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MISSING  <sup>5-3</sup></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" rowspan="4"><p class="tableblock">MISSING</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TRUE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MISSING</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TRUE</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">FALSE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FALSE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MISSING</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">NULL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FALSE  <sup>5-2</sup></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MISSING  <sup>5-3</sup></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">MISSING</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MISSING</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MISSING</p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
This differs from Server N1QL in the following instances:<br>
 <sup>5-1</sup> Server will return: NULL instead of FALSE<br>
 <sup>5-2</sup> Server will return: MISSING instead of FALSE<br>
 <sup>5-3</sup> Server will return: NULL instead of MISSING<br>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect3">
<h4 id="lbl-ops-string"><a class="anchor" href="#lbl-ops-string"></a>String Operator</h4>
<div class="sect4">
<h5 id="purpose-23"><a class="anchor" href="#purpose-23"></a>Purpose</h5>
<div class="paragraph">
<p>A single string operator is provided.
It enables string concatenation.</p>
</div>
<table id="tbl-ops-logical" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 6. String Operators</caption>
<colgroup>
<col style="width: 20%;">
<col style="width: 40%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">Op</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Example</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><div class="content"><div class="paragraph">
<p><code>||</code></p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Concatenating</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>SELECT firstnm || lastnm AS fullname FROM db</code></p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="lbl-ops-unary"><a class="anchor" href="#lbl-ops-unary"></a>Unary Operators</h3>
<div class="sect3">
<h4 id="purpose-24"><a class="anchor" href="#purpose-24"></a>Purpose</h4>
<div class="paragraph">
<p>Three unary operators are provided.
They operate by modifying an expression, making it numerically positive or negative, or by logically negating its value (TRUE becomes FALSE).</p>
</div>
</div>
<div class="sect3">
<h4 id="syntax-20"><a class="anchor" href="#syntax-20"></a>Syntax</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sql hljs" data-lang="sql">UNARY_OP _ expr</code></pre>
</div>
</div>
<table id="tbl-ops-logical" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 7. Unary Operators</caption>
<colgroup>
<col style="width: 20%;">
<col style="width: 40%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">Op</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Example</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>+</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Positive value</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>WHERE v1 = +10</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>+</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Negative value</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>WHERE v1 = -10</code></p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>NOT</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Logical Negate operator <sup>*</sup></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>WHERE "James" NOT IN contactsList</code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><sup>*</sup> The NOT operator is often used in conjunction with operators such as IN, LIKE, MATCH, and BETWEEN operators.<br>
NOT operation on NULL value returns NULL.<br>
NOT operation on MISSING value returns MISSING.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 8. NOT Operation TABLE</caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">a</th>
<th class="tableblock halign-center valign-top">NOT a</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">TRUE</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">FALSE</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">FALSE</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">TRUE</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">NULL</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">FALSE</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">MISSING</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">MISSING</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="lbl-ops-coll"><a class="anchor" href="#lbl-ops-coll"></a>COLLATE Operators</h3>
<div class="sect3">
<h4 id="purpose-25"><a class="anchor" href="#purpose-25"></a>Purpose</h4>
<div class="paragraph">
<p>Collate operators specify how the string comparison is conducted.</p>
</div>
</div>
<div class="sect3">
<h4 id="usage"><a class="anchor" href="#usage"></a>Usage</h4>
<div class="paragraph">
<p>The collate operator is used in conjunction with string comparison expressions and ORDER BY clauses.
It allows for one or more collations.</p>
</div>
<div class="paragraph">
<p>If multiple collations are used, the collations need to be specified in a parenthesis. When only one collation is used, the parenthesis is optional.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Collate is not supported by Server N1QL
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="syntax-21"><a class="anchor" href="#syntax-21"></a>Syntax</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sql hljs" data-lang="sql">collate = COLLATE collation | '(' collation (_ collation )* ')'

collation = NO? (UNICODE | CASE | DIACRITICS) WB <i class="conum" data-value="1"></i><b>(1)</b></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="arguments-9"><a class="anchor" href="#arguments-9"></a>Arguments</h4>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The available collation options are:
<div class="openblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p>UNICODE: Conduct a Unicode comparison; the default is to do ASCII comparison.</p>
</li>
<li>
<p>CASE: Conduct case-sensitive comparison</p>
</li>
<li>
<p>DIACRITIC: Take account of accents and diacritics in the comparison; On by default.</p>
</li>
<li>
<p>NO: This can be used as a prefix to the other collations, to disable thm (for example: <code>NOCASE</code> to enable case-insensitive comparison)</p>
</li>
</ul>
</div>
</div>
</div></td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="example-14"><a class="anchor" href="#example-14"></a>Example</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sql hljs" data-lang="sql">SELECT department FROM db WHERE (name = "fred") COLLATE UNICODE</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sql hljs" data-lang="sql">SELECT department FROM db WHERE (name = "fred")
COLLATE (UNICODE)</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sql hljs" data-lang="sql">SELECT department FROM db WHERE (name = "fred") COLLATE (UNICODE CASE)</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sql hljs" data-lang="sql">SELECT name FROM db ORDER BY name COLLATE (UNICODE DIACRITIC)</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="lbl-ops-cond"><a class="anchor" href="#lbl-ops-cond"></a>CONDITIONAL Operator</h3>
<div class="sect3">
<h4 id="purpose-26"><a class="anchor" href="#purpose-26"></a>Purpose</h4>
<div class="paragraph">
<p>The Conditional (or <code>CASE</code>) operator evaluates conditional logic in a similar way to the IF/ELSE operator.</p>
</div>
</div>
<div class="sect3">
<h4 id="syntax-22"><a class="anchor" href="#syntax-22"></a>Syntax</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sql hljs" data-lang="sql">CASE (expression) (WHEN expression THEN expression)+ (ELSE expression)? END <i class="conum" data-value="1"></i><b>(1)</b>

CASE (expression)? (!WHEN expression)?
  (WHEN expression THEN expression)+ (ELSE expression)? END <i class="conum" data-value="2"></i><b>(2)</b></code></pre>
</div>
</div>
<div class="paragraph">
<p>Both <em>Simple Case</em> and <em>Searched Case</em> expressions are supported.
The syntactic difference being that the <em>Simple Case</em> expression has an expression after the CASE keyword.</p>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Simple Case Expression
<div class="openblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p>If the CASE expression is equal to the first WHEN expression, the result is the THEN expression.</p>
</li>
<li>
<p>Otherwise, any subsequent WHEN clauses are evaluated in the same way.</p>
</li>
<li>
<p>If no match is found, the result of the CASE expression is the ELSE expression, NULL if no ELSE expression was provided.</p>
</li>
</ul>
</div>
</div>
</div></td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Searched Case Expression
<div class="openblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p>If the first WHEN expression is TRUE, the result of this expression is its THEN expression.</p>
</li>
<li>
<p>Otherwise, subsequent WHEN clauses are evaluated in the same way.
If no WHEN clause evaluate to TRUE, then the result of the expression is the ELSE expression, or NULL if no ELSE expression was provided.</p>
</li>
</ul>
</div>
</div>
</div></td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="example-15"><a class="anchor" href="#example-15"></a>Example</h4>
<div class="exampleblock">
<div class="title">Example 16. Simple Case</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sql hljs" data-lang="sql">SELECT CASE state WHEN CA THEN Local ELSE Non-Local END FROM DB</code></pre>
</div>
</div>
</div>
</div>
<div class="exampleblock">
<div class="title">Example 17. Searched Case</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sql hljs" data-lang="sql">SELECT CASE WHEN shippedOn IS NOT NULL THEN SHIPPED ELSE "NOT-SHIPPED" END FROM db</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lbl-functions"><a class="anchor" href="#lbl-functions"></a>Functions</h2>
<div class="sectionbody">
<div class="dlist">
<dl>
<dt class="hdlist1">In this section</dt>
<dd>
<p><a href="#lbl-func-agg">Aggregation Functions</a>&#160;&#160;|&#160;&#160;
<a href="#lbl-func-array">Array Functions</a>&#160;&#160;|&#160;&#160;
<a href="#lbl-func-cond">Conditional Functions</a>&#160;&#160;|&#160;&#160;
<a href="#lbl-func-date">Date and Time Functions</a>&#160;&#160;|&#160;&#160;
<a href="#lbl-func-fts">Full Text Search Functions</a>&#160;&#160;|&#160;&#160;
<a href="#lbl-func-maths">Maths Functions</a>&#160;&#160;|&#160;&#160;
<a href="#lbl-func-meta">Metadata Functions</a>&#160;&#160;|&#160;&#160;
<a href="#lbl-func-pattern">Pattern Searching Functions</a>&#160;&#160;|&#160;&#160;
<a href="#lbl-func-string">String Functions</a>&#160;&#160;|&#160;&#160;
<a href="#lbl-func-typecheck">Type Checking Functions</a>&#160;&#160;|&#160;&#160;
<a href="#lbl-func-typeconv">Type Conversion Functions</a></p>
</dd>
</dl>
</div>
<div class="sect2">
<h3 id="purpose-27"><a class="anchor" href="#purpose-27"></a>Purpose</h3>
<div class="paragraph">
<p>Functions are also expressions.</p>
</div>
</div>
<div class="sect2">
<h3 id="syntax-23"><a class="anchor" href="#syntax-23"></a>Syntax</h3>
<div class="paragraph">
<p>The function syntax is the same as Javas method syntax.
It starts with the function name, followed by optional arguments inside parentheses.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-sql hljs" data-lang="sql">function = functionName parenExprs

functionName  = IDENTIFIER

parenExprs = '(' ( expression (_ ',' _ expression )* )? ')'</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="lbl-func-agg"><a class="anchor" href="#lbl-func-agg"></a>Aggregation Functions</h3>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 9. Aggregation Functions</caption>
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Function</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>AVG(expr)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns average value of the number values in the group</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>COUNT(expr)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns a count of all values in the group</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>MIN(expr)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns the minimum value in the group</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>MAX(expr)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns the maximum value in the group</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>SUM(expr)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns the sum of all number values in the group</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="lbl-func-array"><a class="anchor" href="#lbl-func-array"></a>Array Functions</h3>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 10. Array Functions</caption>
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Function</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ARRAY_AGG(expr)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns an array of the non-MISSING group values in the input expression, including NULL values.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ARRAY_AVG(expr)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns the average of all non-NULL number values in the array; or NULL if there are none</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ARRAY_CONTAINS(expr)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns TRUE if the value exists in the array; otherwise FALSE</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ARRAY_COUNT(expr)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns the number of non-null values in the array</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ARRAY_IFNULL(expr)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns the first non-null value in the array</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ARRAY_MAX(expr)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns the largest non-NULL, non_MISSING value in the array</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ARRAY_MIN(expr)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns the smallest non-NULL, non_MISSING value in the array</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ARRAY_LENGTH(expr)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns the length of the array</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ARRAY_SUM(expr)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns the sum of all non-NULL numeric value in the array</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="lbl-func-cond"><a class="anchor" href="#lbl-func-cond"></a>Conditional Functions</h3>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 11. Conditional Functions</caption>
<colgroup>
<col style="width: 40%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Function</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>IFMISSING(expr1, expr2, &#8230;&#8203;)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns the first non-MISSING value, or NULL if all values are MISSING</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>IFMISSINGRONULL(expr1, expr2, &#8230;&#8203;)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns the first non-NULL and non-MISSING value, or NULL if all values are NULL or MISSING</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>IFNULL(expr1, expr2, &#8230;&#8203;)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns the first non-NULL, or NULL if all values are NULL</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>MISSINGIF(expr1, expr2)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns <code>MISSING</code> when <code>expr1 = expr2</code>; otherwise returns <code>expr1</code>.<br>
Returns <code>MISSING</code> if either or both expressions are <code>MISSING</code>.<br>
Returns <code>NULL</code> if either or both expressions are <code>NULL</code>.+</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>NULLF(expr1, expr2)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns <code>NULL</code> when <code>expr1 = expr2</code>; otherwise returns <code>expr1</code>.<br>
Returns <code>MISSING</code> if either or both expressions are <code>MISSING</code>.<br>
Returns <code>NULL</code> if either or both expressions are <code>NULL</code>.+</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="lbl-func-date"><a class="anchor" href="#lbl-func-date"></a>Date and Time Functions</h3>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 12. Date and Time Functions</caption>
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Function</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>STR_TO_MILLIS(expr)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns the number of milliseconds since the unix epoch of the given ISO 8601 date input string.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>STR_TO_UTC(expr)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns the ISO 8601 UTC date time string of the given ISO 8601 date input string.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>MILLIS_TO_STR(expr)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns a ISO 8601 date time string in device local timezone of the given number of milliseconds since the unix epoch expression.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>MILLIS_TO_UTC(expr)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns the UTC ISO 8601 date time string of the given number of milliseconds since the unix epoch expression.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="lbl-func-fts"><a class="anchor" href="#lbl-func-fts"></a>Full Text Search Functions</h3>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 13. FTS Functions</caption>
<colgroup>
<col style="width: 20%;">
<col style="width: 40%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Function</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Example</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>MATCH(indexName, term)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns <code>TRUE</code> if <code>term</code> expression matches the FTS indexed term. <code>indexName</code> identifies the FTS index, <code>term</code> expression to search for matching.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>WHERE MATCH (description, couchbase)</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>RANK(indexName)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns a numeric value indicating how well the current query result matches the full-text query when performing the <code>MATCH</code>. <code>indexName</code> is an IDENTIFIER for the FTS index.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>WHERE MATCH (description, couchbase) ORDER BY RANK(description)</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="lbl-func-maths"><a class="anchor" href="#lbl-func-maths"></a>Maths Functions</h3>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 14. Maths Functions</caption>
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Function</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ABS(expr)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns the absolute value of a number.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ACOS(expr)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns the arc cosine in radians.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ASIN(expr)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns the arcsine in radians.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ATAN(expr)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns the arctangent in radians.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ATAN2(expr1,expr2)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns the arctangent of expr2/expr1.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>CEIL(expr)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns the smallest integer not less than the number.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>COS(expr)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns the cosine value of the expression.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>DIV(expr1, expr2)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns float division of expr1 and expr2.<br>
Both expr1 and expr2 are cast to a double number before division.<br>
The returned result is always a double.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>IDIV(expr1, expr2)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns integer division of expr1 and expr2.<br>
Both expr1 and expr2 are cast to an integer number before division.<br>
The returned result is always an integer.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>DEGREES(expr)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Converts radians to degrees.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>E()</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns base of natural logarithms.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>EXP(expr)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns expr value</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>FLOOR(expr)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns largest integer not greater than the number.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>IDIV(expr1, expr2)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns integer division of expr1 and expr2.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>LN(expr)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns log base e value.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>LOG(expr)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns log base 10 value.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>PI()</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return PI value.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>POWER(expr1, expr2)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns expr1expr2 value.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>RADIANS(expr)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns degrees to radians.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ROUND(expr (, digits_expr)?)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns the rounded value to the given number of integer digits to the right of the decimal point (left if digits is negative). Digits are 0 if not given.<br>
The function uses <code>Rounding Away From Zero</code> convention to round midpoint values to the next number away from zero (so, for example, <code>ROUND(1.75)</code> returns 1.8 but <code>ROUND(1.85)</code> returns 1.9. <sup>*</sup></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ROUND_EVEN(expr (, digits_expr)?)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns rounded value to the given number of integer digits to the right of the decimal point (left if digits is negative). Digits are 0 if not given.</p>
<p class="tableblock">The function uses <em>Rounding to Nearest Even</em> (Bankers Rounding) convention which rounds midpoint values to the nearest even number (for example, both <code>ROUND_EVEN(1.75)</code> and <code>ROUND_EVEN(1.85)</code> return 1.8).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>SIGN(expr)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns -1 for negative, 0 for zero, and 1 for positive numbers.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>SIN(expr)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns sine value.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>SQRT(expr)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns square root value.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>TAN(expr)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns tangent value.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>TRUNC (expr (, digits, expr)?)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns a truncated number to the given number of integer digits to the right of the decimal point (left if digits is negative). Digits are 0 if not given.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><sup>*</sup> The behavior of the ROUND() function is different from Server N1QL ROUND(), which rounds the midpoint values using <em>Rounding to Nearest Even</em> convention.</p>
</div>
</div>
<div class="sect2">
<h3 id="lbl-func-meta"><a class="anchor" href="#lbl-func-meta"></a>Metadata Functions</h3>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 15. Metadata Functions</caption>
<colgroup>
<col style="width: 20%;">
<col style="width: 40%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Function</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Example</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>META(dataSourceName?)</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Returns a dictionary containing metadata properties including:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>id : document identifier</p>
</li>
<li>
<p>sequence : document mutating sequence number</p>
</li>
<li>
<p>deleted : flag indicating whether document is deleted or not</p>
</li>
<li>
<p>expiration : document expiration date in timestamp format</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The optional dataSourceName identifies the database  or the database alias name.<br>
To access a specific metadata property, use the dot expression.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>SELECT META() FROM db</code></p>
<p class="tableblock"><code>SELECT META().id, META().sequence, META().deleted, META().expiration FROM db</code></p>
<p class="tableblock"><code>SELECT p.name, r.rating FROM product as p INNER JOIN reviews AS r ON META(r).id IN p.reviewList WHERE META(p).id = "product320"</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="lbl-func-pattern"><a class="anchor" href="#lbl-func-pattern"></a>Pattern Searching Functions</h3>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 16. Pattern Searching Functions</caption>
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Function</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>REGEXP_CONTAINS(expr, pattern)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns TRUE if the string value contains any sequence that matches the regular expression pattern.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>REGEXP_LIKE(expr, pattern)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return TRUE if the string value exactly matches the regular expression pattern.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>REGEXP_POSITION(expr, pattern)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns the first position of the occurrence of the regular expression pattern within the input string expression. Return -1 if no match is found. Position counting starts from zero.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>REGEXP_REPLACE(expr, pattern, repl [, n])</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns new string with occurrences of pattern replaced with repl. If n is given, at the most n replacements are performed. If n is not given, all matching occurrences are replaced.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="lbl-func-string"><a class="anchor" href="#lbl-func-string"></a>String Functions</h3>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 17. String Functions</caption>
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Function</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>CONTAINS(expr, substring_expr)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns true if the substring exists within the input string, otherwise returns false.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>LENGTH(expr)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns the length of a string. The length is defined as the number of characters within the string.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>LOWER(expr)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns the lowercase string of the input string.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>LTRIM(expr)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns the string with all leading whitespace characters removed.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>RTRIM(expr)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns the string with all trailing whitespace characters removed.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>TRIM(expr)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns the string with all leading and trailing whitespace characters removed.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>UPPER(expr)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns the uppercase string of the input string.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="lbl-func-typecheck"><a class="anchor" href="#lbl-func-typecheck"></a>Type Checking Functions</h3>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 18. Type Checking Functions</caption>
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Function</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ISARRAY(expr)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns TRUE if expression is an array, otherwise returns MISSING, NULL or FALSE.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ISATOM(expr)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns TRUE if expression is a Boolean, number, or string, otherwise returns MISSING, NULL or FALSE.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ISBOOLEAN(expr)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns TRUE if expression is a Boolean, otherwise returns MISSING, NULL or FALSE.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ISNUMBER(expr)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns TRUE if expression is a number, otherwise returns MISSING, NULL or FALSE.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ISOBJECT(expr)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns TRUE if expression is an object (dictionary), otherwise returns MISSING, NULL or FALSE.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ISSTRING(expr)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns TRUE if expression is a string, otherwise returns MISSING, NULL or FALSE.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>TYPE(expr)</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Returns one of the following strings, based on the value of expression:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>missing</p>
</li>
<li>
<p>null</p>
</li>
<li>
<p>boolean</p>
</li>
<li>
<p>number</p>
</li>
<li>
<p>string</p>
</li>
<li>
<p>array</p>
</li>
<li>
<p>object</p>
</li>
<li>
<p>binary</p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="lbl-func-typeconv"><a class="anchor" href="#lbl-func-typeconv"></a>Type Conversion Functions</h3>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 19. Type Conversion Functions</caption>
<colgroup>
<col style="width: 30%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Function</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" rowspan="4"><p class="tableblock"><code>TOARRAY(expr)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns MISSING if the value is MISSING.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns NULL if the value is NULL.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns the array itself.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns all other values wrapped in an array.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" rowspan="6"><p class="tableblock"><code>TOATOM(expr)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns MISSING if the value is MISSING.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns NULL if the value is NULL.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns an array of a single item if the value is an array.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns an object of a single key/value pair if the value is an object.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns boolean, numbers, or strings</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns NULL for all other values.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" rowspan="6"><p class="tableblock"><code>TOBOOLEAN(expr)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns MISSING if the value is MISSING.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns NULL if the value is NULL.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns FALSE if the value is FALSE.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns FALSE if the value is 0 or NaN.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns FALSE if the value is an empty string, array, and object.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Return TRUE for all other values.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" rowspan="7"><p class="tableblock"><code>TONUMBER(expr)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns MISSING if the value is MISSING.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns NULL if the value is NULL.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns 0 if the value is FALSE.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns 1 if the value is TRUE.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns NUMBER if the value is NUMBER.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns NUMBER parsed from the string value.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns NULL for all other values.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" rowspan="4"><p class="tableblock"><code>TOOBJECT(expr)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns MISSING if the value is MISSING.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns NULL if the value is NULL.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns the object if the value is an object.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns an empty object for all other  values.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" rowspan="8"><p class="tableblock"><code>TOSTRING(expr)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns MISSING if the value is MISSING.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns NULL if the value is NULL.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns false if the value is FALSE.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns true if the value is TRUE.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns NUMBER in String if the value is NUMBER.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns the string value if the value is a string.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns NULL for all other values.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="querybuilder-differences"><a class="anchor" href="#querybuilder-differences"></a>QueryBuilder Differences</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Couchbase Lite N1QL Query supports all QueryBuilder features, except <em>Predictive Query</em> and <em>Index</em>. See <a href="#tbl-qbldr-diffs">Table 20</a> for the features supported by N1QL but not by QueryBuilder.</p>
</div>
<table id="tbl-qbldr-diffs" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 20. QueryBuilder Differences</caption>
<colgroup>
<col style="width: 40%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Category</th>
<th class="tableblock halign-left valign-top">Components</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Conditional Operator</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>CASE(WHEN &#8230;&#8203; THEN &#8230;&#8203; ELSE ..)</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Array Functions</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ARRAY_AGG
ARRAY_AVG
ARRAY_COUNT
ARRAY_IFNULL
ARRAY_MAX
ARRAY_MIN
ARRAY_SUM</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Conditional Functions</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>IFMISSING
IFMISSINGORNULL
IFNULL
MISSINGIF
NULLIF
Match Functions
DIV
IDIV
ROUND_EVEN</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pattern Matching Functions</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>REGEXP_CONTAINS
REGEXP_LIKE
REGEXP_POSITION
REGEXP_REPLACE</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Type Checking Functions</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ISARRAY
ISATOM
ISBOOLEAN
ISNUMBER
ISOBJECT
ISSTRING
TYPE</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Type Conversion Functions</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>TOARRAY
TOATOM
TOBOOLEAN
TONUMBER
TOOBJECT
TOSTRING</code></p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="lbl-resultsets"><a class="anchor" href="#lbl-resultsets"></a>Result Sets</h2>
<div class="sectionbody">
<div class="dlist">
<dl>
<dt class="hdlist1">In this section</dt>
<dd>
<p><a href="#lbl-process-resultset">Processing</a>&#160;&#160;|&#160;&#160;
<a href="#lbl-all-sel">Select All Properties</a>&#160;&#160;|&#160;&#160;
<a href="#lbl-specific-sel">Select Specific Properties</a>&#160;&#160;|&#160;&#160;
<a href="#lbl-id-sel">Select Document Id Only</a>&#160;&#160;|&#160;&#160;
<a href="#lbl-count-sel">Select Count-only</a>&#160;&#160;|&#160;&#160;
<a href="#lbl-pagination">Handling Pagination</a></p>
</dd>
</dl>
</div>
<div class="sect2">
<h3 id="lbl-process-resultset"><a class="anchor" href="#lbl-process-resultset"></a>Processing</h3>
<div class="paragraph">
<p>This section shows how to handle the returned result sets for different types of <code>SELECT</code> statements.</p>
</div>
<div class="paragraph">
<p>The result set format and its handling varies slightly depending on the type of SelectResult statements used.
The result set formats you may encounter include those generated by :</p>
</div>
<div class="ulist">
<ul>
<li>
<p>SelectResult.all&#8201;&#8212;&#8201;see: <a href="#lbl-all-sel">All Properties</a></p>
</li>
<li>
<p>SelectResult.expression(property("name"))&#8201;&#8212;&#8201;see: <a href="#lbl-specific-sel">Specific Properties</a></p>
</li>
<li>
<p>SelectResult.expression(meta.id)&#8201;&#8212;&#8201; Metadata (such as the <code>_id</code>)&#8201;&#8212;&#8201;see: <a href="#lbl-id-sel">Document ID Only</a></p>
</li>
<li>
<p>SelectResult.expression(Function.count(Expression.all())).as("mycount")&#8201;&#8212;&#8201; see: <a href="#lbl-count-sel">Select Count-only</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>To process the results of a query, you first need to execute it using <code>Query.execute</code>.</p>
</div>
<div class="paragraph">
<p>The execution of a Couchbase Lite for C#.Net&#8217;s database query typically returns an array of results, a result set.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The result set of an aggregate, count-only, query is a key-value pair&#8201;&#8212;&#8201;see <a href="#lbl-count-sel">Select Count-only</a>&#8201;&#8212;&#8201;which you can access using the count name as its key.</p>
</li>
<li>
<p>The result set of a query returning document properties is an array.<br>
Each array row represents the data from a document that matched your search criteria (the <code>WHERE</code> statements)
The composition of each row is determined by the combination of <code>SelectResult</code> expressions provided in the <code>SELECT</code> statement.
To unpack these result sets you need to iterate this array.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="lbl-all-sel"><a class="anchor" href="#lbl-all-sel"></a>Select All Properties</h3>
<div class="paragraph">
<div class="title">Query</div>
<p>The <code>Select</code> statement for this type of query, which returns all document properties for each document matching the query criteria, is fairly straightforward&#8201;&#8212;&#8201;see <a href="#ex-all-qry">Example 18</a></p>
</div>
<div id="ex-all-qry" class="exampleblock">
<div class="title">Example 18. Query selecting All Properties</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-C# hljs" data-lang="C#"></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Assumes <code>dbname</code> has been previously defined as the name of your database.</td>
</tr>
</table>
</div>
</div>
</div>
<div class="paragraph">
<div class="title">Result Set Format</div>
<p>The result set returned by queries using <code>SelectResult.all</code> is an array of dictionary objects&#8201;&#8212;&#8201;one for each document matching the query criteria.</p>
</div>
<div class="paragraph">
<p>For each result object, the key is the database name and the 'value' is a dictionary representing each document property as a key-value pair&#8201;&#8212;&#8201;see: <a href="#ex-all-rtn">Example 19</a>.</p>
</div>
<div id="ex-all-rtn" class="exampleblock">
<div class="title">Example 19. Format of Result Set (All Properties)</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json"></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Here we see the result for the first document matching the query criteria.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Here we see the result for the next document matching the query criteria.</td>
</tr>
</table>
</div>
</div>
</div>
<div class="paragraph">
<div class="title">Result Set Access</div>
<p>In this case access the retrieved document properties by converting each row&#8217;s value, in turn, to a dictionary&#8201;&#8212;&#8201;as shown in <a href="#ex-all-acc">Example 20</a>.</p>
</div>
<div id="ex-all-acc" class="exampleblock">
<div class="title">Example 20. Using Document Properties (All)</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-C# hljs" data-lang="C#"></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Here we get the dictionary of document properties using the database name as the key.
You can add this dictionary to an array of returned matches, for processing elsewhere in the app.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Alternatively you can access the document properties here, by using the property names as keys to the dictionary object.</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="lbl-specific-sel"><a class="anchor" href="#lbl-specific-sel"></a>Select Specific Properties</h3>
<div class="paragraph">
<div class="title">Query</div>
<p>Here we use <code>SelectResult.expression(property("&lt;property-name&gt;")))</code> to specify the document properties we want our query to return&#8201;&#8212;&#8201;see: <a href="#ex-specific-qry">Example 21</a>.</p>
</div>
<div id="ex-specific-qry" class="exampleblock">
<div class="title">Example 21. Query selecting Specific Properties</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-C# hljs" data-lang="C#"></code></pre>
</div>
</div>
</div>
</div>
<div class="paragraph">
<div class="title">Result Set Format</div>
<p>The result set returned when selecting only specific document properties is an array of dictionary objects&#8201;&#8212;&#8201;one for each document matching the query criteria.</p>
</div>
<div class="paragraph">
<p>Each result object comprises a key-value pair for each selected document property&#8201;&#8212;&#8201;see <a href="#ex-specific-rtn">Example 22</a></p>
</div>
<div id="ex-specific-rtn" class="exampleblock">
<div class="title">Example 22. Format of Result Set (Specific Properties)</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json"></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Here we see the result for the first document matching the query criteria.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Here we see the result for the next document matching the query criteria.</td>
</tr>
</table>
</div>
</div>
</div>
<div class="paragraph">
<div class="title">Result Set Access</div>
<p>Access the retrieved properties by converting each row into a dictionary&#8201;&#8212;&#8201;as shown in <a href="#ex-specific-acc">Example 23</a>.</p>
</div>
<div id="ex-specific-acc" class="exampleblock">
<div class="title">Example 23. Using Returned Document Properties (Specific Properties)</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-C# hljs" data-lang="C#"></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="lbl-id-sel"><a class="anchor" href="#lbl-id-sel"></a>Select Document Id Only</h3>
<div class="paragraph">
<div class="title">Query</div>
<p>You would typically use this type of query if retrieval of document properties directly would consume excessive amounts of memory and-or processing time&#8201;&#8212;&#8201;see: <a href="#ex-id-qry">Example 24</a>.</p>
</div>
<div id="ex-id-qry" class="exampleblock">
<div class="title">Example 24. Query selecting only Doc Id</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-C# hljs" data-lang="C#">[data-source-url=https://github.com/ibsoln/docs-couchbase-lite/blob/undefined/modules/csharp/examples/code_snippets/Program.cs]</code></pre>
</div>
</div>
</div>
</div>
<div class="paragraph">
<div class="title">Result Set Format</div>
<p>The result set returned by queries using a SelectResult expression of the form <code>SelectResult.expression(meta.id)</code> is an array of dictionary objects&#8201;&#8212;&#8201;one for each document matching the query criteria.
Each result object has <code>id</code> as the key and the ID value as its value&#8201;&#8212;&#8201;-see <a href="#ex-id-rtn">Example 25</a>.</p>
</div>
<div id="ex-id-rtn" class="exampleblock">
<div class="title">Example 25. Format of Result Set (Doc Id only)</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json"></code></pre>
</div>
</div>
</div>
</div>
<div class="paragraph">
<div class="title">Result Set Access</div>
<p>In this case, access the required document&#8217;s properties by unpacking the <code>id</code> and using it to get the document from the database&#8201;&#8212;&#8201;see: <a href="#ex-id-acc">Example 26</a>.</p>
</div>
<div id="ex-id-acc" class="exampleblock">
<div class="title">Example 26. Using Returned Document Properties (Document Id)</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-C# hljs" data-lang="C#"></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Extract the Id value from the dictionary and use it to get the document from the database</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="lbl-count-sel"><a class="anchor" href="#lbl-count-sel"></a>Select Count-only</h3>
<div id="ex-count-qry" class="exampleblock">
<div class="title">Example 27. Query selecting a Count-only</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-C# hljs" data-lang="C#"></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The alias name, <code>mycount</code>, is used to access the count value.</td>
</tr>
</table>
</div>
</div>
</div>
<div class="paragraph">
<div class="title">Result Set Format</div>
<p>The result set returned by a count such as <code>Select.expression(Function.count(Expression.all)))</code> is a key-value pair.
The key is the count name, as defined using <code>SelectResult.as</code>&#8201;&#8212;&#8201;see: <a href="#ex-count-rtn">Example 28</a> for the format and <a href="#ex-count-qry">Example 27</a> for the query.</p>
</div>
<div id="ex-count-rtn" class="exampleblock">
<div class="title">Example 28. Format of Result Set (Count)</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json"></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Here we see the key-value pair returned by a count.</td>
</tr>
</table>
</div>
</div>
</div>
<div class="paragraph">
<div class="title">Result Set Access</div>
<p>Access the count using its alias name (<code>mycount</code> in this example)&#8201;&#8212;&#8201;see <a href="#ex-count-acc">Example 29</a></p>
</div>
<div id="ex-count-acc" class="exampleblock">
<div class="title">Example 29. Using Returned Document Properties (Count)</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-C# hljs" data-lang="C#"></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Get the count using the <code>SelectResult.as</code> alias, which is used as its key.</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="lbl-pagination"><a class="anchor" href="#lbl-pagination"></a>Handling Pagination</h3>
<div class="paragraph">
<p>One way to handle pagination in high-volume queries is to retrieve the results in batches.
Use the <code>tag=n1ql-</code> and <code>offset</code> feature, to return a defined number of results starting from a given offset&#8201;&#8212;&#8201;see: <a href="#ex-pagination">Example 30</a>.</p>
</div>
<div id="ex-pagination" class="exampleblock">
<div class="title">Example 30. Query Pagination</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-C# hljs" data-lang="C#">[data-source-url=https://github.com/ibsoln/docs-couchbase-lite/blob/undefined/modules/csharp/examples/code_snippets/Program.cs]</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Return a maximum of <code>LIMIT</code> results starting from result number <code>offset</code></td>
</tr>
</table>
</div>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
For more on using the QueryBuilder API, see our blog: <a href="https://blog.couchbase.com/sql-for-json-query-interface-couchbase-mobile/" target="_blank" rel="noopener">Introducing the Query Interface in Couchbase Mobile</a>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="json-result-sets"><a class="anchor" href="#json-result-sets"></a>JSON Result Sets</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Couchbase Lite for C#.Net provides a convenience API to convert query results to JSON strings.</p>
</div>
<div class="paragraph">
<p>Use {url-api-class-result-toJSON} to transform your result string into a JSON string, which can easily be serialized or used as required in your application. See <a href="#ex-json">Example 31</a> for a working example.</p>
</div>
<div id="ex-json" class="exampleblock">
<div class="title">Example 31. Using JSON Results</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-C# hljs" data-lang="C#"></code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="related-content"><a class="anchor" href="#related-content"></a>Related Content</h2>
<div class="sectionbody">
<div class="card-row three-column-row">
<div class="sect5 column">
<h6 id=""><a class="anchor" href="#"></a></h6>
<div class="ulist">
<div class="title">How to . . .</div>
<ul>
<li>
<p><a href="gs-prereqs.html" class="page">Prerequisites</a></p>
</li>
<li>
<p><a href="gs-install.html" class="page">Install</a></p>
</li>
<li>
<p><a href="gs-build.html" class="page">Build and Run</a></p>
</li>
</ul>
</div>
</div>
<div class="sect5 column">
<h6 id="-2"><a class="anchor" href="#-2"></a></h6>
<div class="ulist">
<div class="title">Learn more . . .</div>
<ul>
<li>
<p><a href="database.html" class="page">Databases</a></p>
</li>
<li>
<p><a href="document.html" class="page">Documents</a></p>
</li>
<li>
<p><a href="blob.html" class="page">Blobs</a></p>
</li>
<li>
<p><a href="replication.html" class="page">Remote Sync using Sync Gateway</a></p>
</li>
<li>
<p><a href="conflict.html" class="page">Handling Data Conflicts</a></p>
</li>
</ul>
</div>
</div>
<div class="sect5 column">
<h6 id="-3"><a class="anchor" href="#-3"></a></h6>
<div class="ulist">
<div class="title">Dive Deeper . . .</div>
<ul>
<li>
<p><a href="https://forums.couchbase.com/c/mobile/14">Forum</a> <strong>|</strong> <a href="https://blog.couchbase.com/">Blog</a> <strong>|</strong> <a href="https://docs.couchbase.com/tutorials/index.html">Tutorials</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</article>
</main>
</div>
<footer class="footer">
  <div class="container">
    <div class="footer-links">
      <div class="col">
        <div class="footer-logo">
          <a href="https://www.couchbase.com" class="icon">
            <img src="../../../_/img/couchbase_logo_black.svg" alt="Couchbase">
          </a>
        </div>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://docs.couchbase.com" target="_blank" rel="noopener">Documentation</a></li>
          <li><a href="https://forums.couchbase.com" target="_blank" rel="noopener">Forums</a></li>
          <li><a href="https://support.couchbase.com" target="_blank" rel="noopener">Support</a></li>
        </ul>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://developer.couchbase.com" target="_blank" rel="noopener">Developer Portal</a></li>
          <li><a href="https://blog.couchbase.com" target="_blank" rel="noopener">Blog</a></li>
          <li><a href="https://www.couchbase.com/resources">Resources</a></li>
        </ul>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://www.couchbase.com/get-started-developing-nosql">Get Started</a></li>
          <li><a href="https://www.couchbase.com/downloads">Downloads</a></li>
          <li><a href="https://learn.couchbase.com/store?utf8=%E2%9C%93&ss=1&ct=78327&commit=Filter" target="_blank" rel="noopener">Training</a></li>
        </ul>
      </div>
      <div class="col">
        <ul class="social-icons">
          <li>
            <svg  width="14" height="14" viewBox="0 0 32 32"> <path id="facebook" class="cls-1" d="M29,0H3A2.652,2.652,0,0,0,0,3V29a2.652,2.652,0,0,0,3,3H16V18H12V14h4V12a6.452,6.452,0,0,1,6-6h4v4H22a2.151,2.151,0,0,0-2,2v2h6l-1,4H20V32h9a2.652,2.652,0,0,0,3-3V3A2.652,2.652,0,0,0,29,0Z"/></svg>
            <a href="https://www.facebook.com/Couchbase" class="icon">
            Facebook
            </a>
          </li>
          <li>
            <svg  width="14" height="14" viewBox="0 0 32.1 26.1"> <path id="twitter" class="cls-1" d="M32,7.1a11.836,11.836,0,0,1-3.8,1,6.462,6.462,0,0,0,2.9-3.6,12.606,12.606,0,0,1-4.2,1.6A6.492,6.492,0,0,0,22.1,4a6.594,6.594,0,0,0-6.6,6.6,7.719,7.719,0,0,0,.2,1.5A18.458,18.458,0,0,1,2.2,5.2a6.294,6.294,0,0,0-.9,3.3A6.765,6.765,0,0,0,4.2,14a6.109,6.109,0,0,1-3-.8v.1a6.543,6.543,0,0,0,5.3,6.4,4.678,4.678,0,0,1-1.7.2,4.869,4.869,0,0,1-1.2-.1,6.679,6.679,0,0,0,6.1,4.6,12.917,12.917,0,0,1-8.2,2.8,9.151,9.151,0,0,1-1.6-.1,18.438,18.438,0,0,0,10.1,3c12.1,0,18.7-10,18.7-18.7v-.8A13.336,13.336,0,0,0,32,7.2Z" transform="translate(0.1 -4)"/></svg>
            <a href="https://twitter.com/couchbase" class="icon">
              Twitter
            </a>
          </li>
          <li>
          <svg  width="14" height="14" viewBox="0 0 32 32"> <path id="linkedin" class="cls-1" d="M29,0H3A3.076,3.076,0,0,0,0,3V29a3.009,3.009,0,0,0,3,3H29a2.946,2.946,0,0,0,3-3V3A3.009,3.009,0,0,0,29,0ZM12,26H8V12h4ZM10,10a2,2,0,1,1,2-2A2.006,2.006,0,0,1,10,10ZM26,26H22V18a2,2,0,0,0-4,0v8H14V12h4v2.5c.8-1.1,2.1-2.5,3.5-2.5A4.736,4.736,0,0,1,26,17Z"/></svg>
              <a href="https://www.linkedin.com/company/couchbase" class="icon">
             Linkedin
            </a>
          </li>
        </ul>
      </div>
    </div>
    <div class="footer-terms">
      <div class="footer-terms-copyright">
          <span> 2021 Couchbase, Inc. Couchbase, Couchbase Lite and the Couchbase logo are registered trademarks of Couchbase, Inc.</span>
      </div>
      <div class="footer-terms-links">
        <a href="https://www.couchbase.com/terms-of-use">Terms of Use</a>
        <a href="https://www.couchbase.com/privacy-policy">Privacy Policy</a>
        <a href="https://www.couchbase.com/cookie-policy">Cookie Policy</a>
        <a href="https://www.couchbase.com/support-policy">Support Policy</a>
        <a href="https://info.couchbase.com/unsubscribe-or-manage-preferences.html" target="_blank" rel="noopener">Marketing Preference Center</a>
      </div>
    </div>
  </div>
</footer>
<script src="../../../_/js/site.js"></script>
<script async src="../../../_/js/vendor/fontawesome-icon-defs.js"></script>
<script async src="../../../_/js/vendor/fontawesome.js"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
</body>
</html>
