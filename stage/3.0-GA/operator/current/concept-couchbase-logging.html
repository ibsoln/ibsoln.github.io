<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta http-equiv=content-security-policy content="default-src 'none'; script-src 'self' 'unsafe-eval' 'unsafe-inline' https:; style-src 'self' 'unsafe-inline' https:; font-src 'self' https://fonts.gstatic.com; frame-src 'self' https:; img-src 'self' data: https:; connect-src 'self' https:; worker-src blob:;">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>Couchbase Server Logging | Couchbase Docs</title>
<link rel="canonical" href="https://ibsoln.github.io/stage/3.0-GA/operator/current/concept-couchbase-logging.html">
<link rel="stylesheet" href="../../_/css/site.css">
<script src="../../_/js/vendor/jquery.js"></script>
<link rel="schema.dcterms" href="https://purl.org/dc/terms/">


<meta name="dcterms.subject" content="operator">
<meta name="dcterms.identifier" content="2.2">
<meta name="page-url" content="/operator/current/concept-couchbase-logging.html">
<meta name="generator" content="Antora 3.0.0-alpha.5">
<link rel="icon" href="../../_/img/favicon.ico" type="image/x-icon">
</head>
<body class="article">
<header class="header fixed-top">
  <div class="header-top-row">
      <div class="container">
          <nav class="navbar navbar-expand-md flex-nowrap justify-content-between navbar-new-top">
              <ul class="navbar-brand-list">
                <li class="brand-logo">
                  <a class="navbar-brand" href="https://www.couchbase.com">
                    <img src="../../_/img/couchbase-logo.svg" alt="Couchbase" />
                  </a>
                </li>
                <li>
                  <a class="navbar-brand cb-documentation" href="https://ibsoln.github.io/stage/3.0-GA/home/index.html">
                    <img src="../../_/img/cb-documentation.svg" alt="Couchbase Documentation" class="cb-docs" />
                    <img src="../../_/img/cb-docs-hover.svg" alt="Couchbase Documentation" class="hide cb-hover-docs" />
                  </a>
                </li>
              </ul>
              <button class="navbar-burger" data-target="topbar-menu">
                <span></span>
                <span></span>
                <span></span>
              </button>

          </nav>
      </div>
  </div>
  <div class="header-bottom-row" id="topbar-menu">
    <div class="container">
        <nav  class="navbar navbar-new-bottom">

              <div class="navbar-collapse collapse" id="navbar2">
                <ul class="navbar-nav w-100 justify-content-start">
                  <li class="nav-item">
                    <a href="https://ibsoln.github.io/stage/3.0-GA/home/index.html" class="nav-link">
                      <i class="fas fa-home"></i>
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../home/server.html">
                      Server
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../home/mobile.html">
                      Mobile Stage
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../home/cloud.html">
                      Cloud
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../home/sdk.html">
                      SDKs
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" href="../../tutorials/index.html">
                      Tutorials
                      <span class="arrow">
                        <i class="fas fa-arrow-right"></i>
                      </span>
                    </a>
                  </li>
                </ul>
              </div>
              <div class="primary-action">
                <a class="btn btn-primary btn-grey-reverse" onclick="(window.dataLayer=window.dataLayer||[]).push({'event':'customEvent', 'category':'CTA', 'action':'Button Click',  'label':'Download'});" href="https://www.couchbase.com/downloads">
                  Downloads
                  <i class="far fa-arrow-to-bottom fa-fw"></i>
                </a>
                <a href="https://cloud.couchbase.com/sign-up" class="btn btn-primary" onclick="(window.dataLayer=window.dataLayer||[]).push({'event':'customEvent', 'category':'CTA', 'action':'Button Click',  'label':'Free Trial'});" >
                  Start Free Trial
                  <i class="far fa-cloud fa-fw"></i>
                </a>

              </div>

        </nav>
    </div>
   </div>
</header>
<div class="body container">
<aside class="nav left-sidebar">
  <div class="nav-container">
    <a href="#" class="menu-expand-toggle"><span>Navigation</span><i class="fas fa-times-circle"></i><i class="fas fa-chevron-circle-left"></i></a>
<div class="components">
  <div class="components_group-title">
    Cloud-Native
  </div>
  <ul class="components_list">
    <li class="components_list-items">
      <div class="component_list-version">
        <span class="component_list_title">Autonomous Operator</span>
        <select class="version_list" data-component="operator">
          <option value="2.2" data-url="overview.html" selected>2.2</option>
        </select>
      </div>
      <div class="version_items hide" data-version="2.2">
<ul class="menu_row">
<li class="menu_list is-parent closed" data-depth="0">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Introduction</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="overview.html">Introduction</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="whats-new.html">What&#8217;s New?</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="best-practices.html">Guidelines and Best Practices</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="prerequisite-and-setup.html">Prerequisites and System Requirements</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="prerequisite-cloud.html">Public Cloud Prerequisites</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="install-kubernetes.html">Install the Operator on Kubernetes</a>
  </span>
</li>
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="install-openshift.html">Install the Operator on OpenShift</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="0">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Learn</span>
  </span>
<ul class="menu_row">
<li class="menu_list is-parent closed" data-depth="1">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Kubernetes Concepts</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="concept-kubernetes-networking.html">Kubernetes Networking</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="concept-persistent-volumes.html">Persistent Volumes</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="concept-kubernetes-upgrade.html">Kubernetes Automated Upgrade</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="1">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Operator Concepts</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="concept-operator.html">Operator Architecture</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="concept-operator-logging.html">Operator Logging</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="1">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Couchbase Cluster Concepts</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="concept-label-selection.html">Couchbase Resource Label Selection</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="concept-rbac.html">Couchbase Resource RBAC</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="concept-user-rbac.html">Couchbase User RBAC</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="concept-memory-allocation.html">Couchbase Memory Allocation</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="concept-mds.html">Couchbase Multi-Dimensional Scaling</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="concept-scheduling.html">Couchbase Scheduling and Isolation</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="concept-sizing.html">Couchbase Sizing</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="concept-vertical-scaling.html">Couchbase Cluster Vertical Scaling</a>
  </span>
</li>
<li class="menu_list is-parent closed" data-depth="2">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <a class="menu_title menu_link" href="concept-couchbase-autoscaling.html">Couchbase Cluster Auto-scaling</a>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="concept-couchbase-autoscaling-best-practices.html">Auto-scaling Best Practices</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="concept-couchbase-networking.html">Couchbase Networking</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="concept-tls.html">Couchbase TLS</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="concept-credential-rotation.html">Couchbase Credential Rotation</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="concept-server-groups.html">Couchbase Server Groups</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="concept-upgrade.html">Couchbase Upgrades</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="concept-hibernation.html">Couchbase Cluster Hibernation</a>
  </span>
</li>
<li class="menu_list is-current-page" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link is-current-page" href="concept-couchbase-logging.html">Couchbase Logging</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="concept-backup.html">Couchbase Backup and Restore</a>
  </span>
</li>
</ul>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="0">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Manage</span>
  </span>
<ul class="menu_row">
<li class="menu_list is-parent closed" data-depth="1">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Operator</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="howto-operator-upgrade.html">Upgrade the Operator</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="howto-manage-operator-logging.html">Manage Operator Logging</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="howto-roll-your-own.html">Create Your Own Operator Images</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="1">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Couchbase Cluster</span>
  </span>
<ul class="menu_row">
<li class="menu_list is-parent closed" data-depth="2">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Lifecycle</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="howto-couchbase-create.html">Create a Couchbase Deployment</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="howto-couchbase-update.html">Modify a Couchbase Deployment</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="howto-couchbase-upgrade.html">Upgrade a Couchbase Deployment</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="howto-couchbase-delete.html">Delete a Couchbase Deployment</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="howto-couchbase-scale.html">Scale a Couchbase Deployment</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="2">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Configure</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="howto-persistent-volumes.html">Configure Persistent Volumes</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="howto-backup.html">Configure Backup &amp; Restore</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="howto-mds.html">Configure Multi-Dimensional Scaling</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="howto-couchbase-autoscaling.html">Configure Couchbase Cluster Auto-scaling</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="howto-xdcr.html">Configure XDCR</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="howto-public-networking.html">Configure Public Networking</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="howto-nodeport-networking.html">Configure Node Port Networking</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="howto-server-groups.html">Configure Server Groups</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="howto-admin-password-rotation.html">Rotate the Administrator Password</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="howto-tls.html">Configure TLS</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="howto-tls-client-certificates.html">Configure Client Certificate Authentication</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="howto-tls-rotation.html">Rotate TLS Certificates</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="howto-prometheus.html">Configure Prometheus Metrics Collection</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="howto-manage-couchbase-logging.html">Manage Couchbase Logging</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="howto-couchbase-log-forwarding.html">Configure Log Forwarding</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="howto-non-root-install.html">Configure Non-Root Installs</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="2">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Connect</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="howto-ui.html">Access the Couchbase User Interface</a>
  </span>
</li>
<li class="menu_list" data-depth="3">
  <span class="menu_line">
    <a class="menu_title menu_link" href="howto-client-sdks.html">Configure Client SDKs</a>
  </span>
</li>
</ul>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="1">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Kubernetes</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="howto-storage-class.html">Create a Lazy Bound Storage Class</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="1">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Helm</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="helm-setup-guide.html">Helm Deployment</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="helm-managing-guide.html">Helm Management</a>
  </span>
</li>
</ul>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="0">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Reference</span>
  </span>
<ul class="menu_row">
<li class="menu_list is-parent closed" data-depth="1">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Resource Types</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="reference-resources.html">Resource Documentation</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="resource/couchbaseautoscaler.html">CouchbaseAutoscaler Resource</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="resource/couchbasebackuprestore.html">CouchbaseBackupRestore Resource</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="resource/couchbasebackup.html">CouchbaseBackup Resource</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="resource/couchbasebucket.html">CouchbaseBucket Resource</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="resource/couchbasecluster.html">CouchbaseCluster Resource</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="resource/couchbaseephemeralbucket.html">CouchbaseEphemeralBucket Resource</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="resource/couchbasegroup.html">CouchbaseGroup Resource</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="resource/couchbasememcachedbucket.html">CouchbaseMemcachedBucket Resource</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="resource/couchbasereplication.html">CouchbaseReplication Resource</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="resource/couchbaserolebinding.html">CouchbaseRoleBinding Resource</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="resource/couchbaseuser.html">CouchbaseUser Resource</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="1">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Operator</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="reference-admission-cli.html">Dynamic Admission Controller Deployment Settings</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="reference-admission-rbac.html">Dynamic Admission Controller RBAC Settings</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="reference-operator-configuration.html">Operator Deployment Settings</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="reference-operator-rbac.html">Operator RBAC Settings</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="reference-operator-logging.html">Operator Logging</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="1">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Couchbase Cluster</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="reference-reference-architecture.html"><code>CouchbaseCluster</code> Reference Architecture</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="reference-couchbasecluster-events.html"><code>CouchbaseCluster</code> Events</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="reference-couchbasecluster-services.html"><code>CouchbaseCluster</code> Services</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="1">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Helm</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="helm-couchbase-config.html">Couchbase Helm Chart Specification</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="1">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Tools</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="tools/cbopcfg.html">cbopcfg</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="tools/cbopinfo.html">cbopinfo</a>
  </span>
</li>
</ul>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="0">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Tutorials</span>
  </span>
<ul class="menu_row">
<li class="menu_list is-parent closed" data-depth="1">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Authentication and Authorization</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="tutorial-rbac-auth.html">Authenticating with Couchbase and LDAP</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="1">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Autoscaling</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="tutorial-autoscale-data.html">Autoscaling Couchbase Data Service</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="tutorial-autoscale-index.html">Autoscaling Couchbase Index Service</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="tutorial-autoscale-query.html">Autoscaling Couchbase Query Service</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="1">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Backup</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="tutorial-velero-backup.html">Backup with VMware Velero</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="1">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Cloud Platforms</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="tutorial-aks.html">Installing AKS</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="tutorial-eks.html">Installing EKS</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="tutorial-gke.html">Installing GKE</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="1">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Logging</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="tutorial-couchbase-log-forwarding.html">Forwarding Couchbase Logs with Fluent Bit</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="1">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Metering</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="tutorial-metering-kubernetes.html">Metering Couchbase Resources In Kubernetes</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="tutorial-metering.html">Metering Couchbase Resources In OpenShift</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="1">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Monitoring</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="tutorial-prometheus.html">Quick Start with Prometheus Monitoring</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="1">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Networking</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="tutorial-remote-dns.html">Inter-Kubernetes Networking with Forwarded DNS</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="tutorial-public-addressability.html">Public Networking with External DNS</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="1">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Persistent Volumes</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="tutorial-volume-expansion.html">Persistent Volume Expansion</a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="1">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Sync Gateway</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="tutorial-sync-gateway.html">Connecting Sync-Gateway to a Couchbase Cluster</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="tutorial-sync-gateway-clients.html">Exposing Sync-Gateway to Couchbase Lite Clients</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="tutorial-sync-gateway-manage.html">Managing Sync Gateway Cluster </a>
  </span>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="1">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">TLS</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="tutorial-tls.html">Creating TLS Certificates</a>
  </span>
</li>
<li class="menu_list" data-depth="2">
  <span class="menu_line">
    <a class="menu_title menu_link" href="tutorial-cert-manager.html">Using a Certificate Manager</a>
  </span>
</li>
</ul>
</li>
</ul>
</li>
<li class="menu_list is-parent closed" data-depth="0">
  <span class="menu_line">
    <span class="in-toggle"></span>
    <span class="menu_title menu_text">Release Notes</span>
  </span>
<ul class="menu_row">
<li class="menu_list" data-depth="1">
  <span class="menu_line">
    <a class="menu_title menu_link" href="release-notes.html">Release Notes</a>
  </span>
</li>
</ul>
</li>
</ul>
      </div>
    </li>
  </ul>
</div>
  </div>
</aside>
<aside class="toc sidebar"
      data-title="Contents"
      data-levels="1">
  <div class="sidebar-box">
        <div class="toc-menu"></div>
    <div class="is-this-helpful-box">
      <h4> Is this page helpful?</h4>
      <div class="btn-row">
        <a href="#" class="like-btn helpful-btn" id="yesBtn" data-page-rating="like" >
                <i class="far fa-thumbs-up"></i>
            Yes

            </a>
        <a href="#" class="dislike-btn helpful-btn" id="noBtn"  data-page-rating="dislike"> <i class="far fa-thumbs-down"></i> No</a>
      </div>
      <div class="any-feedback">
        <a href="#" class="btn any-feedback-btn" id="myCustomTrigger">Leave Additional Feedback? </a>
      </div>
      <div class="dialog-box" id="dialogBox">
        <form>
            <div class="form-group " id="additionalFeedbackBox">
              <textarea class="input-control feed-back-msg" rows="8" placeholder="Any Additonal Feedback?"></textarea>

              <div class="action-btn-row ">
                <a href="#" class="skip-btn" id="skipBtnMsg">Skip</a>
                  <button class="submit-btn btn blue-btn disabled" > Submit  </button>
                  <a href="#" class="info-btn"><i class="fas fa-info-circle"></i></a>
              </div>


            </div>

        </form>

      </div>
    </div>
  </div>

</aside>

<div class="feedback-modal modal-popup">
  <div class="modal-popup-dialogue">
    <div class="popup-header">
      <a href="#" class="close-popup"><i class="fa fa-times"></i></a>
    </div>
    <div class="popup-content">
      <p>
        Please use the form below to provide your feedback. Because your feedback is valuable to us,
         the information you submit in this form is recorded in our issue tracking system (JIRA), which is publicly available.
        You can track the status of your feedback using the ticket number displayed in the dialog once you submit the form.
      </p>
    </div>
  </div>
</div>

<main class="article" data-ceiling="topbar">
<div class="article-header">
<nav class="crumbs" aria-label="breadcrumbs">
<ul>
<li class="crumb"><a href="overview.html">Autonomous Operator</a></li>
<li class="crumb">Learn</li>
<li class="crumb">Couchbase Cluster Concepts</li>
<li class="crumb"><a href="concept-couchbase-logging.html">Couchbase Logging</a></li>
</ul>
</nav>
</div>
<article class="doc">
<div class="page-heading-title">
<h1 class="page">Couchbase Server Logging</h1>
</div>
<div class="contributor-list-box">
<span class="last-commit-date" id="commitdate">    </span>
<ul id="contributorList"></ul>
<span  id="otherContributor"> + </span>
</div><div id="preamble">
<div class="sectionbody">
<div class="quoteblock abstract">
<blockquote>
Couchbase Server generates logs that can be used for auditing and troubleshooting purposes.
</blockquote>
</div>
<div class="paragraph">
<p>Couchbase Server produces a <a href="../../server/current/manage/manage-logging/manage-logging.html#log-file-listing" class="page">variety</a> of log files.
A robust solution for storing and accessing Couchbase Server logs is required for a cluster to be considered <a href="best-practices.html#table-pv-requirements-for-cluster-supportability" class="page">supportable</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="default-logging"><a class="anchor" href="#default-logging"></a>Default Logging</h2>
<div class="sectionbody">
<div class="paragraph">
<p>By default, Couchbase cluster deployments process logs within the Couchbase Server container.
When a Couchbase cluster deployment is configured to use <a href="concept-persistent-volumes.html" class="page">persistent volumes</a>&#8201;&#8212;&#8201;as is <a href="best-practices.html#storage" class="page">recommended</a> for all production deployments&#8201;&#8212;&#8201;log files are written to either the <code>default</code> or <code>logs</code> volume.</p>
</div>
<div class="paragraph">
<p>When using default logging, logs cannot be collected from the Couchbase Server container&#8217;s standard console output, as is <a href="https://kubernetes.io/docs/concepts/cluster-administration/logging/" target="_blank" rel="noopener">typical</a> in Kubernetes environments.
Instead, the Autonomous Operator package is distributed with a support tool&#8201;&#8212;&#8201;<a href="tools/cbopinfo.html" class="page"><code>cbopinfo</code></a>&#8201;&#8212;&#8201;which can be used to collect a log snapshot at any time.
This tool is often used for collecting resources, logs, and events from the Kubernetes cluster for use in Couchbase Support requests.
It is also capable of collecting just Couchbase-related logs via its <code>--collectinfo</code> option.</p>
</div>
<div class="paragraph">
<p>The <a href="tools/cbopinfo.html" class="page"><code>cbopinfo</code></a> tool only captures a snapshot of the current logs at the time it was run, and is not intended to capture 100% of all logs at all times (rotated log files are not included in the snapshot).
In addition, the tool requires <code>pods/exec</code> permissions in order to execute log collection scripts and run the <a href="../../server/current/cli/cbcollect-info-tool.html" class="page"><code>cbcollect_info</code></a> command locally on each pod belonging to a Couchbase cluster, which may not be desirable for security and performance reasons.
To avoid these limitations, you can choose to configure <a href="#log-forwarding">log forwarding</a> as an alternative method for logging.</p>
</div>
<div class="ulist">
<div class="title">Learn More</div>
<ul>
<li>
<p><a href="howto-manage-couchbase-logging.html" class="page">Manage Couchbase Server Logging</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="log-forwarding"><a class="anchor" href="#log-forwarding"></a>Log Forwarding</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Log forwarding can be used in addition to, or as an alternative for, <a href="#default-logging">default logging</a>.
Although Couchbase Server doesn&#8217;t natively support log forwarding, the Autonomous Operator can optionally deploy and manage a third-party log processor on each Couchbase pod that enables Couchbase Server logs to be forwarded to the log processor&#8217;s standard console output as well as other destinations.
Forwarding logs to standard console output is desirable since it allows for <a href="https://kubernetes.io/docs/tasks/debug-application-cluster/debug-running-pod/#examine-pod-logs" target="_blank" rel="noopener">simple debugging</a> and standards-based integration with centralized log management systems running in the Kubernetes cluster.</p>
</div>
<div class="sect2">
<h3 id="how-log-forwarding-works"><a class="anchor" href="#how-log-forwarding-works"></a>How Log Forwarding Works</h3>
<div class="paragraph">
<p>There are two primary components that provide log forwarding:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>A <em>log processor image</em> is used by the Autonomous Operator to deploy the <code>logging</code> sidecar container onto each Couchbase Server pod.
The log processor reads the logs that Couchbase Server has written to a persistent volume, processes them, and then forwards them to a destination such as standard console output.</p>
</li>
<li>
<p>The <em>log forwarding configuration</em>, stored in a Kubernetes Secret, that gets consumed by the <code>logging</code> sidecar container and which controls its behavior.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>When log forwarding is enabled, the Autonomous Operator uses Couchbase-provided <a href="#default-log-forwarding-image-and-configuration">defaults</a> for both of these components.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>A Kubernetes Secret for configuration per Couchbase cluster is recommended, rather than sharing configuration across clusters in the same Kubernetes namespace.
The Kubernetes Secret is owned by the first cluster that creates it, so when that cluster is removed, the Kubernetes Secret is removed as well.
Different Kubernetes namespaces require different Kubernetes Secrets, so the same name can be reused across Kubernetes namespaces.
If a Kubernetes Secret is used that is created externally (e.g. for custom configuration), then ownership is not transferred so these can be reused in the same Kubernetes namespace.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/logging-sidecar-overview.png" alt="logging sidecar overview">
</div>
<div class="title">Figure 1. Log Forwarding Architecture</div>
</div>
<div class="ulist">
<div class="title">Learn More</div>
<ul>
<li>
<p><a href="howto-couchbase-log-forwarding.html" class="page">Configure Log Forwarding</a></p>
</li>
<li>
<p><a href="tutorial-couchbase-log-forwarding.html" class="page">Forwarding Couchbase Logs with Fluent Bit</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="default-log-forwarding-image-and-configuration"><a class="anchor" href="#default-log-forwarding-image-and-configuration"></a>About the Default Log Forwarding Image and Configuration</h3>
<div class="paragraph">
<p>Log forwarding can be enabled via the <a href="resource/couchbasecluster.html" class="page"><code>CouchbaseCluster</code></a> resource specification (it is <em>disabled</em> by default).
When log forwarding is enabled, the Autonomous Operator defaults to a Couchbase-supplied <a href="https://hub.docker.com/r/couchbase/fluent-bit" target="_blank" rel="noopener"><em>log processor image</em></a> that is based on <a href="https://fluentbit.io/" target="_blank" rel="noopener">Fluent Bit</a>.
The Autonomous Operator also automatically deploys a default <em>log forwarding configuration</em> in the form of a Kubernetes Secret that gets consumed by the <code>logging</code> sidecar container.</p>
</div>
<div class="paragraph">
<p>The default, Couchbase-supplied log processor image provides several benefits, such as built-in <em>parsers</em>, <em>filters</em>, and optional log <em>redaction</em> (another type of filtering), as well as the ability to restart Fluent Bit without having to restart the entire pod, thus providing better performance and higher availability than the standard Fluent Bit image.
The built-in parsers and filters are stored in individual configuration files, which are then combined to provide the default <a href="https://docs.fluentbit.io/manual/administration/configuring-fluent-bit/configuration-file" target="_blank" rel="noopener"><em>main configuration</em></a> deployed by the Autonomous Operator.
Alternatively, these built-in parsers and filters can be selectively invoked by a custom, user-supplied main configuration that can be used instead of the default one provided by the Autonomous Operator.</p>
</div>
<div class="paragraph">
<p>The default log forwarding configuration outputs log events to the <code>logging</code> container&#8217;s standard console output.
However, a custom configuration can include more than one output, allowing specific logs to be <a href="https://docs.fluentbit.io/manual/concepts/data-pipeline/router" target="_blank" rel="noopener">routed</a> to different&#8201;&#8212;&#8201;even multiple&#8201;&#8212;&#8201;destinations.</p>
</div>
</div>
<div class="sect2">
<h3 id="log-parsing"><a class="anchor" href="#log-parsing"></a>Log Parsing</h3>
<div class="paragraph">
<p>Couchbase logs generally store events in unstructured, sometimes multi-line formats.
Since this type of unstructured data can&#8217;t readily be used by standard log processors, Couchbase logs need to be <a href="https://docs.fluentbit.io/manual/concepts/data-pipeline/parser" target="_blank" rel="noopener"><em>parsed</em></a> into <em>structured</em> key-value pairs before events can be adequately filtered, mutated, and forwarded by a log processor like Fluent Bit.</p>
</div>
<div class="paragraph">
<p>The default log processor image provides built-in default parsers for several Couchbase logs.
These built-in parsers primarily use regular expressions (regex) to extract the <em>timestamp</em>, <em>log level</em>, and <em>message</em> of a particular event, though a few of the logs have some extra fields extracted.
For those logs with multi-line output, the parser attempts to capture everything up to the next log statement.
In some cases this includes large content (e.g. Java thread dumps), but this is all treated as part of the log message.
(User-provided second-stage parsing or filtering can be done, but is not provided by default; a downstream log tool could also do further analysis.)</p>
</div>
<div class="listingblock">
<div class="title">An Event from <code>goxdcr.log</code> <em>Before</em> Processing</div>
<div class="content">
<pre>2021-04-16T18:13:40.603Z INFO GOXDCR.PipelineMgr: Replication Status = map[]</pre>
</div>
</div>
<div class="listingblock">
<div class="title">An Event from <code>goxdcr.log</code> <em>After</em> Processing</div>
<div class="content">
<pre>[0] couchbase.log.xdcr: [1618596820.603000000, {"filename"=&gt;"/opt/couchbase/var/lib/couchbase/logs/goxdcr.log", "timestamp"=&gt;"2021-04-16T18:13:40.603Z", "level"=&gt;"INFO", "message"=&gt;" GOXDCR.PipelineMgr: Replication Status = map[]", "pod"=&gt;"1a525bc96099", "logshipper"=&gt;"couchbase.sidecar.fluentbit"}]</pre>
</div>
</div>
<div class="paragraph">
<p>Each processed log event is a structured message made up of keys and values:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>"timestamp"&#8658;"2021-04-16T18:13:40.603Z"</code></p>
</li>
<li>
<p><code>"level"&#8658;"INFO"</code></p>
</li>
<li>
<p><code>"message"&#8658;" GOXDCR.PipelineMgr: Replication Status = map[]"</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Every processed log event is <a href="https://docs.fluentbit.io/manual/concepts/key-concepts#tag" target="_blank" rel="noopener"><em>tagged</em></a> individually with the name of the log file that the event came from (<code>couchbase.log.<em>&lt;name-of-log</em></code>&gt;).
This allows events to be <a href="https://docs.fluentbit.io/manual/concepts/key-concepts#match" target="_blank" rel="noopener"><em>matched</em></a> for further manipulation and redirection.
Additional helpful information is also added to the event, including file name, pod, and log processor.</p>
</div>
<div class="sect3">
<h4 id="available-log-parsers"><a class="anchor" href="#available-log-parsers"></a>Available Log Parsers</h4>
<div class="paragraph">
<p>The current Couchbase-supplied <a href="https://hub.docker.com/r/couchbase/fluent-bit" target="_blank" rel="noopener"><em>log processor image</em></a>&#8201;&#8212;&#8201;based on Fluent Bit&#8201;&#8212;&#8201;contains built-in default parsers for several Couchbase logs, all stored in a single configuration file (<a href="https://github.com/couchbase/couchbase-fluent-bit/blob/main/conf/parsers-couchbase.conf" target="_blank" rel="noopener"><code>parsers-couchbase.conf</code></a>).
Each parser currently defaults to parsing one or more specific logs.</p>
</div>
<div class="paragraph">
<p><a href="#table-log-support-for-forwarding">Table 1</a> lists each Couchbase log, along with its corresponding default parser.</p>
</div>
<table id="table-log-support-for-forwarding" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 1. Log Forwarding Supported Features</caption>
<colgroup>
<col style="width: 60%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Log File</th>
<th class="tableblock halign-left valign-top">Default Parser</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>audit.log</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="https://github.com/couchbase/couchbase-fluent-bit/blob/main/conf/couchbase/in-audit-log.conf" target="_blank" rel="noopener"><code><em>couchbase_json_log_nanoseconds</em></code></a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>babysitter.log</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="https://github.com/couchbase/couchbase-fluent-bit/blob/main/conf/couchbase/in-erlang-multiline-log.conf" target="_blank" rel="noopener"><code><em>couchbase_erlang_multiline</em></code></a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>couchdb.log</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="https://github.com/couchbase/couchbase-fluent-bit/blob/main/conf/couchbase/in-erlang-multiline-log.conf" target="_blank" rel="noopener"><code><em>couchbase_erlang_multiline</em></code></a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>crash-log.bin</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>debug.log</code></p>
<p class="tableblock">(Includes subsets <code>error.log</code> and <code>info.log</code>)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="https://github.com/couchbase/couchbase-fluent-bit/blob/main/conf/couchbase/in-erlang-multiline-log.conf" target="_blank" rel="noopener"><code><em>couchbase_erlang_multiline</em></code></a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>eventing.log</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="https://github.com/couchbase/couchbase-fluent-bit/blob/main/conf/couchbase/in-eventing-fts-log.conf" target="_blank" rel="noopener"><code><em>couchbase_simple_log_mixed</em></code></a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>fts.log</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="https://github.com/couchbase/couchbase-fluent-bit/blob/main/conf/couchbase/in-eventing-fts-log.conf" target="_blank" rel="noopener"><code><em>couchbase_simple_log_mixed</em></code></a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>goxdcr.log</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="https://github.com/couchbase/couchbase-fluent-bit/blob/main/conf/couchbase/in-xdcr-log.conf" target="_blank" rel="noopener"><code><em>couchbase_simple_log_utc</em></code></a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>http_access.log</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="https://github.com/couchbase/couchbase-fluent-bit/blob/main/conf/couchbase/in-http-log.conf" target="_blank" rel="noopener"><code><em>couchbase_http</em></code></a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>http_access_internal.log</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="https://github.com/couchbase/couchbase-fluent-bit/blob/main/conf/couchbase/in-http-log.conf" target="_blank" rel="noopener"><code><em>couchbase_http</em></code></a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>indexer.log</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="https://github.com/couchbase/couchbase-fluent-bit/blob/main/conf/couchbase/in-indexer-projector-log.conf" target="_blank" rel="noopener"><code><em>couchbase_simple_log</em></code></a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>json_rpc.log</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="https://github.com/couchbase/couchbase-fluent-bit/blob/main/conf/couchbase/in-erlang-multiline-log.conf" target="_blank" rel="noopener"><code><em>couchbase_erlang_multiline</em></code></a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>mapreduce_errors.log</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>memcached.log</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="https://github.com/couchbase/couchbase-fluent-bit/blob/main/conf/couchbase/in-memcached-log.conf" target="_blank" rel="noopener"><code><em>couchbase_simple_log_space_separated</em></code></a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>metakv.log</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="https://github.com/couchbase/couchbase-fluent-bit/blob/main/conf/couchbase/in-erlang-multiline-log.conf" target="_blank" rel="noopener"><code><em>couchbase_erlang_multiline</em></code></a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ns_couchdb.log</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="https://github.com/couchbase/couchbase-fluent-bit/blob/main/conf/couchbase/in-erlang-multiline-log.conf" target="_blank" rel="noopener"><code><em>couchbase_erlang_multiline</em></code></a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>projector.log</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="https://github.com/couchbase/couchbase-fluent-bit/blob/main/conf/couchbase/in-indexer-projector-log.conf" target="_blank" rel="noopener"><code><em>couchbase_simple_log</em></code></a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>rebalance.log</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="https://github.com/couchbase/couchbase-fluent-bit/blob/main/conf/couchbase/in-rebalance-report.conf" target="_blank" rel="noopener"><code><em>couchbase_rebalance_report</em></code></a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>reports.log</code></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="https://github.com/couchbase/couchbase-fluent-bit/blob/main/conf/couchbase/in-erlang-multiline-log.conf" target="_blank" rel="noopener"><code><em>couchbase_erlang_multiline</em></code></a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ssl_proxy.log</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>stats.log</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>views.log</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>xdcr.log</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>xdcr_errors.log</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>xcdr_trace.log</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>analytics_access.log</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>analytics_cbas_debug.log</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>analytics_dcpdebug.log</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>analytics_dcp_failed_ingestion.log</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>analytics_debug.log</code></p>
<p class="tableblock">(Includes subsets <code>analytics_info.log</code>, <code>analytics_warn.log</code>, and <code>analytics_error.log</code>)</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p><a href="https://github.com/couchbase/couchbase-fluent-bit/blob/main/conf/couchbase/in-java-log.conf" target="_blank" rel="noopener"><code><em>couchbase_java_multiline</em></code></a></p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>analytics_shutdown.log</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Some Couchbase log files contain a subset of events that are found in other log files.
For example, <code>analytics_debug.log</code> includes everything in <code>analytics_info.log</code>, which in turn includes everything in <code>analytics_warn.log</code> and <code>analytics_error.log</code>.
Similarly, <code>debug.log</code> includes everything in <code>info.log</code>, which in turn includes everything in <code>error.log</code>.</p>
</div>
<div class="paragraph">
<p>These "subset" logs are not parsed by default, since parsing them would put unnecessary load on the log processor and lead to duplicate log events being forwarded.
However, for convenience, these logs are listed in <a href="#table-log-support-for-forwarding">Table 1</a> under their respective superset logs.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="log-redaction"><a class="anchor" href="#log-redaction"></a>Log Redaction</h3>
<div class="paragraph">
<p>When Couchbase Server writes an event to a log file, it encases certain <a href="../../server/current/manage/manage-logging/manage-logging.html#understanding_redaction" class="page">sensitive information</a> in special tags.
The Couchbase-supplied <a href="https://hub.docker.com/r/couchbase/fluent-bit" target="_blank" rel="noopener">log processor image</a> provides optional support for redacting this tagged information from Couchbase log events before they are forwarded to standard console output or other locations.</p>
</div>
<div class="paragraph">
<p>Log redaction is currently facilitated by a <a href="https://docs.fluentbit.io/manual/pipeline/filters/lua" target="_blank" rel="noopener">LUA filter</a> that leverages a Couchbase-supplied <a href="https://github.com/couchbase/couchbase-fluent-bit/blob/main/redaction/redaction.lua" target="_blank" rel="noopener">LUA script</a> and a third-party <a href="https://github.com/mpeterv/sha1" target="_blank" rel="noopener">SHA-1 hashing library</a>, both of which are included in the default log processor image.
The LUA filter hashes and replaces the contents of the <code>&lt;ud&gt;&#8230;&#8203;&lt;/ud&gt;</code> tags in each log event.
When log redaction is configured for a Couchbase deployment, a worker thread on each Kubernetes node is dedicated to handling the LUA parsing.</p>
</div>
<div class="paragraph">
<p>Log redaction isn&#8217;t enabled by default, and therefore must be <a href="howto-couchbase-log-forwarding.html#configuring-log-redaction" class="page">enabled and configured</a> by an administrator.
The following are some important notes worth considering when enabling log redaction:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Log redaction may hash away useful identifiers for things like internal usage, making debugging more difficult.</p>
</li>
<li>
<p>Running a regex and string substitution can be resource-intensive, which has performance implications for both the log processor and Couchbase Server.</p>
</li>
<li>
<p>By default, logs are only forwarded to standard console output, and not exported externally.
A user would have to use a custom configuration to ship them elsewhere at which point the redaction can also be configured (and tuned for just the streams being exported).</p>
</li>
<li>
<p>The log processor can feed into a standard Kubernetes log pipeline architecture that already provides redaction.
For example, Fluentd has a <a href="https://github.com/fluent/fluent-plugin-sanitizer" target="_blank" rel="noopener">sanitizer plugin</a>.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</article>
</main>
</div>
<footer class="footer">
  <div class="container">
    <div class="footer-links">
      <div class="col">
        <div class="footer-logo">
          <a href="https://www.couchbase.com" class="icon">
            <img src="../../_/img/couchbase-logo.svg" alt="Couchbase">
          </a>
        </div>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://docs.couchbase.com" target="_blank" rel="noopener">Documentation</a></li>
          <li><a href="https://forums.couchbase.com" target="_blank" rel="noopener">Forums</a></li>
          <li><a href="https://support.couchbase.com" target="_blank" rel="noopener">Support</a></li>
        </ul>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://developer.couchbase.com" target="_blank" rel="noopener">Developer Portal</a></li>
          <li><a href="https://blog.couchbase.com" target="_blank" rel="noopener">Blog</a></li>
          <li><a href="https://www.couchbase.com/resources">Resources</a></li>
        </ul>
      </div>
      <div class="col">
        <ul>
          <li><a href="https://www.couchbase.com/get-started-developing-nosql">Get Started</a></li>
          <li><a href="https://www.couchbase.com/downloads">Downloads</a></li>
          <li><a href="https://learn.couchbase.com/store?utf8=%E2%9C%93&ss=1&ct=78327&commit=Filter" target="_blank" rel="noopener">Training</a></li>
        </ul>
      </div>
      <div class="col">
        <ul class="social-icons">
          <li>
            <svg  width="14" height="14" viewBox="0 0 32.1 26.1"> <path id="twitter" class="cls-1" d="M32,7.1a11.836,11.836,0,0,1-3.8,1,6.462,6.462,0,0,0,2.9-3.6,12.606,12.606,0,0,1-4.2,1.6A6.492,6.492,0,0,0,22.1,4a6.594,6.594,0,0,0-6.6,6.6,7.719,7.719,0,0,0,.2,1.5A18.458,18.458,0,0,1,2.2,5.2a6.294,6.294,0,0,0-.9,3.3A6.765,6.765,0,0,0,4.2,14a6.109,6.109,0,0,1-3-.8v.1a6.543,6.543,0,0,0,5.3,6.4,4.678,4.678,0,0,1-1.7.2,4.869,4.869,0,0,1-1.2-.1,6.679,6.679,0,0,0,6.1,4.6,12.917,12.917,0,0,1-8.2,2.8,9.151,9.151,0,0,1-1.6-.1,18.438,18.438,0,0,0,10.1,3c12.1,0,18.7-10,18.7-18.7v-.8A13.336,13.336,0,0,0,32,7.2Z" transform="translate(0.1 -4)"/></svg>
            <a href="https://twitter.com/couchbase" class="icon">
              Twitter
            </a>
          </li>
          <li>
          <svg  width="14" height="14" viewBox="0 0 32 32"> <path id="linkedin" class="cls-1" d="M29,0H3A3.076,3.076,0,0,0,0,3V29a3.009,3.009,0,0,0,3,3H29a2.946,2.946,0,0,0,3-3V3A3.009,3.009,0,0,0,29,0ZM12,26H8V12h4ZM10,10a2,2,0,1,1,2-2A2.006,2.006,0,0,1,10,10ZM26,26H22V18a2,2,0,0,0-4,0v8H14V12h4v2.5c.8-1.1,2.1-2.5,3.5-2.5A4.736,4.736,0,0,1,26,17Z"/></svg>
              <a href="https://www.linkedin.com/company/couchbase" class="icon">
             Linkedin
            </a>
          </li>
          <li>
            <svg  width="14" height="14" viewBox="0 0 32 32"> <path id="facebook" class="cls-1" d="M29,0H3A2.652,2.652,0,0,0,0,3V29a2.652,2.652,0,0,0,3,3H16V18H12V14h4V12a6.452,6.452,0,0,1,6-6h4v4H22a2.151,2.151,0,0,0-2,2v2h6l-1,4H20V32h9a2.652,2.652,0,0,0,3-3V3A2.652,2.652,0,0,0,29,0Z"/></svg>
            <a href="https://www.facebook.com/Couchbase" class="icon">
            Facebook
            </a>
          </li>
        </ul>
      </div>
    </div>
    <div class="footer-terms">
      <div class="footer-terms-copyright">
          <span> 2022 Couchbase, Inc. Couchbase, Couchbase Lite and the Couchbase logo are registered trademarks of Couchbase, Inc.</span>
      </div>
      <div class="footer-terms-links">
        <a href="https://www.couchbase.com/terms-of-use">Terms of Use</a>
        <a href="https://www.couchbase.com/privacy-policy">Privacy Policy</a>
        <a href="https://www.couchbase.com/cookie-policy">Cookie Policy</a>
        <a href="https://www.couchbase.com/support-policy">Support Policy</a>
        <a href="https://info.couchbase.com/unsubscribe-or-manage-preferences.html" target="_blank" rel="noopener">Marketing Preference Center</a>
      </div>
    </div>
  </div>
</footer>
<template id="run-code-panel">
<div class="action-panel">
  <form class="action-panel-control" method="POST" action="https://couchbase.live/run" target="run-code-output">
    <input type="hidden" name="lang">
    <input type="hidden" name="code">
    <input type="hidden" name="from" value="docs">
    <div class="controls">
      <button class="control-button rerun" type="submit"><i class="fas fa-redo"></i></button>
      <span class="shell-name control-label">Output</span>
      <button class="control-button close"><i class="fas fa-times"></i> Close</button>
    </div>
  </form>
  <iframe class="run-code-output" name="run-code-output"></iframe>
</div>
</template>
<script id="site-script" src="../../_/js/site.js"></script>
<script defer src="../../_/js/vendor/fontawesome-icon-defs.js"></script>
<script defer src="../../_/js/vendor/fontawesome.js" data-search-pseudo-elements="true"></script>
<script async src="../../_/js/vendor/highlight.js"></script>
</body>
</html>
