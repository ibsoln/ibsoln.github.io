<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <title>Security | Couchbase Docs</title>
    <link rel="canonical" href="https://ibsoln.github.io/staging/DOC-6211-Document-Log-Redaction-for2.1/sync-gateway/2.7/security.html">
    <link rel="stylesheet" href="../../_/css/site.css">
    <link rel="schema.dcterms" href="https://purl.org/dc/terms/">
    <meta name="dcterms.subject" content="sync-gateway">
    <meta name="dcterms.identifier" content="2.7">
    <meta name="generator" content="Antora 2.0.1">
    <link rel="icon" href="../../_/img/favicon.ico" type="image/x-icon">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar" id="topbar">
    <div class="container">
      <div class="navbar-brand">
        <a class="navbar-item" href="https://www.couchbase.com"><img src="../../_/img/logo.svg" alt="Couchbase"></a>
        <button class="navbar-burger" data-target="topbar-menu">
          <span></span>
          <span></span>
          <span></span>
        </button>
      </div>
      <div id="topbar-menu" class="navbar-menu">
        <div class="navbar-start">
          <div class="navbar-item has-dropdown">
            <a class="navbar-link" href="https://ibsoln.github.io/staging/DOC-6211-Document-Log-Redaction-for2.1">Docs</a>
            <div class="navbar-dropdown explore">
              <div class="title">Couchbase Documentation Overview</div>
              <div class="cols">
                <ul>
                  <li class="heading"><a href="#">Server</a></li>
                  <li><a href="../../server//n1ql/n1ql-language-reference/index.html">N1QL</a></li>
                  <li><a href="../../server//fts/full-text-intro.html">Full Text Search</a></li>
                  <li><a href="../../server//analytics/introduction.html">Analytics</a></li>
                  <li><a href="../../server//eventing/eventing-overview.html">Eventing</a></li>
                  <li><a href="#">Autonomous Operator</a></li>
                </ul>
                <ul>
                  <li class="heading">Mobile</li>
                  <li><a href="../../couchbase-lite/2.1/index.html">Lite</a></li>
                  <li><a href="index.html">Sync Gateway</a></li>
                </ul>
                <ul class="two-cols">
                  <li class="heading"><a href="../../server//sdk/overview.html">SDKs</a></li>
                  <li><a href="#">C</a></li>
                  <li><a href="#">.NET</a></li>
                  <li><a href="#">Go</a></li>
                  <li><a href="#">Java</a></li>
                  <li><a href="#">Node.js</a></li>
                  <li><a href="#">PHP</a></li>
                  <li><a href="#">Python</a></li>
                  <li><a href="#">Scala</a></li>
                </ul>
                <ul>
                  <li class="heading"><a href="../../server//connectors/intro.html">Connectors</a></li>
                  <li><a href="#">Elasticsearch</a></li>
                  <li><a href="../../server//connectors/hadoop-1.2/hadoop.html">Hadoop</a></li>
                  <li><a href="#">Kafka</a></li>
                  <li><a href="#">Spark</a></li>
                  <li><a href="#">Talend</a></li>
                  <li><a href="../../server//connectors/odbc-jdbc-drivers.html">ODBC/JDBC</a></li>
                </ul>
              </div>
            </div>
          </div>
          <a class="navbar-item component" href="index.html"><span class="title">Sync Gateway</span> <span class="version">2.7</span></a>
        </div>
        <div class="navbar-end">
          <div class="navbar-item">
            <a class="btn red-btn" href="https://www.couchbase.com/downloads">Downloads</a>
          </div>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body container">
<nav class="nav">
<div class="nav-menu">
<ul class="nav-list">
  <li class="nav-item is-active" data-depth="0">
    <span class="nav-line">
    <button class="nav-toggle"></button>
    <span class="nav-text">Introduction</span>
    </span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="introduction.html">Introduction</a>
    </span>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="index.html">What&#8217;s New</a>
    </span>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="getting-started.html">Getting Started</a>
    </span>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="data-modeling.html">Data Modeling</a>
    </span>
  </li>
</ul>
  </li>
  <li class="nav-item is-active" data-depth="0">
    <span class="nav-line">
    <button class="nav-toggle"></button>
    <span class="nav-text">Access Control</span>
    </span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="users-and-roles.html">Users and Roles</a>
    </span>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="authentication.html">Authentication</a>
    </span>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="sync-gateway-channels.html">Sync Gateway Channels</a>
    </span>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="read-access.html">Read Access</a>
    </span>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="write-access.html">Write Access</a>
    </span>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="sync-function.html">Sync Function</a>
    </span>
  </li>
</ul>
  </li>
  <li class="nav-item is-active" data-depth="0">
    <span class="nav-line">
    <button class="nav-toggle"></button>
    <span class="nav-text">Learn</span>
    </span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="config-properties.html">Configuration File</a>
    </span>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="command-line-options.html">CLI</a>
    </span>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="shared-bucket-access.html">Mobile-Server Data Sync</a>
    </span>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="managing-tombstones.html">Tombstones</a>
    </span>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="indexing.html">Indexing</a>
    </span>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="server-integration.html">Webhooks and Changes Feed</a>
    </span>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="resolving-conflicts.html">Resolving Conflicts</a>
    </span>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="integrating-external-stores.html">Integrating External Stores</a>
    </span>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="running-replications.html">Inter-cluster Replication</a>
    </span>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="rest-api-client.html">REST API Client</a>
    </span>
  </li>
</ul>
  </li>
  <li class="nav-item is-active" data-depth="0">
    <span class="nav-line">
    <button class="nav-toggle"></button>
    <span class="nav-text">Manage</span>
    </span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="logging.html">Logging</a>
    </span>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="stats-monitoring.html">Stats Monitoring</a>
    </span>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="sgcollect-info.html">SGCollect Info</a>
    </span>
  </li>
</ul>
  </li>
  <li class="nav-item is-current-path is-active" data-depth="0">
    <span class="nav-line">
    <button class="nav-toggle"></button>
    <a class="nav-link" href="deployment.html">Deployment</a>
    </span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <button class="nav-toggle"></button>
    <span class="nav-text">Sync Gateway on Kubernetes</span>
    </span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <span class="nav-line">
    <a class="nav-link" href="kubernetes/deploy-cluster.html">Deploy a Cluster</a>
    </span>
  </li>
  <li class="nav-item" data-depth="2">
    <span class="nav-line">
    <a class="nav-link" href="kubernetes/manage-cluster.html">Manage a Cluster</a>
    </span>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="upgrade.html">Upgrade</a>
    </span>
  </li>
  <li class="nav-item is-current-page is-active" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="security.html">Security</a>
    </span>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="load-balancer.html">Load Balancer</a>
    </span>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="database-offline.html">Taking Databases Offline and Online</a>
    </span>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="os-level-tuning.html">OS Level Tuning</a>
    </span>
  </li>
</ul>
  </li>
  <li class="nav-item is-active" data-depth="0">
    <span class="nav-line">
    <button class="nav-toggle"></button>
    <span class="nav-text">API References</span>
    </span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="rest-api.html">Public REST API</a>
    </span>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="admin-rest-api.html">Admin REST API</a>
    </span>
  </li>
</ul>
  </li>
  <li class="nav-item is-active" data-depth="0">
    <span class="nav-line">
    <button class="nav-toggle"></button>
    <span class="nav-text">Release Notes &amp; Compatibility</span>
    </span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="release-notes.html">Release Notes</a>
    </span>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="supported-os.html">Supported OS</a>
    </span>
  </li>
  <li class="nav-item" data-depth="1">
    <span class="nav-line">
    <a class="nav-link" href="compatibility-matrix.html">Compatibility Matrix</a>
    </span>
  </li>
</ul>
  </li>
</ul>
</div>
</nav>
<aside class="toc sidebar">
  <div class="toc-menu"></div>
</aside>
<main class="article" data-ceiling="topbar">
  <div class="article-header">
<button class="nav-control"></button>
<nav class="crumbs" aria-label="breadcrumbs">
  <ul>
    <li class="crumb"><a href="index.html">Sync Gateway</a></li>
    <li class="crumb"><a href="deployment.html">Deployment</a></li>
    <li class="crumb"><a href="security.html">Security</a></li>
  </ul>
</nav>
<div class="tools" role="navigation">
  <ul>
    <li class="tool edit"><a href="file:///Users/ianbridge/Documents/CouchbaseDocs/sg/modules/ROOT/pages/security.adoc" title="Edit Page" target="_blank" rel="noopener">Edit</a></li>
  </ul>
</div>
  </div>
<article class="doc">
<h1 class="page">Security</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>This page contains security best practices for a production deployment of Couchbase Mobile.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="data-access"><a class="anchor" href="#data-access"></a>Data Access</h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>Authentication</strong></p>
</div>
<div class="paragraph">
<p>In a Couchbase Mobile production deployment, administrators typically perform operations on the Admin REST API.
If Sync Gateway is deployed on an internal network, you can bind the <a href="config-properties.html#server" class="page">adminInterface</a> of Sync Gateway to the internal network.
In this case, the firewall should also be configured to allow external connections to the public <a href="config-properties.html#server" class="page">interface</a> port.</p>
</div>
<div class="paragraph">
<p>To access the Admin REST API from an entirely different network or from a remote desktop we recommend to use <a href="https://whatbox.ca/wiki/SSH_Tunneling">SSH tunneling</a>.</p>
</div>
<div class="paragraph">
<p><strong>Authorization</strong></p>
</div>
<div class="paragraph">
<p>In addition to the Admin REST API, a user can be assigned to a role with additional privileges.
The role and the user assigned to it can be created in the configuration file.
Then, the Sync Function&#8217;s <a href="sync-function.html#requirerole-rolename" class="page">requireRole()</a> method can be used to allow certain operations only if the user has that role.</p>
</div>
<div class="paragraph">
<p><strong>Data Model Validation</strong></p>
</div>
<div class="paragraph">
<p>In a NoSQL database, it is the application&#8217;s responsibility to ensure that the documents are created in accordance with the data model adopted throughout the system.
As an additional check, the Sync Function&#8217;s <a href="sync-function.html#throw" class="page">throw()</a> method can be used to reject documents that do not follow the pre-defined data model.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="connection-to-sync-gateway"><a class="anchor" href="#connection-to-sync-gateway"></a>Connection to Sync Gateway</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You can run Sync Gateway behind a reverse proxy, such as NGINX, which supports HTTPS connections and route internal traffic to Sync Gateway over HTTP.
The advantage of this approach is that NGINX can proxy both HTTP and HTTPS connections to a single Sync Gateway instance.</p>
</div>
<div class="paragraph">
<p>Sync Gateway also supports serving connections over SSL.
To enable SSL, you need to add two properties to the config file:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>"SSLCert"</code></dt>
<dd>
<p>A path to a PEM-format file containing an X.509 certificate or a certificate chain.</p>
</dd>
<dt class="hdlist1"><code>"SSLKey"</code></dt>
<dd>
<p>A path to a PEM-format file containing the certificate&#8217;s matching private key.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>If both properties are present, the server will respond to SSL (and only SSL) over both the public and admin ports.
If you want to support both HTTP and HTTPS connections you will need to run two separate instances of Sync Gateway.</p>
</div>
<div class="sect2">
<h3 id="how-to-create-an-ssl-certificate"><a class="anchor" href="#how-to-create-an-ssl-certificate"></a>How to create an SSL certificate</h3>
<div class="paragraph">
<p>Certificates are a complex topic.
There are basically two routes you can go: request a certificate from a Certificate Authority (CA), or create your own "self-signed" certificate.</p>
</div>
<div class="sect3">
<h4 id="requesting-a-certificate-from-a-ca"><a class="anchor" href="#requesting-a-certificate-from-a-ca"></a>Requesting a certificate from a CA</h4>
<div class="paragraph">
<p>You can obtain a certificate from a trusted <a href="https://en.wikipedia.org/wiki/Certificate_authority">Certificate Authority</a> (CA). Examples of trusted CAs include <a href="https://letsencrypt.org/">Let&#8217;s Encrypt</a>, Thawte or GoDaddy.
What this means is that their own root certificates are known and trusted by operating systems, so any certificate that they sign will also be trusted.</p>
</div>
<div class="paragraph">
<p>Hence, the benefit of a certificate obtained from a trusted CA is that it will be trusted by any SSL client.</p>
</div>
</div>
<div class="sect3">
<h4 id="creating-your-own-self-signed-certificate"><a class="anchor" href="#creating-your-own-self-signed-certificate"></a>Creating your own self-signed certificate</h4>
<div class="paragraph">
<p>Unlike a CA-signed cert, a self-signed cert isn&#8217;t intrinsically trustworthy: a client can&#8217;t tell who you are by examining the cert, because no recognized authority has vouched for it.
But a self-signed cert is still unique (only you, as the holder of the private key, can operate a server using that cert), and it still allows the connection to be encrypted.</p>
</div>
<div class="paragraph">
<p>It&#8217;s easy to create a self-signed certificate using the openssl command-line tool and these directions.
In a nutshell, you just need to run these commands:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">$ openssl genrsa -out privkey.pem 2048
$ openssl req -new -x509 -sha256 -key privkey.pem -out cert.pem -days 1095</code></pre>
</div>
</div>
<div class="paragraph">
<p>The second command is interactive and will ask you for information like country and city name that goes into the X.509 certificate.
You can put whatever you want there; the only important part is the field <code>Common Name (e.g. server FQDN or YOUR name)</code> which needs to be the exact <em>hostname</em> that clients will reach your server at.
The client will verify that this name matches the hostname in the URL it&#8217;s trying to access, and will reject the connection if it doesn&#8217;t.</p>
</div>
<div class="paragraph">
<p>The tool will then create two files: <code>privkey.pem</code> (the private key) and <code>cert.pem</code> (the public certificate.)</p>
</div>
<div class="paragraph">
<p>To create a copy of the cert in binary DER format (often stored in a ".cer" file), do this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">$ openssl x509 -inform PEM -in cert.pem -outform DER -out cert.cer</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="installing-the-certificate"><a class="anchor" href="#installing-the-certificate"></a>Installing the certificate</h3>
<div class="paragraph">
<p>Whichever way you obtained the certificate, you will now have a private key and an X.509 certificate.
Ensure that they&#8217;re in separate files and in PEM format, and put them in a directory that&#8217;s readable by the Sync Gateway process.
The private key is very sensitive (it&#8217;s not encrypted) so make sure the file isn&#8217;t readable by unauthorized processes.</p>
</div>
<div class="paragraph">
<p>Then just add the <code>"SSLCert"</code> and <code>"SSLKey"</code> properties to your Sync Gateway configuration file.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-javascript hljs" data-lang="javascript">{
  "SSLCert": "cert.pem",
  "SSLKey": "privkey.pem",
  "databases": {
    "todo": {
      "server": "http://localhost:8091",
      "users": {"GUEST": {"disabled": false, "admin_channels": ["*"]}}
    }
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Start Sync Gateway and access the public port over <code>https</code> on https://localhost:4984.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="connection-to-couchbase-server"><a class="anchor" href="#connection-to-couchbase-server"></a>Connection to Couchbase Server</h2>
<div class="sectionbody">
<div class="paragraph">
<p>There are two methods to securely connect a Sync Gateway instance to a Couchbase Server cluster.
Each method is discussed below in more detail.</p>
</div>
<div class="sect2">
<h3 id="username-and-password"><a class="anchor" href="#username-and-password"></a>Username and Password</h3>
<div class="paragraph">
<p>The username and password of the RBAC user are specified in the Sync Gateway configuration file.
This method is used in the getting started <a href="getting-started.html#start-sync-gateway" class="page">section</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="x-509-certificates"><a class="anchor" href="#x-509-certificates"></a>X.509 Certificates</h3>
<div class="paragraph">
<p>Sync Gateway 2.1 adds the ability to use X.509 certificates to authenticate against Couchbase Server 5.5 or higher.
This functionality can be used instead or in addition to the existing authentication method which is to specify a username and password in the configuration file.</p>
</div>
<div class="paragraph">
<p>To use X.509 certificate based authentication with Sync Gateway, you must first run through the following procedures.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><a href="#">server:manage:manage-security/configure-server-certificates.adoc#root-and-node-certificates</a>.</p>
</li>
<li>
<p><a href="#">server:manage:manage-security/configure-server-certificates.adoc#client-certificate-enablement</a>.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Once the Couchbase Server cluster has been protected by the deployment of root and node certificates described above, a <em>client</em> certificate can be signed by the root certificate, to allow Sync Gateway to access the cluster.</p>
</div>
<div class="paragraph">
<p>To generate the <em>client</em> certificate, make sure that the Couchbase Server cluster has the expected <a href="#">server:manage:manage-security/configure-client-certificates.adoc#assumptions</a>.
Also refer to the <a href="getting-started.html#configure-couchbase-server" class="page">Getting Started: Configure Couchbase Server</a> to configure the RBAC user with appropriate privileges for access by a Sync Gateway instance.</p>
</div>
<div class="paragraph">
<p>Next, follow the instructions in <a href="#">server:manage:manage-security/configure-client-certificates.adoc#client-certificate-authorized-by-a-root-certificate</a> to create a client certificate that is authorized by the clusterâ€™s root certificate.</p>
</div>
<div class="paragraph">
<p>After completing the procedure, you will have multiple files generated in the current directory.
You will use the following files to configure Sync Gateway:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>servercertfiles/ca.pem</code></p>
</li>
<li>
<p><code>servercertfiles/clientcertfiles/travel-sample.pem</code></p>
</li>
<li>
<p><code>servercertfiles/clientcertfiles/travel-sample.key</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>X.509 certificate based authentication is enabled on Sync Gateway by specifying the absolute or relative path to each of those files in the configuration file.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-json hljs" data-lang="json">{
  "interface":":4984",
  "logging": {
    "log_file_path": "/var/tmp/sglogs",
    "console": {
      "enabled": true,
      "log_level": "info",
      "log_keys": [
        "*"
      ]
    }
  },
  "databases":{
    "db":{
      "use_views": true,
      "cacertpath": "./ca.pem",
      "certpath": "./clientcertfiles/travel-sample.pem",
      "keypath": "./clientcertfiles/travel-sample.key",
      "server": "couchbases://127.0.0.1:",
      "bucket": "travel-sample",
      "username": "clientuser"
    }
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>If the connection is successful, you should see the following in the logs.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-text hljs" data-lang="text">[INF] Starting admin server on 127.0.0.1:4985
[INF] Starting server on :4984 ...
[INF] Establishing TLS connection for DCP to destination 127.0.0.1:11207</code></pre>
</div>
</div>
<div class="paragraph">
<p>If Sync Gateway cannot connect, you may refer to the <a href="#">server:manage:manage-security/handle-certificate-errors.adoc#cluster-certificate-errors</a> table.</p>
</div>
<div class="paragraph">
<p>More detail on the configuration properties for x.509 authentication can be found below.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="config-properties.html#databases-foo_db-certpath" class="page">databases.$db.certpath</a></p>
</li>
<li>
<p><a href="config-properties.html#databases-foo_db-keypath" class="page">databases.$db.keypath</a></p>
</li>
<li>
<p><a href="config-properties.html#databases-foo_db-cacertpath" class="page">databases.$db.cacertpath</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If the <strong>username</strong>/<strong>password</strong> properties are also specified in the configuration file then Sync Gateway will use password-based authentication and also include the client certificate in the TLS handshake.</p>
</div>
</div>
</div>
</div>
</article>
</main>
</div>
<footer class="footer">
  <div class="container">
    <div class="footer-links">
      <div class="col">
        <div class="footer-logo">
          <a href="https://www.couchbase.com" class="icon">
            <img src="../../_/img/logo.svg" alt="Couchbase">
          </a>
        </div>
        <div class="contact">
          <p class="address">3250 Olcott Street
Santa Clara, CA 95054
United States</p>
          <a href="https://www.couchbase.com/contact" class="btn white-btn">Contact Us</a>
          <a class="tel" href="tel:1-650-417-7500">1-650-417-7500</a>
        </div>
      </div>
      <div class="col">
        <ul>
          <li><span class="heading">Company</span></li>
          <li><a href="https://www.couchbase.com/about">About</a></li>
          <li><a href="https://www.couchbase.com/leadership">Leadership</a></li>
          <li><a href="https://www.couchbase.com/news-and-press-releases">News &amp; Press</a></li>
          <li><a href="https://www.couchbase.com/careers">Careers</a></li>
          <li><a href="https://www.couchbase.com/resources/events">Events</a></li>
          <li><a href="https://www.couchbase.com/contact">Contact Us</a></li>
          <li><a href="https://www.couchbase.com/request-pricing">Pricing</a></li>
        </ul>
      </div>
      <div class="col">
        <ul>
          <li><span class="heading">Support</span></li>
          <li><a href="https://developer.couchbase.com" target="_blank" rel="noopener">Developer Portal</a></li>
          <li><a href="https://docs.couchbase.com" target="_blank" rel="noopener">Documentation</a></li>
          <li><a href="https://forums.couchbase.com" target="_blank" rel="noopener">Forums</a></li>
          <li><a href="https://www.couchbase.com/services">Professional Services</a></li>
          <li><a href="https://support.couchbase.com" target="_blank" rel="noopener">Support Login</a></li>
          <li><a href="https://learn.couchbase.com/store" target="_blank" rel="noopener">Training</a></li>
        </ul>
      </div>
      <div class="col">
        <ul>
          <li><span class="heading">Quicklinks</span></li>
          <li><a href="https://blog.couchbase.com" target="_blank" rel="noopener">Blog</a></li>
          <li><a href="https://www.couchbase.com/downloads">Downloads</a></li>
          <li><a href="https://www.couchbase.com/get-started-developing-nosql">Get Started</a></li>
          <li><a href="https://learn.couchbase.com/store?utf8=%E2%9C%93&ss=1&ct=78327&commit=Filter" target="_blank" rel="noopener">Online Training</a></li>
          <li><a href="https://www.couchbase.com/resources">Resources</a></li>
          <li><a href="https://www.couchbase.com/nosql-resources/why-nosql">Why NoSQL</a></li>
          <li><a href="https://www.couchbase.com/resources/security">Security</a></li>
          <li><a href="https://www.couchbase.com/resources/gdpr">GDPR</a></li>
        </ul>
      </div>
      <div class="col">
        <ul class="social-icons">
          <li>
            <a href="https://www.facebook.com/Couchbase" class="icon">
              <svg width="50px" height="50px" viewBox="26.363 116.363 560.215 560.215"><path d="m586.58 209.58c0-48.96-44.252-93.212-93.212-93.212h-373.79c-48.96 0-93.212 44.252-93.212 93.212v373.79c0 48.96 44.252 93.212 93.212 93.212h186.42v-211.85h-68.732v-93.212h68.732v-36.72c0-63.083 47.077-119.58 105.45-119.58h75.323v93.212h-75.323c-8.474 0-17.889 10.357-17.889 25.422v37.662h93.212v93.212h-93.212v211.85h99.803c48.96 0 93.212-44.252 93.212-93.212v-373.79z"/></svg>
            </a>
          </li>
          <li>
            <a href="https://twitter.com/couchbase" class="icon">
              <svg width="50px" height="50px" viewBox="32.012 176.622 542.326 437.815"><path d="m574.34 227.46c-19.772 8.474-41.428 15.065-64.025 17.889 22.597-14.123 40.486-35.778 48.96-61.2-21.655 13.182-45.194 21.655-70.615 27.305-20.714-21.655-48.96-34.837-80.972-34.837-61.2 0-111.1 49.902-111.1 111.1 0 8.474 0.942 16.948 2.825 25.422-92.271-5.649-174.18-49.902-229.74-117.69-9.415 16.006-15.065 35.778-15.065 55.551 0 38.603 19.772 72.498 49.902 92.271-17.889-0.942-35.778-5.649-50.843-14.123v0.942c0 53.668 38.603 98.862 89.446 109.22-9.415 2.825-18.831 3.766-29.188 3.766-7.532 0-14.123-0.942-20.714-1.883 14.123 44.252 55.551 76.265 103.57 77.206-37.662 30.129-85.68 48.018-138.41 48.018-9.415 0-17.889-0.941-26.363-1.883 48.96 32.012 107.34 49.902 170.42 49.902 204.31 0 316.36-169.48 316.36-316.36v-14.123c21.656-14.125 40.487-33.897 55.551-56.494z"/></svg>
            </a>
          </li>
          <li>
            <a href="https://www.linkedin.com/company/couchbase" class="icon">
              <svg width="50px" height="50px" viewBox="31.071 119.188 539.537 540.443"><path d="m531.97 119.19h-461.35c-21.655 0-39.545 16.948-39.545 38.603v463.24c0 21.655 17.889 38.603 39.545 38.603h460.41c21.655 0 39.545-16.948 39.545-38.603v-463.24c0.942-21.656-16.947-38.603-38.603-38.603zm-337.07 451.94h-81.914v-243.86h81.914v243.86zm-40.486-276.81c-28.246 0-46.135-18.831-46.135-42.369s17.889-42.369 46.135-42.369 45.194 17.889 45.194 42.369c0.942 23.538-16.948 42.369-45.194 42.369zm335.19 276.81h-81.914v-129.93c0-32.954-12.24-55.551-41.428-55.551-22.597 0-35.778 15.065-41.428 30.129-1.883 5.649-2.825 12.24-2.825 19.772v136.52h-81.914s0.942-221.26 0-243.86h81.914v34.837c11.298-16.948 30.129-40.486 73.44-40.486 53.668 0 94.154 34.837 94.154 110.16l1e-3 138.41zm-168.54-208.08s0.941-0.941 0 0z"/></svg>
            </a>
          </li>
        </ul>
      </div>
    </div>
    <div class="footer-terms">
      <span>2018 COUCHBASE All rights reserved.</span>
      <a href="https://www.couchbase.com/privacy-policy">Privacy Policy</a>
      <a href="https://www.couchbase.com/terms-of-use">Terms of Use</a>
      <a href="https://www.couchbase.com/cookie-policy">Cookie Policy</a>
      <a href="https://info.couchbase.com/unsubscribe-or-manage-preferences.html" target="_blank" rel="noopener">Marketing Preference Center</a>
    </div>
  </div>
</footer>
<script src="../../_/js/site.js"></script>
<script async src="../../_/js/vendor/highlight.js"></script>
  </body>
</html>
